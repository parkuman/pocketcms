const __vite__fileDeps=["./FilterAutocompleteInput-4co2Abds.js","./index-BSB2MNyE.js","./CodeEditor-CxQW0jbb.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var rc=Object.defineProperty;var sc=(n,e,t)=>e in n?rc(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Tr=(n,e,t)=>(sc(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function $(){}const Ci=n=>n;function Je(n,e){for(const t in e)n[t]=e[t];return n}function ou(n){return n()}function Is(){return Object.create(null)}function De(n){n.forEach(ou)}function st(n){return typeof n=="function"}function be(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Ai;function sn(n,e){return n===e?!0:(Ai||(Ai=document.createElement("a")),Ai.href=e,n===Ai.href)}function lc(n){return Object.keys(n).length===0}function ss(n,...e){if(n==null){for(const i of e)i(void 0);return $}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function oc(n){let e;return ss(n,t=>e=t)(),e}function Ke(n,e,t){n.$$.on_destroy.push(ss(e,t))}function ut(n,e,t,i){if(n){const r=au(n,e,t,i);return n[0](r)}}function au(n,e,t,i){return n[1]&&i?Je(t.ctx.slice(),n[1](i(e))):t.ctx}function ft(n,e,t,i){if(n[2]&&i){const r=n[2](i(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],l=Math.max(e.dirty.length,r.length);for(let o=0;o<l;o+=1)s[o]=e.dirty[o]|r[o];return s}return e.dirty|r}return e.dirty}function ct(n,e,t,i,r,s){if(r){const l=au(e,t,i,s);n.p(l,r)}}function dt(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function Ti(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function ln(n,e){const t={};e=new Set(e);for(const i in n)!e.has(i)&&i[0]!=="$"&&(t[i]=n[i]);return t}function kn(n){return n??""}function uu(n,e,t){return n.set(t),e}function He(n){return n&&st(n.destroy)?n.destroy:$}function Ns(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const fu=typeof window<"u";let ur=fu?()=>window.performance.now():()=>Date.now(),ls=fu?n=>requestAnimationFrame(n):$;const Bn=new Set;function cu(n){Bn.forEach(e=>{e.c(n)||(Bn.delete(e),e.f())}),Bn.size!==0&&ls(cu)}function fr(n){let e;return Bn.size===0&&ls(cu),{promise:new Promise(t=>{Bn.add(e={c:n,f:t})}),abort(){Bn.delete(e)}}}function C(n,e){n.appendChild(e)}function du(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function ac(n){const e=y("style");return e.textContent="/* empty */",uc(du(n),e),e.sheet}function uc(n,e){return C(n.head||n,e),e.sheet}function v(n,e,t){n.insertBefore(e,t||null)}function k(n){n.parentNode&&n.parentNode.removeChild(n)}function cn(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function y(n){return document.createElement(n)}function re(n){return document.createTextNode(n)}function q(){return re(" ")}function ge(){return re("")}function x(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function Qe(n){return function(e){return e.preventDefault(),n.call(this,e)}}function $t(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function h(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}const fc=["width","height"];function Xi(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const i in e)e[i]==null?n.removeAttribute(i):i==="style"?n.style.cssText=e[i]:i==="__value"?n.value=n[i]=e[i]:t[i]&&t[i].set&&fc.indexOf(i)===-1?n[i]=e[i]:h(n,i,e[i])}function mu(n){return n===""?null:+n}function cc(n){return Array.from(n.childNodes)}function _e(n,e){e=""+e,n.data!==e&&(n.data=e)}function Pe(n,e){n.value=e??""}function dc(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function J(n,e,t){n.classList.toggle(e,!!t)}function hu(n,e,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:i})}function Kt(n,e){return new n(e)}const $i=new Map;let xi=0;function mc(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function hc(n,e){const t={stylesheet:ac(e),rules:{}};return $i.set(n,t),t}function _i(n,e,t,i,r,s,l,o=0){const a=16.666/i;let u=`{
`;for(let _=0;_<=1;_+=a){const b=e+(t-e)*s(_);u+=_*100+`%{${l(b,1-b)}}
`}const f=u+`100% {${l(t,1-t)}}
}`,c=`__svelte_${mc(f)}_${o}`,d=du(n),{stylesheet:m,rules:g}=$i.get(d)||hc(d,n);g[c]||(g[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const p=n.style.animation||"";return n.style.animation=`${p?`${p}, `:""}${c} ${i}ms linear ${r}ms 1 both`,xi+=1,c}function bi(n,e){const t=(n.style.animation||"").split(", "),i=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),r=t.length-i.length;r&&(n.style.animation=i.join(", "),xi-=r,xi||pc())}function pc(){ls(()=>{xi||($i.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&k(e)}),$i.clear())})}function gc(n,e,t,i){if(!e)return $;const r=n.getBoundingClientRect();if(e.left===r.left&&e.right===r.right&&e.top===r.top&&e.bottom===r.bottom)return $;const{delay:s=0,duration:l=300,easing:o=Ci,start:a=ur()+s,end:u=a+l,tick:f=$,css:c}=t(n,{from:e,to:r},i);let d=!0,m=!1,g;function p(){c&&(g=_i(n,0,1,l,s,o,c)),s||(m=!0)}function _(){c&&bi(n,g),d=!1}return fr(b=>{if(!m&&b>=a&&(m=!0),m&&b>=u&&(f(1,0),_()),!d)return!1;if(m){const w=b-a,T=0+1*o(w/l);f(T,1-T)}return!0}),p(),f(0,1),_}function _c(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:i}=e,r=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=i,pu(n,r)}}function pu(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const i=getComputedStyle(n),r=i.transform==="none"?"":i.transform;n.style.transform=`${r} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let yi;function di(n){yi=n}function cr(){if(!yi)throw new Error("Function called outside component initialization");return yi}function Ft(n){cr().$$.on_mount.push(n)}function bc(n){cr().$$.after_update.push(n)}function gu(n){cr().$$.on_destroy.push(n)}function gt(){const n=cr();return(e,t,{cancelable:i=!1}={})=>{const r=n.$$.callbacks[e];if(r){const s=hu(e,t,{cancelable:i});return r.slice().forEach(l=>{l.call(n,s)}),!s.defaultPrevented}return!0}}function Ct(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const zn=[],ue=[];let Kn=[];const Yr=[],_u=Promise.resolve();let Br=!1;function bu(){Br||(Br=!0,_u.then(yu))}function Xt(){return bu(),_u}function ht(n){Kn.push(n)}function Fe(n){Yr.push(n)}const Dr=new Set;let Vn=0;function yu(){if(Vn!==0)return;const n=yi;do{try{for(;Vn<zn.length;){const e=zn[Vn];Vn++,di(e),yc(e.$$)}}catch(e){throw zn.length=0,Vn=0,e}for(di(null),zn.length=0,Vn=0;ue.length;)ue.pop()();for(let e=0;e<Kn.length;e+=1){const t=Kn[e];Dr.has(t)||(Dr.add(t),t())}Kn.length=0}while(zn.length);for(;Yr.length;)Yr.pop()();Br=!1,Dr.clear(),di(n)}function yc(n){if(n.fragment!==null){n.update(),De(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(ht)}}function wc(n){const e=[],t=[];Kn.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),Kn=e}let ai;function os(){return ai||(ai=Promise.resolve(),ai.then(()=>{ai=null})),ai}function Mn(n,e,t){n.dispatchEvent(hu(`${e?"intro":"outro"}${t}`))}const Bi=new Set;let rn;function le(){rn={r:0,c:[],p:rn}}function oe(){rn.r||De(rn.c),rn=rn.p}function O(n,e){n&&n.i&&(Bi.delete(n),n.i(e))}function N(n,e,t,i){if(n&&n.o){if(Bi.has(n))return;Bi.add(n),rn.c.push(()=>{Bi.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}const as={duration:0};function wu(n,e,t){const i={direction:"in"};let r=e(n,t,i),s=!1,l,o,a=0;function u(){l&&bi(n,l)}function f(){const{delay:d=0,duration:m=300,easing:g=Ci,tick:p=$,css:_}=r||as;_&&(l=_i(n,0,1,m,d,g,_,a++)),p(0,1);const b=ur()+d,w=b+m;o&&o.abort(),s=!0,ht(()=>Mn(n,!0,"start")),o=fr(T=>{if(s){if(T>=w)return p(1,0),Mn(n,!0,"end"),u(),s=!1;if(T>=b){const S=g((T-b)/m);p(S,1-S)}}return s})}let c=!1;return{start(){c||(c=!0,bi(n),st(r)?(r=r(i),os().then(f)):f())},invalidate(){c=!1},end(){s&&(u(),s=!1)}}}function us(n,e,t){const i={direction:"out"};let r=e(n,t,i),s=!0,l;const o=rn;o.r+=1;let a;function u(){const{delay:f=0,duration:c=300,easing:d=Ci,tick:m=$,css:g}=r||as;g&&(l=_i(n,1,0,c,f,d,g));const p=ur()+f,_=p+c;ht(()=>Mn(n,!1,"start")),"inert"in n&&(a=n.inert,n.inert=!0),fr(b=>{if(s){if(b>=_)return m(0,1),Mn(n,!1,"end"),--o.r||De(o.c),!1;if(b>=p){const w=d((b-p)/c);m(1-w,w)}}return s})}return st(r)?os().then(()=>{r=r(i),u()}):u(),{end(f){f&&"inert"in n&&(n.inert=a),f&&r.tick&&r.tick(1,0),s&&(l&&bi(n,l),s=!1)}}}function mt(n,e,t,i){let s=e(n,t,{direction:"both"}),l=i?0:1,o=null,a=null,u=null,f;function c(){u&&bi(n,u)}function d(g,p){const _=g.b-l;return p*=Math.abs(_),{a:l,b:g.b,d:_,duration:p,start:g.start,end:g.start+p,group:g.group}}function m(g){const{delay:p=0,duration:_=300,easing:b=Ci,tick:w=$,css:T}=s||as,S={start:ur()+p,b:g};g||(S.group=rn,rn.r+=1),"inert"in n&&(g?f!==void 0&&(n.inert=f):(f=n.inert,n.inert=!0)),o||a?a=S:(T&&(c(),u=_i(n,l,g,_,p,b,T)),g&&w(0,1),o=d(S,_),ht(()=>Mn(n,g,"start")),fr(E=>{if(a&&E>a.start&&(o=d(a,_),a=null,Mn(n,o.b,"start"),T&&(c(),u=_i(n,l,o.b,o.duration,0,b,s.css))),o){if(E>=o.end)w(l=o.b,1-l),Mn(n,o.b,"end"),a||(o.b?c():--o.group.r||De(o.group.c)),o=null;else if(E>=o.start){const F=E-o.start;l=o.a+o.d*b(F/o.duration),w(l,1-l)}}return!!(o||a)}))}return{run(g){st(s)?os().then(()=>{s=s({direction:g?"in":"out"}),m(g)}):m(g)},end(){c(),o=a=null}}}function ke(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function fs(n,e){n.d(1),e.delete(n.key)}function Lt(n,e){N(n,1,1,()=>{e.delete(n.key)})}function kc(n,e){n.f(),Lt(n,e)}function pt(n,e,t,i,r,s,l,o,a,u,f,c){let d=n.length,m=s.length,g=d;const p={};for(;g--;)p[n[g].key]=g;const _=[],b=new Map,w=new Map,T=[];for(g=m;g--;){const L=c(r,s,g),I=t(L);let R=l.get(I);R?T.push(()=>R.p(L,e)):(R=u(I,L),R.c()),b.set(I,_[g]=R),I in p&&w.set(I,Math.abs(g-p[I]))}const S=new Set,E=new Set;function F(L){O(L,1),L.m(o,f),l.set(L.key,L),f=L.first,m--}for(;d&&m;){const L=_[m-1],I=n[d-1],R=L.key,P=I.key;L===I?(f=L.first,d--,m--):b.has(P)?!l.has(R)||S.has(R)?F(L):E.has(P)?d--:w.get(R)>w.get(P)?(E.add(R),F(L)):(S.add(P),d--):(a(I,l),d--)}for(;d--;){const L=n[d];b.has(L.key)||a(L,l)}for(;m;)F(_[m-1]);return De(T),_}function Ht(n,e){const t={},i={},r={$$scope:1};let s=n.length;for(;s--;){const l=n[s],o=e[s];if(o){for(const a in l)a in o||(i[a]=1);for(const a in o)r[a]||(t[a]=o[a],r[a]=1);n[s]=o}else for(const a in l)r[a]=1}for(const l in i)l in t||(t[l]=void 0);return t}function xt(n){return typeof n=="object"&&n!==null?n:{}}function Ae(n,e,t){const i=n.$$.props[e];i!==void 0&&(n.$$.bound[i]=t,t(n.$$.ctx[i]))}function X(n){n&&n.c()}function G(n,e,t){const{fragment:i,after_update:r}=n.$$;i&&i.m(e,t),ht(()=>{const s=n.$$.on_mount.map(ou).filter(st);n.$$.on_destroy?n.$$.on_destroy.push(...s):De(s),n.$$.on_mount=[]}),r.forEach(ht)}function Q(n,e){const t=n.$$;t.fragment!==null&&(wc(t.after_update),De(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function vc(n,e){n.$$.dirty[0]===-1&&(zn.push(n),bu(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ye(n,e,t,i,r,s,l=null,o=[-1]){const a=yi;di(n);const u=n.$$={fragment:null,ctx:[],props:s,update:$,not_equal:r,bound:Is(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Is(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};l&&l(u.root);let f=!1;if(u.ctx=t?t(n,e.props||{},(c,d,...m)=>{const g=m.length?m[0]:d;return u.ctx&&r(u.ctx[c],u.ctx[c]=g)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](g),f&&vc(n,c)),d}):[],u.update(),f=!0,De(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const c=cc(e.target);u.fragment&&u.fragment.l(c),c.forEach(k)}else u.fragment&&u.fragment.c();e.intro&&O(n.$$.fragment),G(n,e.target,e.anchor),yu()}di(a)}class we{constructor(){Tr(this,"$$");Tr(this,"$$set")}$destroy(){Q(this,1),this.$destroy=$}$on(e,t){if(!st(t))return $;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!lc(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Sc="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Sc);const Wn=[];function ku(n,e){return{subscribe:tn(n,e).subscribe}}function tn(n,e=$){let t;const i=new Set;function r(o){if(be(n,o)&&(n=o,t)){const a=!Wn.length;for(const u of i)u[1](),Wn.push(u,n);if(a){for(let u=0;u<Wn.length;u+=2)Wn[u][0](Wn[u+1]);Wn.length=0}}}function s(o){r(o(n))}function l(o,a=$){const u=[o,a];return i.add(u),i.size===1&&(t=e(r,s)||$),o(n),()=>{i.delete(u),i.size===0&&t&&(t(),t=null)}}return{set:r,update:s,subscribe:l}}function vu(n,e,t){const i=!Array.isArray(n),r=i?[n]:n;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return ku(t,(l,o)=>{let a=!1;const u=[];let f=0,c=$;const d=()=>{if(f)return;c();const g=e(i?u[0]:u,l,o);s?l(g):c=st(g)?g:$},m=r.map((g,p)=>ss(g,_=>{u[p]=_,f&=~(1<<p),a&&d()},()=>{f|=1<<p}));return a=!0,d(),function(){De(m),c(),a=!1}})}function Su(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,i,r,s,l=[],o="",a=n.split("/");for(a[0]||a.shift();r=a.shift();)t=r[0],t==="*"?(l.push("wild"),o+="/(.*)"):t===":"?(i=r.indexOf("?",1),s=r.indexOf(".",1),l.push(r.substring(1,~i?i:~s?s:r.length)),o+=~i&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(o+=(~i?"?":"")+"\\"+r.substring(s))):o+="/"+r;return{keys:l,pattern:new RegExp("^"+o+"/?$","i")}}function Cc(n){let e,t,i;const r=[n[2]];var s=n[0];function l(o,a){let u={};for(let f=0;f<r.length;f+=1)u=Je(u,r[f]);return a!==void 0&&a&4&&(u=Je(u,Ht(r,[xt(o[2])]))),{props:u}}return s&&(e=Kt(s,l(n)),e.$on("routeEvent",n[7])),{c(){e&&X(e.$$.fragment),t=ge()},m(o,a){e&&G(e,o,a),v(o,t,a),i=!0},p(o,a){if(a&1&&s!==(s=o[0])){if(e){le();const u=e;N(u.$$.fragment,1,0,()=>{Q(u,1)}),oe()}s?(e=Kt(s,l(o,a)),e.$on("routeEvent",o[7]),X(e.$$.fragment),O(e.$$.fragment,1),G(e,t.parentNode,t)):e=null}else if(s){const u=a&4?Ht(r,[xt(o[2])]):{};e.$set(u)}},i(o){i||(e&&O(e.$$.fragment,o),i=!0)},o(o){e&&N(e.$$.fragment,o),i=!1},d(o){o&&k(t),e&&Q(e,o)}}}function Tc(n){let e,t,i;const r=[{params:n[1]},n[2]];var s=n[0];function l(o,a){let u={};for(let f=0;f<r.length;f+=1)u=Je(u,r[f]);return a!==void 0&&a&6&&(u=Je(u,Ht(r,[a&2&&{params:o[1]},a&4&&xt(o[2])]))),{props:u}}return s&&(e=Kt(s,l(n)),e.$on("routeEvent",n[6])),{c(){e&&X(e.$$.fragment),t=ge()},m(o,a){e&&G(e,o,a),v(o,t,a),i=!0},p(o,a){if(a&1&&s!==(s=o[0])){if(e){le();const u=e;N(u.$$.fragment,1,0,()=>{Q(u,1)}),oe()}s?(e=Kt(s,l(o,a)),e.$on("routeEvent",o[6]),X(e.$$.fragment),O(e.$$.fragment,1),G(e,t.parentNode,t)):e=null}else if(s){const u=a&6?Ht(r,[a&2&&{params:o[1]},a&4&&xt(o[2])]):{};e.$set(u)}},i(o){i||(e&&O(e.$$.fragment,o),i=!0)},o(o){e&&N(e.$$.fragment,o),i=!1},d(o){o&&k(t),e&&Q(e,o)}}}function Dc(n){let e,t,i,r;const s=[Tc,Cc],l=[];function o(a,u){return a[1]?0:1}return e=o(n),t=l[e]=s[e](n),{c(){t.c(),i=ge()},m(a,u){l[e].m(a,u),v(a,i,u),r=!0},p(a,[u]){let f=e;e=o(a),e===f?l[e].p(a,u):(le(),N(l[f],1,1,()=>{l[f]=null}),oe(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&k(i),l[e].d(a)}}}function As(){const n=window.location.href.indexOf("#/");let e=n>-1?window.location.href.substr(n+1):"/";const t=e.indexOf("?");let i="";return t>-1&&(i=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:i}}const dr=ku(null,function(e){e(As());const t=()=>{e(As())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}});vu(dr,n=>n.location);const cs=vu(dr,n=>n.querystring),Ls=tn(void 0);async function er(n){if(!n||n.length<1||n.charAt(0)!="/"&&n.indexOf("#/")!==0)throw Error("Invalid parameter location");await Xt(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(n.charAt(0)=="#"?"":"#")+n}async function Di(n){if(!n||n.length<1||n.charAt(0)!="/"&&n.indexOf("#/")!==0)throw Error("Invalid parameter location");await Xt();const e=(n.charAt(0)=="#"?"":"#")+n;try{const t={...history.state};delete t.__svelte_spa_router_scrollX,delete t.__svelte_spa_router_scrollY,window.history.replaceState(t,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function Ki(n,e){if(e=Ps(e),!n||!n.tagName||n.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Fs(n,e),{update(t){t=Ps(t),Fs(n,t)}}}function Oc(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Fs(n,e){let t=e.href||n.getAttribute("href");if(t&&t.charAt(0)=="/")t="#"+t;else if(!t||t.length<2||t.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+t);n.setAttribute("href",t),n.addEventListener("click",i=>{i.preventDefault(),e.disabled||Ec(i.currentTarget.getAttribute("href"))})}function Ps(n){return n&&typeof n=="string"?{href:n}:n||{}}function Ec(n){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=n}function Mc(n,e,t){let{routes:i={}}=e,{prefix:r=""}=e,{restoreScrollState:s=!1}=e;class l{constructor(E,F){if(!F||typeof F!="function"&&(typeof F!="object"||F._sveltesparouter!==!0))throw Error("Invalid component object");if(!E||typeof E=="string"&&(E.length<1||E.charAt(0)!="/"&&E.charAt(0)!="*")||typeof E=="object"&&!(E instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:L,keys:I}=Su(E);this.path=E,typeof F=="object"&&F._sveltesparouter===!0?(this.component=F.component,this.conditions=F.conditions||[],this.userData=F.userData,this.props=F.props||{}):(this.component=()=>Promise.resolve(F),this.conditions=[],this.props={}),this._pattern=L,this._keys=I}match(E){if(r){if(typeof r=="string")if(E.startsWith(r))E=E.substr(r.length)||"/";else return null;else if(r instanceof RegExp){const R=E.match(r);if(R&&R[0])E=E.substr(R[0].length)||"/";else return null}}const F=this._pattern.exec(E);if(F===null)return null;if(this._keys===!1)return F;const L={};let I=0;for(;I<this._keys.length;){try{L[this._keys[I]]=decodeURIComponent(F[I+1]||"")||null}catch{L[this._keys[I]]=null}I++}return L}async checkConditions(E){for(let F=0;F<this.conditions.length;F++)if(!await this.conditions[F](E))return!1;return!0}}const o=[];i instanceof Map?i.forEach((S,E)=>{o.push(new l(E,S))}):Object.keys(i).forEach(S=>{o.push(new l(S,i[S]))});let a=null,u=null,f={};const c=gt();async function d(S,E){await Xt(),c(S,E)}let m=null,g=null;s&&(g=S=>{S.state&&(S.state.__svelte_spa_router_scrollY||S.state.__svelte_spa_router_scrollX)?m=S.state:m=null},window.addEventListener("popstate",g),bc(()=>{Oc(m)}));let p=null,_=null;const b=dr.subscribe(async S=>{p=S;let E=0;for(;E<o.length;){const F=o[E].match(S.location);if(!F){E++;continue}const L={route:o[E].path,location:S.location,querystring:S.querystring,userData:o[E].userData,params:F&&typeof F=="object"&&Object.keys(F).length?F:null};if(!await o[E].checkConditions(L)){t(0,a=null),_=null,d("conditionsFailed",L);return}d("routeLoading",Object.assign({},L));const I=o[E].component;if(_!=I){I.loading?(t(0,a=I.loading),_=I,t(1,u=I.loadingParams),t(2,f={}),d("routeLoaded",Object.assign({},L,{component:a,name:a.name,params:u}))):(t(0,a=null),_=null);const R=await I();if(S!=p)return;t(0,a=R&&R.default||R),_=I}F&&typeof F=="object"&&Object.keys(F).length?t(1,u=F):t(1,u=null),t(2,f=o[E].props),d("routeLoaded",Object.assign({},L,{component:a,name:a.name,params:u})).then(()=>{Ls.set(u)});return}t(0,a=null),_=null,Ls.set(void 0)});gu(()=>{b(),g&&window.removeEventListener("popstate",g)});function w(S){Ct.call(this,n,S)}function T(S){Ct.call(this,n,S)}return n.$$set=S=>{"routes"in S&&t(3,i=S.routes),"prefix"in S&&t(4,r=S.prefix),"restoreScrollState"in S&&t(5,s=S.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=s?"manual":"auto")},[a,u,f,i,r,s,w,T]}class Ic extends we{constructor(e){super(),ye(this,e,Mc,Dc,be,{routes:3,prefix:4,restoreScrollState:5})}}const Zi=[];let Cu;function Tu(n){const e=n.pattern.test(Cu);Rs(n,n.className,e),Rs(n,n.inactiveClassName,!e)}function Rs(n,e,t){(e||"").split(" ").forEach(i=>{i&&(n.node.classList.remove(i),t&&n.node.classList.add(i))})}dr.subscribe(n=>{Cu=n.location+(n.querystring?"?"+n.querystring:""),Zi.map(Tu)});function qs(n,e){if(e&&(typeof e=="string"||typeof e=="object"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&n.hasAttribute("href")&&(e.path=n.getAttribute("href"),e.path&&e.path.length>1&&e.path.charAt(0)=="#"&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||typeof e.path=="string"&&(e.path.length<1||e.path.charAt(0)!="/"&&e.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:t}=typeof e.path=="string"?Su(e.path):{pattern:e.path},i={node:n,className:e.className,inactiveClassName:e.inactiveClassName,pattern:t};return Zi.push(i),Tu(i),{destroy(){Zi.splice(Zi.indexOf(i),1)}}}function mr(n){const e=n-1;return e*e*e+1}function wi(n,{delay:e=0,duration:t=400,easing:i=Ci}={}){const r=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:i,css:s=>`opacity: ${s*r}`}}function on(n,{delay:e=0,duration:t=400,easing:i=mr,x:r=0,y:s=0,opacity:l=0}={}){const o=getComputedStyle(n),a=+o.opacity,u=o.transform==="none"?"":o.transform,f=a*(1-l),[c,d]=Ns(r),[m,g]=Ns(s);return{delay:e,duration:t,easing:i,css:(p,_)=>`
			transform: ${u} translate(${(1-p)*c}${d}, ${(1-p)*m}${g});
			opacity: ${a-f*_}`}}function Xn(n,{delay:e=0,duration:t=400,easing:i=mr,axis:r="y"}={}){const s=getComputedStyle(n),l=+s.opacity,o=r==="y"?"height":"width",a=parseFloat(s[o]),u=r==="y"?["top","bottom"]:["left","right"],f=u.map(b=>`${b[0].toUpperCase()}${b.slice(1)}`),c=parseFloat(s[`padding${f[0]}`]),d=parseFloat(s[`padding${f[1]}`]),m=parseFloat(s[`margin${f[0]}`]),g=parseFloat(s[`margin${f[1]}`]),p=parseFloat(s[`border${f[0]}Width`]),_=parseFloat(s[`border${f[1]}Width`]);return{delay:e,duration:t,easing:i,css:b=>`overflow: hidden;opacity: ${Math.min(b*20,1)*l};${o}: ${b*a}px;padding-${u[0]}: ${b*c}px;padding-${u[1]}: ${b*d}px;margin-${u[0]}: ${b*m}px;margin-${u[1]}: ${b*g}px;border-${u[0]}-width: ${b*p}px;border-${u[1]}-width: ${b*_}px;`}}function js(n,{delay:e=0,duration:t=400,easing:i=mr,start:r=0,opacity:s=0}={}){const l=getComputedStyle(n),o=+l.opacity,a=l.transform==="none"?"":l.transform,u=1-r,f=o*(1-s);return{delay:e,duration:t,easing:i,css:(c,d)=>`
			transform: ${a} scale(${1-u*d});
			opacity: ${o-f*d}
		`}}class Nn extends Error{}class Nc extends Nn{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Ac extends Nn{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Lc extends Nn{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Yn extends Nn{}class Du extends Nn{constructor(e){super(`Invalid unit ${e}`)}}class Nt extends Nn{}class pn extends Nn{constructor(){super("Zone is an abstract class")}}const se="numeric",en="short",Wt="long",tr={year:se,month:se,day:se},Ou={year:se,month:en,day:se},Fc={year:se,month:en,day:se,weekday:en},Eu={year:se,month:Wt,day:se},Mu={year:se,month:Wt,day:se,weekday:Wt},Iu={hour:se,minute:se},Nu={hour:se,minute:se,second:se},Au={hour:se,minute:se,second:se,timeZoneName:en},Lu={hour:se,minute:se,second:se,timeZoneName:Wt},Fu={hour:se,minute:se,hourCycle:"h23"},Pu={hour:se,minute:se,second:se,hourCycle:"h23"},Ru={hour:se,minute:se,second:se,hourCycle:"h23",timeZoneName:en},qu={hour:se,minute:se,second:se,hourCycle:"h23",timeZoneName:Wt},ju={year:se,month:se,day:se,hour:se,minute:se},Vu={year:se,month:se,day:se,hour:se,minute:se,second:se},Wu={year:se,month:en,day:se,hour:se,minute:se},Hu={year:se,month:en,day:se,hour:se,minute:se,second:se},Pc={year:se,month:en,day:se,weekday:en,hour:se,minute:se},Uu={year:se,month:Wt,day:se,hour:se,minute:se,timeZoneName:en},zu={year:se,month:Wt,day:se,hour:se,minute:se,second:se,timeZoneName:en},Yu={year:se,month:Wt,day:se,weekday:Wt,hour:se,minute:se,timeZoneName:Wt},Bu={year:se,month:Wt,day:se,weekday:Wt,hour:se,minute:se,second:se,timeZoneName:Wt};class Oi{get type(){throw new pn}get name(){throw new pn}get ianaName(){return this.name}get isUniversal(){throw new pn}offsetName(e,t){throw new pn}formatOffset(e,t){throw new pn}offset(e){throw new pn}equals(e){throw new pn}get isValid(){throw new pn}}let Or=null;class hr extends Oi{static get instance(){return Or===null&&(Or=new hr),Or}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return ef(e,t,i)}formatOffset(e,t){return mi(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Ji={};function Rc(n){return Ji[n]||(Ji[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Ji[n]}const qc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function jc(n,e){const t=n.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,r,s,l,o,a,u,f]=i;return[l,r,s,o,a,u,f]}function Vc(n,e){const t=n.formatToParts(e),i=[];for(let r=0;r<t.length;r++){const{type:s,value:l}=t[r],o=qc[s];s==="era"?i[o]=l:Oe(o)||(i[o]=parseInt(l,10))}return i}let Li={};class fn extends Oi{static create(e){return Li[e]||(Li[e]=new fn(e)),Li[e]}static resetCache(){Li={},Ji={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=fn.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return ef(e,t,i,this.name)}formatOffset(e,t){return mi(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const i=Rc(this.name);let[r,s,l,o,a,u,f]=i.formatToParts?Vc(i,t):jc(i,t);o==="BC"&&(r=-Math.abs(r)+1);const d=gr({year:r,month:s,day:l,hour:a===24?0:a,minute:u,second:f,millisecond:0});let m=+t;const g=m%1e3;return m-=g>=0?g:1e3+g,(d-m)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Vs={};function Wc(n,e={}){const t=JSON.stringify([n,e]);let i=Vs[t];return i||(i=new Intl.ListFormat(n,e),Vs[t]=i),i}let Kr={};function Zr(n,e={}){const t=JSON.stringify([n,e]);let i=Kr[t];return i||(i=new Intl.DateTimeFormat(n,e),Kr[t]=i),i}let Jr={};function Hc(n,e={}){const t=JSON.stringify([n,e]);let i=Jr[t];return i||(i=new Intl.NumberFormat(n,e),Jr[t]=i),i}let Gr={};function Uc(n,e={}){const{base:t,...i}=e,r=JSON.stringify([n,i]);let s=Gr[r];return s||(s=new Intl.RelativeTimeFormat(n,e),Gr[r]=s),s}let ci=null;function zc(){return ci||(ci=new Intl.DateTimeFormat().resolvedOptions().locale,ci)}let Ws={};function Yc(n){let e=Ws[n];if(!e){const t=new Intl.Locale(n);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,Ws[n]=e}return e}function Bc(n){const e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));const t=n.indexOf("-u-");if(t===-1)return[n];{let i,r;try{i=Zr(n).resolvedOptions(),r=n}catch{const a=n.substring(0,t);i=Zr(a).resolvedOptions(),r=a}const{numberingSystem:s,calendar:l}=i;return[r,s,l]}}function Kc(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function Zc(n){const e=[];for(let t=1;t<=12;t++){const i=Ee.utc(2009,t,1);e.push(n(i))}return e}function Jc(n){const e=[];for(let t=1;t<=7;t++){const i=Ee.utc(2016,11,13+t);e.push(n(i))}return e}function Fi(n,e,t,i){const r=n.listingMode();return r==="error"?null:r==="en"?t(e):i(e)}function Gc(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}class Qc{constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:s,...l}=i;if(!t||Object.keys(l).length>0){const o={useGrouping:!1,...i};i.padTo>0&&(o.minimumIntegerDigits=i.padTo),this.inf=Hc(e,o)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):ps(e,3);return tt(t,this.padTo)}}}class Xc{constructor(e,t,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const l=-1*(e.offset/60),o=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&fn.create(o).valid?(r=o,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||r,this.dtf=Zr(t,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:i}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class $c{constructor(e,t,i){this.opts={style:"long",...i},!t&&$u()&&(this.rtf=Uc(e,i))}format(e,t){return this.rtf?this.rtf.format(e,t):bd(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const xc={firstDay:1,minimalDays:4,weekend:[6,7]};class Ye{static fromOpts(e){return Ye.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,i,r,s=!1){const l=e||xe.defaultLocale,o=l||(s?"en-US":zc()),a=t||xe.defaultNumberingSystem,u=i||xe.defaultOutputCalendar,f=Qr(r)||xe.defaultWeekSettings;return new Ye(o,a,u,f,l)}static resetCache(){ci=null,Kr={},Jr={},Gr={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:i,weekSettings:r}={}){return Ye.create(e,t,i,r)}constructor(e,t,i,r,s){const[l,o,a]=Bc(e);this.locale=l,this.numberingSystem=t||o||null,this.outputCalendar=i||a||null,this.weekSettings=r,this.intl=Kc(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Gc(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Ye.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Qr(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return Fi(this,e,rf,()=>{const i=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=Zc(s=>this.extract(s,i,"month"))),this.monthsCache[r][e]})}weekdays(e,t=!1){return Fi(this,e,of,()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=Jc(s=>this.extract(s,i,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return Fi(this,void 0,()=>af,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ee.utc(2016,11,13,9),Ee.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Fi(this,e,uf,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[Ee.utc(-40,1,1),Ee.utc(2017,1,1)].map(i=>this.extract(i,t,"era"))),this.eraCache[e]})}extract(e,t,i){const r=this.dtFormatter(e,t),s=r.formatToParts(),l=s.find(o=>o.type.toLowerCase()===i);return l?l.value:null}numberFormatter(e={}){return new Qc(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Xc(e,this.intl,t)}relFormatter(e={}){return new $c(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Wc(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:xu()?Yc(this.locale):xc}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let Er=null;class Et extends Oi{static get utcInstance(){return Er===null&&(Er=new Et(0)),Er}static instance(e){return e===0?Et.utcInstance:new Et(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Et(_r(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${mi(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${mi(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return mi(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class ed extends Oi{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function yn(n,e){if(Oe(n)||n===null)return e;if(n instanceof Oi)return n;if(id(n)){const t=n.toLowerCase();return t==="default"?e:t==="local"||t==="system"?hr.instance:t==="utc"||t==="gmt"?Et.utcInstance:Et.parseSpecifier(t)||fn.create(n)}else return In(n)?Et.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new ed(n)}let Hs=()=>Date.now(),Us="system",zs=null,Ys=null,Bs=null,Ks=60,Zs,Js=null;class xe{static get now(){return Hs}static set now(e){Hs=e}static set defaultZone(e){Us=e}static get defaultZone(){return yn(Us,hr.instance)}static get defaultLocale(){return zs}static set defaultLocale(e){zs=e}static get defaultNumberingSystem(){return Ys}static set defaultNumberingSystem(e){Ys=e}static get defaultOutputCalendar(){return Bs}static set defaultOutputCalendar(e){Bs=e}static get defaultWeekSettings(){return Js}static set defaultWeekSettings(e){Js=Qr(e)}static get twoDigitCutoffYear(){return Ks}static set twoDigitCutoffYear(e){Ks=e%100}static get throwOnInvalid(){return Zs}static set throwOnInvalid(e){Zs=e}static resetCaches(){Ye.resetCache(),fn.resetCache()}}class Qt{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Ku=[0,31,59,90,120,151,181,212,243,273,304,334],Zu=[0,31,60,91,121,152,182,213,244,274,305,335];function Yt(n,e){return new Qt("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function ds(n,e,t){const i=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const r=i.getUTCDay();return r===0?7:r}function Ju(n,e,t){return t+(Ei(n)?Zu:Ku)[e-1]}function Gu(n,e){const t=Ei(n)?Zu:Ku,i=t.findIndex(s=>s<e),r=e-t[i];return{month:i+1,day:r}}function ms(n,e){return(n-e+7)%7+1}function nr(n,e=4,t=1){const{year:i,month:r,day:s}=n,l=Ju(i,r,s),o=ms(ds(i,r,s),t);let a=Math.floor((l-o+14-e)/7),u;return a<1?(u=i-1,a=ki(u,e,t)):a>ki(i,e,t)?(u=i+1,a=1):u=i,{weekYear:u,weekNumber:a,weekday:o,...br(n)}}function Gs(n,e=4,t=1){const{weekYear:i,weekNumber:r,weekday:s}=n,l=ms(ds(i,1,e),t),o=Zn(i);let a=r*7+s-l-7+e,u;a<1?(u=i-1,a+=Zn(u)):a>o?(u=i+1,a-=Zn(i)):u=i;const{month:f,day:c}=Gu(u,a);return{year:u,month:f,day:c,...br(n)}}function Mr(n){const{year:e,month:t,day:i}=n,r=Ju(e,t,i);return{year:e,ordinal:r,...br(n)}}function Qs(n){const{year:e,ordinal:t}=n,{month:i,day:r}=Gu(e,t);return{year:e,month:i,day:r,...br(n)}}function Xs(n,e){if(!Oe(n.localWeekday)||!Oe(n.localWeekNumber)||!Oe(n.localWeekYear)){if(!Oe(n.weekday)||!Oe(n.weekNumber)||!Oe(n.weekYear))throw new Yn("Cannot mix locale-based week fields with ISO-based week fields");return Oe(n.localWeekday)||(n.weekday=n.localWeekday),Oe(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),Oe(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function td(n,e=4,t=1){const i=pr(n.weekYear),r=Bt(n.weekNumber,1,ki(n.weekYear,e,t)),s=Bt(n.weekday,1,7);return i?r?s?!1:Yt("weekday",n.weekday):Yt("week",n.weekNumber):Yt("weekYear",n.weekYear)}function nd(n){const e=pr(n.year),t=Bt(n.ordinal,1,Zn(n.year));return e?t?!1:Yt("ordinal",n.ordinal):Yt("year",n.year)}function Qu(n){const e=pr(n.year),t=Bt(n.month,1,12),i=Bt(n.day,1,ir(n.year,n.month));return e?t?i?!1:Yt("day",n.day):Yt("month",n.month):Yt("year",n.year)}function Xu(n){const{hour:e,minute:t,second:i,millisecond:r}=n,s=Bt(e,0,23)||e===24&&t===0&&i===0&&r===0,l=Bt(t,0,59),o=Bt(i,0,59),a=Bt(r,0,999);return s?l?o?a?!1:Yt("millisecond",r):Yt("second",i):Yt("minute",t):Yt("hour",e)}function Oe(n){return typeof n>"u"}function In(n){return typeof n=="number"}function pr(n){return typeof n=="number"&&n%1===0}function id(n){return typeof n=="string"}function rd(n){return Object.prototype.toString.call(n)==="[object Date]"}function $u(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function xu(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function sd(n){return Array.isArray(n)?n:[n]}function $s(n,e,t){if(n.length!==0)return n.reduce((i,r)=>{const s=[e(r),r];return i&&t(i[0],s[0])===i[0]?i:s},null)[1]}function ld(n,e){return e.reduce((t,i)=>(t[i]=n[i],t),{})}function $n(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Qr(n){if(n==null)return null;if(typeof n!="object")throw new Nt("Week settings must be an object");if(!Bt(n.firstDay,1,7)||!Bt(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(e=>!Bt(e,1,7)))throw new Nt("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function Bt(n,e,t){return pr(n)&&n>=e&&n<=t}function od(n,e){return n-e*Math.floor(n/e)}function tt(n,e=2){const t=n<0;let i;return t?i="-"+(""+-n).padStart(e,"0"):i=(""+n).padStart(e,"0"),i}function _n(n){if(!(Oe(n)||n===null||n===""))return parseInt(n,10)}function Sn(n){if(!(Oe(n)||n===null||n===""))return parseFloat(n)}function hs(n){if(!(Oe(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function ps(n,e,t=!1){const i=10**e;return(t?Math.trunc:Math.round)(n*i)/i}function Ei(n){return n%4===0&&(n%100!==0||n%400===0)}function Zn(n){return Ei(n)?366:365}function ir(n,e){const t=od(e-1,12)+1,i=n+(e-t)/12;return t===2?Ei(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function gr(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function xs(n,e,t){return-ms(ds(n,1,e),t)+e-1}function ki(n,e=4,t=1){const i=xs(n,e,t),r=xs(n+1,e,t);return(Zn(n)-i+r)/7}function Xr(n){return n>99?n:n>xe.twoDigitCutoffYear?1900+n:2e3+n}function ef(n,e,t,i=null){const r=new Date(n),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(s.timeZone=i);const l={timeZoneName:e,...s},o=new Intl.DateTimeFormat(t,l).formatToParts(r).find(a=>a.type.toLowerCase()==="timezonename");return o?o.value:null}function _r(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const i=parseInt(e,10)||0,r=t<0||Object.is(t,-0)?-i:i;return t*60+r}function tf(n){const e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new Nt(`Invalid unit value ${n}`);return e}function rr(n,e){const t={};for(const i in n)if($n(n,i)){const r=n[i];if(r==null)continue;t[e(i)]=tf(r)}return t}function mi(n,e){const t=Math.trunc(Math.abs(n/60)),i=Math.trunc(Math.abs(n%60)),r=n>=0?"+":"-";switch(e){case"short":return`${r}${tt(t,2)}:${tt(i,2)}`;case"narrow":return`${r}${t}${i>0?`:${i}`:""}`;case"techie":return`${r}${tt(t,2)}${tt(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function br(n){return ld(n,["hour","minute","second","millisecond"])}const ad=["January","February","March","April","May","June","July","August","September","October","November","December"],nf=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ud=["J","F","M","A","M","J","J","A","S","O","N","D"];function rf(n){switch(n){case"narrow":return[...ud];case"short":return[...nf];case"long":return[...ad];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const sf=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],lf=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],fd=["M","T","W","T","F","S","S"];function of(n){switch(n){case"narrow":return[...fd];case"short":return[...lf];case"long":return[...sf];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const af=["AM","PM"],cd=["Before Christ","Anno Domini"],dd=["BC","AD"],md=["B","A"];function uf(n){switch(n){case"narrow":return[...md];case"short":return[...dd];case"long":return[...cd];default:return null}}function hd(n){return af[n.hour<12?0:1]}function pd(n,e){return of(e)[n.weekday-1]}function gd(n,e){return rf(e)[n.month-1]}function _d(n,e){return uf(e)[n.year<0?0:1]}function bd(n,e,t="always",i=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&s){const c=n==="days";switch(e){case 1:return c?"tomorrow":`next ${r[n][0]}`;case-1:return c?"yesterday":`last ${r[n][0]}`;case 0:return c?"today":`this ${r[n][0]}`}}const l=Object.is(e,-0)||e<0,o=Math.abs(e),a=o===1,u=r[n],f=i?a?u[1]:u[2]||u[1]:a?r[n][0]:n;return l?`${o} ${f} ago`:`in ${o} ${f}`}function el(n,e){let t="";for(const i of n)i.literal?t+=i.val:t+=e(i.val);return t}const yd={D:tr,DD:Ou,DDD:Eu,DDDD:Mu,t:Iu,tt:Nu,ttt:Au,tttt:Lu,T:Fu,TT:Pu,TTT:Ru,TTTT:qu,f:ju,ff:Wu,fff:Uu,ffff:Yu,F:Vu,FF:Hu,FFF:zu,FFFF:Bu};class St{static create(e,t={}){return new St(e,t)}static parseFormat(e){let t=null,i="",r=!1;const s=[];for(let l=0;l<e.length;l++){const o=e.charAt(l);o==="'"?(i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),t=null,i="",r=!r):r||o===t?i+=o:(i.length>0&&s.push({literal:/^\s+$/.test(i),val:i}),i=o,t=o)}return i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),s}static macroTokenToFormatOpts(e){return yd[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return tt(e,t);const i={...this.opts};return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(m,g)=>this.loc.extract(e,m,g),l=m=>e.isOffsetFixed&&e.offset===0&&m.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,m.format):"",o=()=>i?hd(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(m,g)=>i?gd(e,m):s(g?{month:m}:{month:m,day:"numeric"},"month"),u=(m,g)=>i?pd(e,m):s(g?{weekday:m}:{weekday:m,month:"long",day:"numeric"},"weekday"),f=m=>{const g=St.macroTokenToFormatOpts(m);return g?this.formatWithSystemDefault(e,g):m},c=m=>i?_d(e,m):s({era:m},"era"),d=m=>{switch(m){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return r?s({day:"numeric"},"day"):this.num(e.day);case"dd":return r?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return r?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return r?s({month:"numeric"},"month"):this.num(e.month);case"MM":return r?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return r?s({year:"numeric"},"year"):this.num(e.year);case"yy":return r?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(m)}};return el(St.parseFormat(t),d)}formatDurationFromString(e,t){const i=a=>{switch(a[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=a=>u=>{const f=i(u);return f?this.num(a.get(f),u.length):u},s=St.parseFormat(t),l=s.reduce((a,{literal:u,val:f})=>u?a:a.concat(f),[]),o=e.shiftTo(...l.map(i).filter(a=>a));return el(s,r(o))}}const ff=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function xn(...n){const e=n.reduce((t,i)=>t+i.source,"");return RegExp(`^${e}$`)}function ei(...n){return e=>n.reduce(([t,i,r],s)=>{const[l,o,a]=s(e,r);return[{...t,...l},o||i,a]},[{},null,1]).slice(0,2)}function ti(n,...e){if(n==null)return[null,null];for(const[t,i]of e){const r=t.exec(n);if(r)return i(r)}return[null,null]}function cf(...n){return(e,t)=>{const i={};let r;for(r=0;r<n.length;r++)i[n[r]]=_n(e[t+r]);return[i,null,t+r]}}const df=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,wd=`(?:${df.source}?(?:\\[(${ff.source})\\])?)?`,gs=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,mf=RegExp(`${gs.source}${wd}`),_s=RegExp(`(?:T${mf.source})?`),kd=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,vd=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Sd=/(\d{4})-?(\d{3})/,Cd=cf("weekYear","weekNumber","weekDay"),Td=cf("year","ordinal"),Dd=/(\d{4})-(\d\d)-(\d\d)/,hf=RegExp(`${gs.source} ?(?:${df.source}|(${ff.source}))?`),Od=RegExp(`(?: ${hf.source})?`);function Jn(n,e,t){const i=n[e];return Oe(i)?t:_n(i)}function Ed(n,e){return[{year:Jn(n,e),month:Jn(n,e+1,1),day:Jn(n,e+2,1)},null,e+3]}function ni(n,e){return[{hours:Jn(n,e,0),minutes:Jn(n,e+1,0),seconds:Jn(n,e+2,0),milliseconds:hs(n[e+3])},null,e+4]}function Mi(n,e){const t=!n[e]&&!n[e+1],i=_r(n[e+1],n[e+2]),r=t?null:Et.instance(i);return[{},r,e+3]}function Ii(n,e){const t=n[e]?fn.create(n[e]):null;return[{},t,e+1]}const Md=RegExp(`^T?${gs.source}$`),Id=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Nd(n){const[e,t,i,r,s,l,o,a,u]=n,f=e[0]==="-",c=a&&a[0]==="-",d=(m,g=!1)=>m!==void 0&&(g||m&&f)?-m:m;return[{years:d(Sn(t)),months:d(Sn(i)),weeks:d(Sn(r)),days:d(Sn(s)),hours:d(Sn(l)),minutes:d(Sn(o)),seconds:d(Sn(a),a==="-0"),milliseconds:d(hs(u),c)}]}const Ad={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function bs(n,e,t,i,r,s,l){const o={year:e.length===2?Xr(_n(e)):_n(e),month:nf.indexOf(t)+1,day:_n(i),hour:_n(r),minute:_n(s)};return l&&(o.second=_n(l)),n&&(o.weekday=n.length>3?sf.indexOf(n)+1:lf.indexOf(n)+1),o}const Ld=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Fd(n){const[,e,t,i,r,s,l,o,a,u,f,c]=n,d=bs(e,r,i,t,s,l,o);let m;return a?m=Ad[a]:u?m=0:m=_r(f,c),[d,new Et(m)]}function Pd(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Rd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,qd=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,jd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function tl(n){const[,e,t,i,r,s,l,o]=n;return[bs(e,r,i,t,s,l,o),Et.utcInstance]}function Vd(n){const[,e,t,i,r,s,l,o]=n;return[bs(e,o,t,i,r,s,l),Et.utcInstance]}const Wd=xn(kd,_s),Hd=xn(vd,_s),Ud=xn(Sd,_s),zd=xn(mf),pf=ei(Ed,ni,Mi,Ii),Yd=ei(Cd,ni,Mi,Ii),Bd=ei(Td,ni,Mi,Ii),Kd=ei(ni,Mi,Ii);function Zd(n){return ti(n,[Wd,pf],[Hd,Yd],[Ud,Bd],[zd,Kd])}function Jd(n){return ti(Pd(n),[Ld,Fd])}function Gd(n){return ti(n,[Rd,tl],[qd,tl],[jd,Vd])}function Qd(n){return ti(n,[Id,Nd])}const Xd=ei(ni);function $d(n){return ti(n,[Md,Xd])}const xd=xn(Dd,Od),em=xn(hf),tm=ei(ni,Mi,Ii);function nm(n){return ti(n,[xd,pf],[em,tm])}const nl="Invalid Duration",gf={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},im={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...gf},Ut=146097/400,Hn=146097/4800,rm={years:{quarters:4,months:12,weeks:Ut/7,days:Ut,hours:Ut*24,minutes:Ut*24*60,seconds:Ut*24*60*60,milliseconds:Ut*24*60*60*1e3},quarters:{months:3,weeks:Ut/28,days:Ut/4,hours:Ut*24/4,minutes:Ut*24*60/4,seconds:Ut*24*60*60/4,milliseconds:Ut*24*60*60*1e3/4},months:{weeks:Hn/7,days:Hn,hours:Hn*24,minutes:Hn*24*60,seconds:Hn*24*60*60,milliseconds:Hn*24*60*60*1e3},...gf},En=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],sm=En.slice(0).reverse();function gn(n,e,t=!1){const i={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new Re(i)}function _f(n,e){let t=e.milliseconds??0;for(const i of sm.slice(1))e[i]&&(t+=e[i]*n[i].milliseconds);return t}function il(n,e){const t=_f(n,e)<0?-1:1;En.reduceRight((i,r)=>{if(Oe(e[r]))return i;if(i){const s=e[i]*t,l=n[r][i],o=Math.floor(s/l);e[r]+=o*t,e[i]-=o*l*t}return r},null),En.reduce((i,r)=>{if(Oe(e[r]))return i;if(i){const s=e[i]%1;e[i]-=s,e[r]+=s*n[i][r]}return r},null)}function lm(n){const e={};for(const[t,i]of Object.entries(n))i!==0&&(e[t]=i);return e}class Re{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let i=t?rm:im;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||Ye.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,t){return Re.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Nt(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Re({values:rr(e,Re.normalizeUnit),loc:Ye.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(In(e))return Re.fromMillis(e);if(Re.isDuration(e))return e;if(typeof e=="object")return Re.fromObject(e);throw new Nt(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[i]=Qd(e);return i?Re.fromObject(i,t):Re.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[i]=$d(e);return i?Re.fromObject(i,t):Re.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Nt("need to specify a reason the Duration is invalid");const i=e instanceof Qt?e:new Qt(e,t);if(xe.throwOnInvalid)throw new Lc(i);return new Re({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new Du(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const i={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?St.create(this.loc,i).formatDurationFromString(this,e):nl}toHuman(e={}){if(!this.isValid)return nl;const t=En.map(i=>{const r=this.values[i];return Oe(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(r)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=ps(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Ee.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?_f(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Re.fromDurationLike(e),i={};for(const r of En)($n(t.values,r)||$n(this.values,r))&&(i[r]=t.get(r)+this.get(r));return gn(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=Re.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=tf(e(this.values[i],i));return gn(this,{values:t},!0)}get(e){return this[Re.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...rr(e,Re.normalizeUnit)};return gn(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:i,matrix:r}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:i};return gn(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return il(this.matrix,e),gn(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=lm(this.normalize().shiftToAll().toObject());return gn(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>Re.normalizeUnit(l));const t={},i={},r=this.toObject();let s;for(const l of En)if(e.indexOf(l)>=0){s=l;let o=0;for(const u in i)o+=this.matrix[u][l]*i[u],i[u]=0;In(r[l])&&(o+=r[l]);const a=Math.trunc(o);t[l]=a,i[l]=(o*1e3-a*1e3)/1e3}else In(r[l])&&(i[l]=r[l]);for(const l in i)i[l]!==0&&(t[s]+=l===s?i[l]:i[l]/this.matrix[s][l]);return il(this.matrix,t),gn(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return gn(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(const i of En)if(!t(this.values[i],e.values[i]))return!1;return!0}}const Un="Invalid Interval";function om(n,e){return!n||!n.isValid?$e.invalid("missing or invalid start"):!e||!e.isValid?$e.invalid("missing or invalid end"):e<n?$e.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}class $e{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Nt("need to specify a reason the Interval is invalid");const i=e instanceof Qt?e:new Qt(e,t);if(xe.throwOnInvalid)throw new Ac(i);return new $e({invalid:i})}static fromDateTimes(e,t){const i=fi(e),r=fi(t),s=om(i,r);return s??new $e({start:i,end:r})}static after(e,t){const i=Re.fromDurationLike(t),r=fi(e);return $e.fromDateTimes(r,r.plus(i))}static before(e,t){const i=Re.fromDurationLike(t),r=fi(e);return $e.fromDateTimes(r.minus(i),r)}static fromISO(e,t){const[i,r]=(e||"").split("/",2);if(i&&r){let s,l;try{s=Ee.fromISO(i,t),l=s.isValid}catch{l=!1}let o,a;try{o=Ee.fromISO(r,t),a=o.isValid}catch{a=!1}if(l&&a)return $e.fromDateTimes(s,o);if(l){const u=Re.fromISO(r,t);if(u.isValid)return $e.after(s,u)}else if(a){const u=Re.fromISO(i,t);if(u.isValid)return $e.before(o,u)}}return $e.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const i=this.start.startOf(e,t);let r;return t!=null&&t.useLocaleWeeks?r=this.end.reconfigure({locale:i.locale}):r=this.end,r=r.startOf(e,t),Math.floor(r.diff(i,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?$e.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(fi).filter(l=>this.contains(l)).sort((l,o)=>l.toMillis()-o.toMillis()),i=[];let{s:r}=this,s=0;for(;r<this.e;){const l=t[s]||this.e,o=+l>+this.e?this.e:l;i.push($e.fromDateTimes(r,o)),r=o,s+=1}return i}splitBy(e){const t=Re.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:i}=this,r=1,s;const l=[];for(;i<this.e;){const o=this.start.plus(t.mapUnits(a=>a*r));s=+o>+this.e?this.e:o,l.push($e.fromDateTimes(i,s)),i=s,r+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:$e.fromDateTimes(t,i)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return $e.fromDateTimes(t,i)}static merge(e){const[t,i]=e.sort((r,s)=>r.s-s.s).reduce(([r,s],l)=>s?s.overlaps(l)||s.abutsStart(l)?[r,s.union(l)]:[r.concat([s]),l]:[r,l],[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const r=[],s=e.map(a=>[{time:a.s,type:"s"},{time:a.e,type:"e"}]),l=Array.prototype.concat(...s),o=l.sort((a,u)=>a.time-u.time);for(const a of o)i+=a.type==="s"?1:-1,i===1?t=a.time:(t&&+t!=+a.time&&r.push($e.fromDateTimes(t,a.time)),t=null);return $e.merge(r)}difference(...e){return $e.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Un}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=tr,t={}){return this.isValid?St.create(this.s.loc.clone(t),e).formatInterval(this):Un}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Un}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Un}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Un}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Un}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Re.invalid(this.invalidReason)}mapEndpoints(e){return $e.fromDateTimes(e(this.s),e(this.e))}}class Pi{static hasDST(e=xe.defaultZone){const t=Ee.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return fn.isValidZone(e)}static normalizeZone(e){return yn(e,xe.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||Ye.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||Ye.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||Ye.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Ye.create(t,i,s)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Ye.create(t,i,s)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Ye.create(t,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Ye.create(t,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Ye.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return Ye.create(t,null,"gregory").eras(e)}static features(){return{relative:$u(),localeWeek:xu()}}}function rl(n,e){const t=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=t(e)-t(n);return Math.floor(Re.fromMillis(i).as("days"))}function am(n,e,t){const i=[["years",(a,u)=>u.year-a.year],["quarters",(a,u)=>u.quarter-a.quarter+(u.year-a.year)*4],["months",(a,u)=>u.month-a.month+(u.year-a.year)*12],["weeks",(a,u)=>{const f=rl(a,u);return(f-f%7)/7}],["days",rl]],r={},s=n;let l,o;for(const[a,u]of i)t.indexOf(a)>=0&&(l=a,r[a]=u(n,e),o=s.plus(r),o>e?(r[a]--,n=s.plus(r),n>e&&(o=n,r[a]--,n=s.plus(r))):n=o);return[n,r,o,l]}function um(n,e,t,i){let[r,s,l,o]=am(n,e,t);const a=e-r,u=t.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);u.length===0&&(l<e&&(l=r.plus({[o]:1})),l!==r&&(s[o]=(s[o]||0)+a/(l-r)));const f=Re.fromObject(s,i);return u.length>0?Re.fromMillis(a,i).shiftTo(...u).plus(f):f}const ys={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},sl={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},fm=ys.hanidec.replace(/[\[|\]]/g,"").split("");function cm(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);if(n[t].search(ys.hanidec)!==-1)e+=fm.indexOf(n[t]);else for(const r in sl){const[s,l]=sl[r];i>=s&&i<=l&&(e+=i-s)}}return parseInt(e,10)}else return e}function Jt({numberingSystem:n},e=""){return new RegExp(`${ys[n||"latn"]}${e}`)}const dm="missing Intl.DateTimeFormat.formatToParts support";function Ve(n,e=t=>t){return{regex:n,deser:([t])=>e(cm(t))}}const mm=" ",bf=`[ ${mm}]`,yf=new RegExp(bf,"g");function hm(n){return n.replace(/\./g,"\\.?").replace(yf,bf)}function ll(n){return n.replace(/\./g,"").replace(yf," ").toLowerCase()}function Gt(n,e){return n===null?null:{regex:RegExp(n.map(hm).join("|")),deser:([t])=>n.findIndex(i=>ll(t)===ll(i))+e}}function ol(n,e){return{regex:n,deser:([,t,i])=>_r(t,i),groups:e}}function Ri(n){return{regex:n,deser:([e])=>e}}function pm(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function gm(n,e){const t=Jt(e),i=Jt(e,"{2}"),r=Jt(e,"{3}"),s=Jt(e,"{4}"),l=Jt(e,"{6}"),o=Jt(e,"{1,2}"),a=Jt(e,"{1,3}"),u=Jt(e,"{1,6}"),f=Jt(e,"{1,9}"),c=Jt(e,"{2,4}"),d=Jt(e,"{4,6}"),m=_=>({regex:RegExp(pm(_.val)),deser:([b])=>b,literal:!0}),p=(_=>{if(n.literal)return m(_);switch(_.val){case"G":return Gt(e.eras("short"),0);case"GG":return Gt(e.eras("long"),0);case"y":return Ve(u);case"yy":return Ve(c,Xr);case"yyyy":return Ve(s);case"yyyyy":return Ve(d);case"yyyyyy":return Ve(l);case"M":return Ve(o);case"MM":return Ve(i);case"MMM":return Gt(e.months("short",!0),1);case"MMMM":return Gt(e.months("long",!0),1);case"L":return Ve(o);case"LL":return Ve(i);case"LLL":return Gt(e.months("short",!1),1);case"LLLL":return Gt(e.months("long",!1),1);case"d":return Ve(o);case"dd":return Ve(i);case"o":return Ve(a);case"ooo":return Ve(r);case"HH":return Ve(i);case"H":return Ve(o);case"hh":return Ve(i);case"h":return Ve(o);case"mm":return Ve(i);case"m":return Ve(o);case"q":return Ve(o);case"qq":return Ve(i);case"s":return Ve(o);case"ss":return Ve(i);case"S":return Ve(a);case"SSS":return Ve(r);case"u":return Ri(f);case"uu":return Ri(o);case"uuu":return Ve(t);case"a":return Gt(e.meridiems(),0);case"kkkk":return Ve(s);case"kk":return Ve(c,Xr);case"W":return Ve(o);case"WW":return Ve(i);case"E":case"c":return Ve(t);case"EEE":return Gt(e.weekdays("short",!1),1);case"EEEE":return Gt(e.weekdays("long",!1),1);case"ccc":return Gt(e.weekdays("short",!0),1);case"cccc":return Gt(e.weekdays("long",!0),1);case"Z":case"ZZ":return ol(new RegExp(`([+-]${o.source})(?::(${i.source}))?`),2);case"ZZZ":return ol(new RegExp(`([+-]${o.source})(${i.source})?`),2);case"z":return Ri(/[a-z_+-/]{1,256}?/i);case" ":return Ri(/[^\S\n\r]/);default:return m(_)}})(n)||{invalidReason:dm};return p.token=n,p}const _m={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function bm(n,e,t){const{type:i,value:r}=n;if(i==="literal"){const a=/^\s+$/.test(r);return{literal:!a,val:a?" ":r}}const s=e[i];let l=i;i==="hour"&&(e.hour12!=null?l=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?l="hour12":l="hour24":l=t.hour12?"hour12":"hour24");let o=_m[l];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function ym(n){return[`^${n.map(t=>t.regex).reduce((t,i)=>`${t}(${i.source})`,"")}$`,n]}function wm(n,e,t){const i=n.match(e);if(i){const r={};let s=1;for(const l in t)if($n(t,l)){const o=t[l],a=o.groups?o.groups+1:1;!o.literal&&o.token&&(r[o.token.val[0]]=o.deser(i.slice(s,s+a))),s+=a}return[i,r]}else return[i,{}]}function km(n){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,i;return Oe(n.z)||(t=fn.create(n.z)),Oe(n.Z)||(t||(t=new Et(n.Z)),i=n.Z),Oe(n.q)||(n.M=(n.q-1)*3+1),Oe(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),Oe(n.u)||(n.S=hs(n.u)),[Object.keys(n).reduce((s,l)=>{const o=e(l);return o&&(s[o]=n[l]),s},{}),t,i]}let Ir=null;function vm(){return Ir||(Ir=Ee.fromMillis(1555555555555)),Ir}function Sm(n,e){if(n.literal)return n;const t=St.macroTokenToFormatOpts(n.val),i=vf(t,e);return i==null||i.includes(void 0)?n:i}function wf(n,e){return Array.prototype.concat(...n.map(t=>Sm(t,e)))}function kf(n,e,t){const i=wf(St.parseFormat(t),n),r=i.map(l=>gm(l,n)),s=r.find(l=>l.invalidReason);if(s)return{input:e,tokens:i,invalidReason:s.invalidReason};{const[l,o]=ym(r),a=RegExp(l,"i"),[u,f]=wm(e,a,o),[c,d,m]=f?km(f):[null,null,void 0];if($n(f,"a")&&$n(f,"H"))throw new Yn("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:i,regex:a,rawMatches:u,matches:f,result:c,zone:d,specificOffset:m}}}function Cm(n,e,t){const{result:i,zone:r,specificOffset:s,invalidReason:l}=kf(n,e,t);return[i,r,s,l]}function vf(n,e){if(!n)return null;const i=St.create(e,n).dtFormatter(vm()),r=i.formatToParts(),s=i.resolvedOptions();return r.map(l=>bm(l,n,s))}const Nr="Invalid DateTime",al=864e13;function qi(n){return new Qt("unsupported zone",`the zone "${n.name}" is not supported`)}function Ar(n){return n.weekData===null&&(n.weekData=nr(n.c)),n.weekData}function Lr(n){return n.localWeekData===null&&(n.localWeekData=nr(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function Cn(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new Ee({...t,...e,old:t})}function Sf(n,e,t){let i=n-e*60*1e3;const r=t.offset(i);if(e===r)return[i,e];i-=(r-e)*60*1e3;const s=t.offset(i);return r===s?[i,r]:[n-Math.min(r,s)*60*1e3,Math.max(r,s)]}function ji(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function Gi(n,e,t){return Sf(gr(n),e,t)}function ul(n,e){const t=n.o,i=n.c.year+Math.trunc(e.years),r=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...n.c,year:i,month:r,day:Math.min(n.c.day,ir(i,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=Re.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=gr(s);let[a,u]=Sf(o,t,n.zone);return l!==0&&(a+=l,u=n.zone.offset(a)),{ts:a,o:u}}function ui(n,e,t,i,r,s){const{setZone:l,zone:o}=t;if(n&&Object.keys(n).length!==0||e){const a=e||o,u=Ee.fromObject(n,{...t,zone:a,specificOffset:s});return l?u:u.setZone(o)}else return Ee.invalid(new Qt("unparsable",`the input "${r}" can't be parsed as ${i}`))}function Vi(n,e,t=!0){return n.isValid?St.create(Ye.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function Fr(n,e){const t=n.c.year>9999||n.c.year<0;let i="";return t&&n.c.year>=0&&(i+="+"),i+=tt(n.c.year,t?6:4),e?(i+="-",i+=tt(n.c.month),i+="-",i+=tt(n.c.day)):(i+=tt(n.c.month),i+=tt(n.c.day)),i}function fl(n,e,t,i,r,s){let l=tt(n.c.hour);return e?(l+=":",l+=tt(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(l+=":")):l+=tt(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(l+=tt(n.c.second),(n.c.millisecond!==0||!i)&&(l+=".",l+=tt(n.c.millisecond,3))),r&&(n.isOffsetFixed&&n.offset===0&&!s?l+="Z":n.o<0?(l+="-",l+=tt(Math.trunc(-n.o/60)),l+=":",l+=tt(Math.trunc(-n.o%60))):(l+="+",l+=tt(Math.trunc(n.o/60)),l+=":",l+=tt(Math.trunc(n.o%60)))),s&&(l+="["+n.zone.ianaName+"]"),l}const Cf={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Tm={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Dm={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Tf=["year","month","day","hour","minute","second","millisecond"],Om=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Em=["year","ordinal","hour","minute","second","millisecond"];function Mm(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new Du(n);return e}function cl(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Mm(n)}}function dl(n,e){const t=yn(e.zone,xe.defaultZone),i=Ye.fromObject(e),r=xe.now();let s,l;if(Oe(n.year))s=r;else{for(const u of Tf)Oe(n[u])&&(n[u]=Cf[u]);const o=Qu(n)||Xu(n);if(o)return Ee.invalid(o);const a=t.offset(r);[s,l]=Gi(n,a,t)}return new Ee({ts:s,zone:t,loc:i,o:l})}function ml(n,e,t){const i=Oe(t.round)?!0:t.round,r=(l,o)=>(l=ps(l,i||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(l,o)),s=l=>t.calendary?e.hasSame(n,l)?0:e.startOf(l).diff(n.startOf(l),l).get(l):e.diff(n,l).get(l);if(t.unit)return r(s(t.unit),t.unit);for(const l of t.units){const o=s(l);if(Math.abs(o)>=1)return r(o,l)}return r(n>e?-0:0,t.units[t.units.length-1])}function hl(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}class Ee{constructor(e){const t=e.zone||xe.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Qt("invalid input"):null)||(t.isValid?null:qi(t));this.ts=Oe(e.ts)?xe.now():e.ts;let r=null,s=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,s]=[e.old.c,e.old.o];else{const o=t.offset(this.ts);r=ji(this.ts,o),i=Number.isNaN(r.year)?new Qt("invalid input"):null,r=i?null:r,s=i?null:o}this._zone=t,this.loc=e.loc||Ye.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}static now(){return new Ee({})}static local(){const[e,t]=hl(arguments),[i,r,s,l,o,a,u]=t;return dl({year:i,month:r,day:s,hour:l,minute:o,second:a,millisecond:u},e)}static utc(){const[e,t]=hl(arguments),[i,r,s,l,o,a,u]=t;return e.zone=Et.utcInstance,dl({year:i,month:r,day:s,hour:l,minute:o,second:a,millisecond:u},e)}static fromJSDate(e,t={}){const i=rd(e)?e.valueOf():NaN;if(Number.isNaN(i))return Ee.invalid("invalid input");const r=yn(t.zone,xe.defaultZone);return r.isValid?new Ee({ts:i,zone:r,loc:Ye.fromObject(t)}):Ee.invalid(qi(r))}static fromMillis(e,t={}){if(In(e))return e<-al||e>al?Ee.invalid("Timestamp out of range"):new Ee({ts:e,zone:yn(t.zone,xe.defaultZone),loc:Ye.fromObject(t)});throw new Nt(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(In(e))return new Ee({ts:e*1e3,zone:yn(t.zone,xe.defaultZone),loc:Ye.fromObject(t)});throw new Nt("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const i=yn(t.zone,xe.defaultZone);if(!i.isValid)return Ee.invalid(qi(i));const r=Ye.fromObject(t),s=rr(e,cl),{minDaysInFirstWeek:l,startOfWeek:o}=Xs(s,r),a=xe.now(),u=Oe(t.specificOffset)?i.offset(a):t.specificOffset,f=!Oe(s.ordinal),c=!Oe(s.year),d=!Oe(s.month)||!Oe(s.day),m=c||d,g=s.weekYear||s.weekNumber;if((m||f)&&g)throw new Yn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&f)throw new Yn("Can't mix ordinal dates with month/day");const p=g||s.weekday&&!m;let _,b,w=ji(a,u);p?(_=Om,b=Tm,w=nr(w,l,o)):f?(_=Em,b=Dm,w=Mr(w)):(_=Tf,b=Cf);let T=!1;for(const P of _){const W=s[P];Oe(W)?T?s[P]=b[P]:s[P]=w[P]:T=!0}const S=p?td(s,l,o):f?nd(s):Qu(s),E=S||Xu(s);if(E)return Ee.invalid(E);const F=p?Gs(s,l,o):f?Qs(s):s,[L,I]=Gi(F,u,i),R=new Ee({ts:L,zone:i,o:I,loc:r});return s.weekday&&m&&e.weekday!==R.weekday?Ee.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${R.toISO()}`):R}static fromISO(e,t={}){const[i,r]=Zd(e);return ui(i,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[i,r]=Jd(e);return ui(i,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[i,r]=Gd(e);return ui(i,r,t,"HTTP",t)}static fromFormat(e,t,i={}){if(Oe(e)||Oe(t))throw new Nt("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:s=null}=i,l=Ye.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),[o,a,u,f]=Cm(l,e,t);return f?Ee.invalid(f):ui(o,a,i,`format ${t}`,e,u)}static fromString(e,t,i={}){return Ee.fromFormat(e,t,i)}static fromSQL(e,t={}){const[i,r]=nm(e);return ui(i,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Nt("need to specify a reason the DateTime is invalid");const i=e instanceof Qt?e:new Qt(e,t);if(xe.throwOnInvalid)throw new Nc(i);return new Ee({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const i=vf(e,Ye.fromObject(t));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(e,t={}){return wf(St.parseFormat(e),Ye.fromObject(t)).map(r=>r.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ar(this).weekYear:NaN}get weekNumber(){return this.isValid?Ar(this).weekNumber:NaN}get weekday(){return this.isValid?Ar(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Lr(this).weekday:NaN}get localWeekNumber(){return this.isValid?Lr(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Lr(this).weekYear:NaN}get ordinal(){return this.isValid?Mr(this.c).ordinal:NaN}get monthShort(){return this.isValid?Pi.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Pi.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Pi.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Pi.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,i=gr(this.c),r=this.zone.offset(i-e),s=this.zone.offset(i+e),l=this.zone.offset(i-r*t),o=this.zone.offset(i-s*t);if(l===o)return[this];const a=i-l*t,u=i-o*t,f=ji(a,l),c=ji(u,o);return f.hour===c.hour&&f.minute===c.minute&&f.second===c.second&&f.millisecond===c.millisecond?[Cn(this,{ts:a}),Cn(this,{ts:u})]:[this]}get isInLeapYear(){return Ei(this.year)}get daysInMonth(){return ir(this.year,this.month)}get daysInYear(){return this.isValid?Zn(this.year):NaN}get weeksInWeekYear(){return this.isValid?ki(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?ki(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:i,calendar:r}=St.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:i,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(Et.instance(e),t)}toLocal(){return this.setZone(xe.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:i=!1}={}){if(e=yn(e,xe.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||i){const s=e.offset(this.ts),l=this.toObject();[r]=Gi(l,s,e)}return Cn(this,{ts:r,zone:e})}else return Ee.invalid(qi(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:i}={}){const r=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i});return Cn(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=rr(e,cl),{minDaysInFirstWeek:i,startOfWeek:r}=Xs(t,this.loc),s=!Oe(t.weekYear)||!Oe(t.weekNumber)||!Oe(t.weekday),l=!Oe(t.ordinal),o=!Oe(t.year),a=!Oe(t.month)||!Oe(t.day),u=o||a,f=t.weekYear||t.weekNumber;if((u||l)&&f)throw new Yn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&l)throw new Yn("Can't mix ordinal dates with month/day");let c;s?c=Gs({...nr(this.c,i,r),...t},i,r):Oe(t.ordinal)?(c={...this.toObject(),...t},Oe(t.day)&&(c.day=Math.min(ir(c.year,c.month),c.day))):c=Qs({...Mr(this.c),...t});const[d,m]=Gi(c,this.o,this.zone);return Cn(this,{ts:d,o:m})}plus(e){if(!this.isValid)return this;const t=Re.fromDurationLike(e);return Cn(this,ul(this,t))}minus(e){if(!this.isValid)return this;const t=Re.fromDurationLike(e).negate();return Cn(this,ul(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const i={},r=Re.normalizeUnit(e);switch(r){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(r==="weeks")if(t){const s=this.loc.getStartOfWeek(),{weekday:l}=this;l<s&&(i.weekNumber=this.weekNumber-1),i.weekday=s}else i.weekday=1;if(r==="quarters"){const s=Math.ceil(this.month/3);i.month=(s-1)*3+1}return this.set(i)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?St.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Nr}toLocaleString(e=tr,t={}){return this.isValid?St.create(this.loc.clone(t),e).formatDateTime(this):Nr}toLocaleParts(e={}){return this.isValid?St.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const l=e==="extended";let o=Fr(this,l);return o+="T",o+=fl(this,l,t,i,r,s),o}toISODate({format:e="extended"}={}){return this.isValid?Fr(this,e==="extended"):null}toISOWeekDate(){return Vi(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:s=!1,format:l="extended"}={}){return this.isValid?(r?"T":"")+fl(this,l==="extended",t,e,i,s):null}toRFC2822(){return Vi(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Vi(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Fr(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(i&&(r+=" "),t?r+="z":e&&(r+="ZZ")),Vi(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Nr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",i={}){if(!this.isValid||!e.isValid)return Re.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=sd(t).map(Re.normalizeUnit),l=e.valueOf()>this.valueOf(),o=l?this:e,a=l?e:this,u=um(o,a,s,r);return l?u.negate():u}diffNow(e="milliseconds",t={}){return this.diff(Ee.now(),e,t)}until(e){return this.isValid?$e.fromDateTimes(this,e):this}hasSame(e,t,i){if(!this.isValid)return!1;const r=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(t,i)<=r&&r<=s.endOf(t,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||Ee.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(r=e.unit,s=void 0),ml(t,this.plus(i),{...e,numeric:"always",units:r,unit:s})}toRelativeCalendar(e={}){return this.isValid?ml(e.base||Ee.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Ee.isDateTime))throw new Nt("min requires all arguments be DateTimes");return $s(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(Ee.isDateTime))throw new Nt("max requires all arguments be DateTimes");return $s(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,i={}){const{locale:r=null,numberingSystem:s=null}=i,l=Ye.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return kf(l,e,t)}static fromStringExplain(e,t,i={}){return Ee.fromFormatExplain(e,t,i)}static get DATE_SHORT(){return tr}static get DATE_MED(){return Ou}static get DATE_MED_WITH_WEEKDAY(){return Fc}static get DATE_FULL(){return Eu}static get DATE_HUGE(){return Mu}static get TIME_SIMPLE(){return Iu}static get TIME_WITH_SECONDS(){return Nu}static get TIME_WITH_SHORT_OFFSET(){return Au}static get TIME_WITH_LONG_OFFSET(){return Lu}static get TIME_24_SIMPLE(){return Fu}static get TIME_24_WITH_SECONDS(){return Pu}static get TIME_24_WITH_SHORT_OFFSET(){return Ru}static get TIME_24_WITH_LONG_OFFSET(){return qu}static get DATETIME_SHORT(){return ju}static get DATETIME_SHORT_WITH_SECONDS(){return Vu}static get DATETIME_MED(){return Wu}static get DATETIME_MED_WITH_SECONDS(){return Hu}static get DATETIME_MED_WITH_WEEKDAY(){return Pc}static get DATETIME_FULL(){return Uu}static get DATETIME_FULL_WITH_SECONDS(){return zu}static get DATETIME_HUGE(){return Yu}static get DATETIME_HUGE_WITH_SECONDS(){return Bu}}function fi(n){if(Ee.isDateTime(n))return n;if(n&&n.valueOf&&In(n.valueOf()))return Ee.fromJSDate(n);if(n&&typeof n=="object")return Ee.fromObject(n);throw new Nt(`Unknown datetime argument: ${n}, of type ${typeof n}`)}const Im=[".jpg",".jpeg",".png",".svg",".gif",".jfif",".webp",".avif"],Nm=[".mp4",".avi",".mov",".3gp",".wmv"],Am=[".aa",".aac",".m4v",".mp3",".ogg",".oga",".mogg",".amr"],Lm=[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".odp",".odt",".ods",".txt"];class A{static isObject(e){return e!==null&&typeof e=="object"&&e.constructor===Object}static clone(e){return typeof structuredClone<"u"?structuredClone(e):JSON.parse(JSON.stringify(e))}static isEmpty(e){return e===""||e===null||e==="00000000-0000-0000-0000-000000000000"||e==="0001-01-01 00:00:00.000Z"||e==="0001-01-01"||typeof e>"u"||Array.isArray(e)&&e.length===0||A.isObject(e)&&Object.keys(e).length===0}static isInput(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return t==="input"||t==="select"||t==="textarea"||(e==null?void 0:e.isContentEditable)}static isFocusable(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return A.isInput(e)||t==="button"||t==="a"||t==="details"||(e==null?void 0:e.tabIndex)>=0}static hasNonEmptyProps(e){for(let t in e)if(!A.isEmpty(e[t]))return!0;return!1}static toArray(e,t=!1){return Array.isArray(e)?e.slice():(t||!A.isEmpty(e))&&typeof e<"u"?[e]:[]}static inArray(e,t){e=Array.isArray(e)?e:[];for(let i=e.length-1;i>=0;i--)if(e[i]==t)return!0;return!1}static removeByValue(e,t){e=Array.isArray(e)?e:[];for(let i=e.length-1;i>=0;i--)if(e[i]==t){e.splice(i,1);break}}static pushUnique(e,t){A.inArray(e,t)||e.push(t)}static findByKey(e,t,i){e=Array.isArray(e)?e:[];for(let r in e)if(e[r][t]==i)return e[r];return null}static groupByKey(e,t){e=Array.isArray(e)?e:[];const i={};for(let r in e)i[e[r][t]]=i[e[r][t]]||[],i[e[r][t]].push(e[r]);return i}static removeByKey(e,t,i){for(let r in e)if(e[r][t]==i){e.splice(r,1);break}}static pushOrReplaceByKey(e,t,i="id"){for(let r=e.length-1;r>=0;r--)if(e[r][i]==t[i]){e[r]=t;return}e.push(t)}static filterDuplicatesByKey(e,t="id"){e=Array.isArray(e)?e:[];const i={};for(const r of e)i[r[t]]=r;return Object.values(i)}static filterRedactedProps(e,t="******"){const i=JSON.parse(JSON.stringify(e||{}));for(let r in i)typeof i[r]=="object"&&i[r]!==null?i[r]=A.filterRedactedProps(i[r],t):i[r]===t&&delete i[r];return i}static getNestedVal(e,t,i=null,r="."){let s=e||{},l=(t||"").split(r);for(const o of l){if(!A.isObject(s)&&!Array.isArray(s)||typeof s[o]>"u")return i;s=s[o]}return s}static setByPath(e,t,i,r="."){if(e===null||typeof e!="object"){console.warn("setByPath: data not an object or array.");return}let s=e,l=t.split(r),o=l.pop();for(const a of l)(!A.isObject(s)&&!Array.isArray(s)||!A.isObject(s[a])&&!Array.isArray(s[a]))&&(s[a]={}),s=s[a];s[o]=i}static deleteByPath(e,t,i="."){let r=e||{},s=(t||"").split(i),l=s.pop();for(const o of s)(!A.isObject(r)&&!Array.isArray(r)||!A.isObject(r[o])&&!Array.isArray(r[o]))&&(r[o]={}),r=r[o];Array.isArray(r)?r.splice(l,1):A.isObject(r)&&delete r[l],s.length>0&&(Array.isArray(r)&&!r.length||A.isObject(r)&&!Object.keys(r).length)&&(Array.isArray(e)&&e.length>0||A.isObject(e)&&Object.keys(e).length>0)&&A.deleteByPath(e,s.join(i),i)}static randomString(e=10){let t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}static randomSecret(e=15){if(typeof crypto>"u")return A.randomString(e);const t=new Uint8Array(e);crypto.getRandomValues(t);const i="-_0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";let r="";for(let s=0;s<e;s++)r+=i.charAt(t[s]%i.length);return r}static sentenize(e,t=!0){if(typeof e!="string")return"";if(e=e.trim().split("_").join(" "),e==="")return e;if(e=e[0].toUpperCase()+e.substring(1),t){let i=e[e.length-1];i!=="."&&i!=="?"&&i!=="!"&&(e+=".")}return e}static trimQuotedValue(e){return typeof e=="string"&&(e[0]=='"'||e[0]=="'"||e[0]=="`")&&e[0]==e[e.length-1]?e.slice(1,-1):e}static plainText(e){return e?(new DOMParser().parseFromString(e,"text/html").body.innerText||"").trim():""}static truncate(e,t=150,i=!0){return e=""+e,e.length<=t?e:e.substring(0,t)+(i?"...":"")}static truncateObject(e){const t={};for(let i in e){let r=e[i];typeof r=="string"&&(r=A.truncate(r,150,!0)),t[i]=r}return t}static slugify(e,t="_",i=[".","=","-"]){if(e==="")return"";const r={a:/а|à|á|å|â/gi,b:/б/gi,c:/ц|ç/gi,d:/д/gi,e:/е|è|é|ê|ẽ|ë/gi,f:/ф/gi,g:/г/gi,h:/х/gi,i:/й|и|ì|í|î/gi,j:/ж/gi,k:/к/gi,l:/л/gi,m:/м/gi,n:/н|ñ/gi,o:/о|ò|ó|ô|ø/gi,p:/п/gi,q:/я/gi,r:/р/gi,s:/с/gi,t:/т/gi,u:/ю|ù|ú|ů|û/gi,v:/в/gi,w:/в/gi,x:/ь/gi,y:/ъ/gi,z:/з/gi,ae:/ä|æ/gi,oe:/ö/gi,ue:/ü/gi,Ae:/Ä/gi,Ue:/Ü/gi,Oe:/Ö/gi,ss:/ß/gi,and:/&/gi};for(let s in r)e=e.replace(r[s],s);return e.replace(new RegExp("["+i.join("")+"]","g")," ").replace(/[^\w\ ]/gi,"").replace(/\s+/g,t)}static escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static splitNonEmpty(e,t=","){const i=[],r=(e||"").replaceAll("\\"+t,"{_PB_ESCAPED_}").split(t).map(s=>s.replaceAll("{_PB_ESCAPED_}",t));for(let s of r)s=s.trim(),A.isEmpty(s)||i.push(s);return i}static joinNonEmpty(e,t=", "){e=e||[];const i=[],r=t.length>1?t.trim():t;for(let s of e)s=typeof s=="string"?s.trim():"",A.isEmpty(s)||i.push(s.replaceAll(r,"\\"+r));return i.join(t)}static getInitials(e){if(e=(e||"").split("@")[0].trim(),e.length<=2)return e.toUpperCase();const t=e.split(/[\.\_\-\ ]/);return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e[0].toUpperCase()}static formattedFileSize(e){const t=e?Math.floor(Math.log(e)/Math.log(1024)):0;return(e/Math.pow(1024,t)).toFixed(2)*1+" "+["B","KB","MB","GB","TB"][t]}static getDateTime(e){if(typeof e=="string"){const t={19:"yyyy-MM-dd HH:mm:ss",23:"yyyy-MM-dd HH:mm:ss.SSS",20:"yyyy-MM-dd HH:mm:ss'Z'",24:"yyyy-MM-dd HH:mm:ss.SSS'Z'"},i=t[e.length]||t[19];return Ee.fromFormat(e,i,{zone:"UTC"})}return Ee.fromJSDate(e)}static formatToUTCDate(e,t="yyyy-MM-dd HH:mm:ss"){return A.getDateTime(e).toUTC().toFormat(t)}static formatToLocalDate(e,t="yyyy-MM-dd HH:mm:ss"){return A.getDateTime(e).toLocal().toFormat(t)}static async copyToClipboard(e){var t;if(e=""+e,!(!e.length||!((t=window==null?void 0:window.navigator)!=null&&t.clipboard)))return window.navigator.clipboard.writeText(e).catch(i=>{console.warn("Failed to copy.",i)})}static download(e,t){const i=document.createElement("a");i.setAttribute("href",e),i.setAttribute("download",t),i.setAttribute("target","_blank"),i.click(),i.remove()}static downloadJson(e,t){t=t.endsWith(".json")?t:t+".json";const i=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=window.URL.createObjectURL(i);A.download(r,t)}static getJWTPayload(e){const t=(e||"").split(".")[1]||"";if(t==="")return{};try{const i=decodeURIComponent(atob(t));return JSON.parse(i)||{}}catch(i){console.warn("Failed to parse JWT payload data.",i)}return{}}static hasImageExtension(e){return e=e||"",!!Im.find(t=>e.toLowerCase().endsWith(t))}static hasVideoExtension(e){return e=e||"",!!Nm.find(t=>e.toLowerCase().endsWith(t))}static hasAudioExtension(e){return e=e||"",!!Am.find(t=>e.toLowerCase().endsWith(t))}static hasDocumentExtension(e){return e=e||"",!!Lm.find(t=>e.toLowerCase().endsWith(t))}static getFileType(e){return A.hasImageExtension(e)?"image":A.hasDocumentExtension(e)?"document":A.hasVideoExtension(e)?"video":A.hasAudioExtension(e)?"audio":"file"}static generateThumb(e,t=100,i=100){return new Promise(r=>{let s=new FileReader;s.onload=function(l){let o=new Image;o.onload=function(){let a=document.createElement("canvas"),u=a.getContext("2d"),f=o.width,c=o.height;return a.width=t,a.height=i,u.drawImage(o,f>c?(f-c)/2:0,0,f>c?c:f,f>c?c:f,0,0,t,i),r(a.toDataURL(e.type))},o.src=l.target.result},s.readAsDataURL(e)})}static addValueToFormData(e,t,i){if(!(typeof i>"u"))if(A.isEmpty(i))e.append(t,"");else if(Array.isArray(i))for(const r of i)A.addValueToFormData(e,t,r);else i instanceof File?e.append(t,i):i instanceof Date?e.append(t,i.toISOString()):A.isObject(i)?e.append(t,JSON.stringify(i)):e.append(t,""+i)}static dummyCollectionRecord(e){var a,u,f,c,d,m,g;const t=(e==null?void 0:e.schema)||[],i=(e==null?void 0:e.type)==="auth",r=(e==null?void 0:e.type)==="view",s={id:"RECORD_ID",collectionId:e==null?void 0:e.id,collectionName:e==null?void 0:e.name};i&&(s.username="username123",s.verified=!1,s.emailVisibility=!0,s.email="test@example.com"),(!r||A.extractColumnsFromQuery((a=e==null?void 0:e.options)==null?void 0:a.query).includes("created"))&&(s.created="2022-01-01 01:00:00.123Z"),(!r||A.extractColumnsFromQuery((u=e==null?void 0:e.options)==null?void 0:u.query).includes("updated"))&&(s.updated="2022-01-01 23:59:59.456Z");for(const p of t){let _=null;p.type==="number"?_=123:p.type==="date"?_="2022-01-01 10:00:00.123Z":p.type==="bool"?_=!0:p.type==="email"?_="test@example.com":p.type==="url"?_="https://example.com":p.type==="json"?_="JSON":p.type==="file"?(_="filename.jpg",((f=p.options)==null?void 0:f.maxSelect)!==1&&(_=[_])):p.type==="select"?(_=(d=(c=p.options)==null?void 0:c.values)==null?void 0:d[0],((m=p.options)==null?void 0:m.maxSelect)!==1&&(_=[_])):p.type==="relation"?(_="RELATION_RECORD_ID",((g=p.options)==null?void 0:g.maxSelect)!==1&&(_=[_])):_="test",s[p.name]=_}return s}static dummyCollectionSchemaData(e){var r,s,l,o;const t=(e==null?void 0:e.schema)||[],i={};for(const a of t){let u=null;if(a.type==="number")u=123;else if(a.type==="date")u="2022-01-01 10:00:00.123Z";else if(a.type==="bool")u=!0;else if(a.type==="email")u="test@example.com";else if(a.type==="url")u="https://example.com";else if(a.type==="json")u="JSON";else{if(a.type==="file")continue;a.type==="select"?(u=(s=(r=a.options)==null?void 0:r.values)==null?void 0:s[0],((l=a.options)==null?void 0:l.maxSelect)!==1&&(u=[u])):a.type==="relation"?(u="RELATION_RECORD_ID",((o=a.options)==null?void 0:o.maxSelect)!==1&&(u=[u])):u="test"}i[a.name]=u}return i}static getCollectionTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"auth":return"ri-group-line";case"view":return"ri-table-line";default:return"ri-folder-2-line"}}static getFieldTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"primary":return"ri-key-line";case"text":return"ri-text";case"number":return"ri-hashtag";case"date":return"ri-calendar-line";case"bool":return"ri-toggle-line";case"email":return"ri-mail-line";case"url":return"ri-link";case"editor":return"ri-edit-2-line";case"select":return"ri-list-check";case"json":return"ri-braces-line";case"file":return"ri-image-line";case"relation":return"ri-mind-map";case"user":return"ri-user-line";default:return"ri-star-s-line"}}static getFieldValueType(e){var t;switch(e==null?void 0:e.type){case"bool":return"Boolean";case"number":return"Number";case"file":return"File";case"select":case"relation":return((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)===1?"String":"Array<String>";default:return"String"}}static zeroDefaultStr(e){var t;return(e==null?void 0:e.type)==="number"?"0":(e==null?void 0:e.type)==="bool"?"false":(e==null?void 0:e.type)==="json"?'null, "", [], {}':["select","relation","file"].includes(e==null?void 0:e.type)&&((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)!=1?"[]":'""'}static getApiExampleUrl(e){return(window.location.href.substring(0,window.location.href.indexOf("/_"))||e||"/").replace("//localhost","//127.0.0.1")}static hasCollectionChanges(e,t,i=!1){if(e=e||{},t=t||{},e.id!=t.id)return!0;for(let u in e)if(u!=="schema"&&JSON.stringify(e[u])!==JSON.stringify(t[u]))return!0;const r=Array.isArray(e.schema)?e.schema:[],s=Array.isArray(t.schema)?t.schema:[],l=r.filter(u=>(u==null?void 0:u.id)&&!A.findByKey(s,"id",u.id)),o=s.filter(u=>(u==null?void 0:u.id)&&!A.findByKey(r,"id",u.id)),a=s.filter(u=>{const f=A.isObject(u)&&A.findByKey(r,"id",u.id);if(!f)return!1;for(let c in f)if(JSON.stringify(u[c])!=JSON.stringify(f[c]))return!0;return!1});return!!(o.length||a.length||i&&l.length)}static sortCollections(e=[]){const t=[],i=[],r=[];for(const l of e)l.type==="auth"?t.push(l):l.type==="base"?i.push(l):r.push(l);function s(l,o){return l.name>o.name?1:l.name<o.name?-1:0}return[].concat(t.sort(s),i.sort(s),r.sort(s))}static yieldToMain(){return new Promise(e=>{setTimeout(e,0)})}static defaultFlatpickrOptions(){return{dateFormat:"Y-m-d H:i:S",disableMobile:!0,allowInput:!0,enableTime:!0,time_24hr:!0,locale:{firstDayOfWeek:1}}}static defaultEditorOptions(){const e=["DIV","P","A","EM","B","STRONG","H1","H2","H3","H4","H5","H6","TABLE","TR","TD","TH","TBODY","THEAD","TFOOT","BR","HR","Q","SUP","SUB","DEL","IMG","OL","UL","LI","CODE"];function t(r){let s=r.parentNode;for(;r.firstChild;)s.insertBefore(r.firstChild,r);s.removeChild(r)}function i(r){if(r){for(const s of r.children)i(s);e.includes(r.tagName)?(r.removeAttribute("style"),r.removeAttribute("class")):t(r)}}return{branding:!1,promotion:!1,menubar:!1,min_height:270,height:270,max_height:700,autoresize_bottom_margin:30,skin:"pocketbase",content_style:"body { font-size: 14px }",plugins:["autoresize","autolink","lists","link","image","searchreplace","fullscreen","media","table","code","codesample","directionality"],codesample_global_prismjs:!0,codesample_languages:[{text:"HTML/XML",value:"markup"},{text:"CSS",value:"css"},{text:"SQL",value:"sql"},{text:"JavaScript",value:"javascript"},{text:"Go",value:"go"},{text:"Dart",value:"dart"},{text:"Zig",value:"zig"},{text:"Rust",value:"rust"},{text:"Lua",value:"lua"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"},{text:"Markdown",value:"markdown"},{text:"Swift",value:"swift"},{text:"Kotlin",value:"kotlin"},{text:"Elixir",value:"elixir"},{text:"Scala",value:"scala"},{text:"Julia",value:"julia"},{text:"Haskell",value:"haskell"}],toolbar:"styles | alignleft aligncenter alignright | bold italic forecolor backcolor | bullist numlist | link image_picker table codesample direction | code fullscreen",paste_postprocess:(r,s)=>{i(s.node)},file_picker_types:"image",file_picker_callback:(r,s,l)=>{const o=document.createElement("input");o.setAttribute("type","file"),o.setAttribute("accept","image/*"),o.addEventListener("change",a=>{const u=a.target.files[0],f=new FileReader;f.addEventListener("load",()=>{if(!tinymce)return;const c="blobid"+new Date().getTime(),d=tinymce.activeEditor.editorUpload.blobCache,m=f.result.split(",")[1],g=d.create(c,u,m);d.add(g),r(g.blobUri(),{title:u.name})}),f.readAsDataURL(u)}),o.click()},setup:r=>{r.on("keydown",l=>{(l.ctrlKey||l.metaKey)&&l.code=="KeyS"&&r.formElement&&(l.preventDefault(),l.stopPropagation(),r.formElement.dispatchEvent(new KeyboardEvent("keydown",l)))});const s="tinymce_last_direction";r.on("init",()=>{var o;const l=(o=window==null?void 0:window.localStorage)==null?void 0:o.getItem(s);!r.isDirty()&&r.getContent()==""&&l=="rtl"&&r.execCommand("mceDirectionRTL")}),r.ui.registry.addMenuButton("direction",{icon:"visualchars",fetch:l=>{l([{type:"menuitem",text:"LTR content",icon:"ltr",onAction:()=>{var a;(a=window==null?void 0:window.localStorage)==null||a.setItem(s,"ltr"),r.execCommand("mceDirectionLTR")}},{type:"menuitem",text:"RTL content",icon:"rtl",onAction:()=>{var a;(a=window==null?void 0:window.localStorage)==null||a.setItem(s,"rtl"),r.execCommand("mceDirectionRTL")}}])}}),r.ui.registry.addMenuButton("image_picker",{icon:"image",fetch:l=>{l([{type:"menuitem",text:"From collection",icon:"gallery",onAction:()=>{r.dispatch("collections_file_picker",{})}},{type:"menuitem",text:"Inline",icon:"browse",onAction:()=>{r.execCommand("mceImage")}}])}})}}}static displayValue(e,t,i="N/A"){e=e||{},t=t||[];let r=[];for(const l of t){let o=e[l];typeof o>"u"||(o=A.stringifyValue(o,i),r.push(o))}if(r.length>0)return r.join(", ");const s=["title","name","slug","email","username","nickname","label","heading","message","key","identifier","id"];for(const l of s){let o=A.stringifyValue(e[l],"");if(o)return o}return i}static stringifyValue(e,t="N/A",i=150){if(A.isEmpty(e))return t;if(typeof e=="number")return""+e;if(typeof e=="boolean")return e?"True":"False";if(typeof e=="string")return e=e.indexOf("<")>=0?A.plainText(e):e,A.truncate(e,i)||t;if(Array.isArray(e)&&typeof e[0]!="object")return A.truncate(e.join(","),i);if(typeof e=="object")try{return A.truncate(JSON.stringify(e),i)||t}catch{return t}return e}static extractColumnsFromQuery(e){var l;const t="__GROUP__";e=(e||"").replace(/\([\s\S]+?\)/gm,t).replace(/[\t\r\n]|(?:\s\s)+/g," ");const i=e.match(/select\s+([\s\S]+)\s+from/),r=((l=i==null?void 0:i[1])==null?void 0:l.split(","))||[],s=[];for(let o of r){const a=o.trim().split(" ").pop();a!=""&&a!=t&&s.push(a.replace(/[\'\"\`\[\]\s]/g,""))}return s}static getAllCollectionIdentifiers(e,t=""){if(!e)return[];let i=[t+"id"];if(e.type==="view")for(let s of A.extractColumnsFromQuery(e.options.query))A.pushUnique(i,t+s);else e.type==="auth"?(i.push(t+"username"),i.push(t+"email"),i.push(t+"emailVisibility"),i.push(t+"verified"),i.push(t+"created"),i.push(t+"updated")):(i.push(t+"created"),i.push(t+"updated"));const r=e.schema||[];for(const s of r)A.pushUnique(i,t+s.name);return i}static getCollectionAutocompleteKeys(e,t,i="",r=0){var o,a,u;let s=e.find(f=>f.name==t||f.id==t);if(!s||r>=4)return[];s.schema=s.schema||[];let l=A.getAllCollectionIdentifiers(s,i);for(const f of s.schema){const c=i+f.name;if(f.type=="relation"&&((o=f.options)!=null&&o.collectionId)){const d=A.getCollectionAutocompleteKeys(e,f.options.collectionId,c+".",r+1);d.length&&(l=l.concat(d))}((a=f.options)==null?void 0:a.maxSelect)!=1&&["select","file","relation"].includes(f.type)&&(l.push(c+":each"),l.push(c+":length"))}for(const f of e){f.schema=f.schema||[];for(const c of f.schema)if(c.type=="relation"&&((u=c.options)==null?void 0:u.collectionId)==s.id){const d=i+f.name+"_via_"+c.name,m=A.getCollectionAutocompleteKeys(e,f.id,d+".",r+2);m.length&&(l=l.concat(m))}}return l}static getCollectionJoinAutocompleteKeys(e){const t=[];for(const i of e){const r="@collection."+i.name+".",s=A.getCollectionAutocompleteKeys(e,i.name,r);for(const l of s)t.push(l)}return t}static getRequestAutocompleteKeys(e,t){const i=[];i.push("@request.context"),i.push("@request.method"),i.push("@request.query."),i.push("@request.data."),i.push("@request.headers."),i.push("@request.auth.id"),i.push("@request.auth.collectionId"),i.push("@request.auth.collectionName"),i.push("@request.auth.verified"),i.push("@request.auth.username"),i.push("@request.auth.email"),i.push("@request.auth.emailVisibility"),i.push("@request.auth.created"),i.push("@request.auth.updated");const r=e.filter(s=>s.type==="auth");for(const s of r){const l=A.getCollectionAutocompleteKeys(e,s.id,"@request.auth.");for(const o of l)A.pushUnique(i,o)}if(t){const s=["created","updated"],l=A.getCollectionAutocompleteKeys(e,t,"@request.data.");for(const o of l){i.push(o);const a=o.split(".");a.length===3&&a[2].indexOf(":")===-1&&!s.includes(a[2])&&i.push(o+":isset")}}return i}static parseIndex(e){var a,u,f,c,d;const t={unique:!1,optional:!1,schemaName:"",indexName:"",tableName:"",columns:[],where:""},r=/create\s+(unique\s+)?\s*index\s*(if\s+not\s+exists\s+)?(\S*)\s+on\s+(\S*)\s*\(([\s\S]*)\)(?:\s*where\s+([\s\S]*))?/gim.exec((e||"").trim());if((r==null?void 0:r.length)!=7)return t;const s=/^[\"\'\`\[\{}]|[\"\'\`\]\}]$/gm;t.unique=((a=r[1])==null?void 0:a.trim().toLowerCase())==="unique",t.optional=!A.isEmpty((u=r[2])==null?void 0:u.trim());const l=(r[3]||"").split(".");l.length==2?(t.schemaName=l[0].replace(s,""),t.indexName=l[1].replace(s,"")):(t.schemaName="",t.indexName=l[0].replace(s,"")),t.tableName=(r[4]||"").replace(s,"");const o=(r[5]||"").replace(/,(?=[^\(]*\))/gim,"{PB_TEMP}").split(",");for(let m of o){m=m.trim().replaceAll("{PB_TEMP}",",");const p=/^([\s\S]+?)(?:\s+collate\s+([\w]+))?(?:\s+(asc|desc))?$/gim.exec(m);if((p==null?void 0:p.length)!=4)continue;const _=(c=(f=p[1])==null?void 0:f.trim())==null?void 0:c.replace(s,"");_&&t.columns.push({name:_,collate:p[2]||"",sort:((d=p[3])==null?void 0:d.toUpperCase())||""})}return t.where=r[6]||"",t}static buildIndex(e){let t="CREATE ";e.unique&&(t+="UNIQUE "),t+="INDEX ",e.optional&&(t+="IF NOT EXISTS "),e.schemaName&&(t+=`\`${e.schemaName}\`.`),t+=`\`${e.indexName||"idx_"+A.randomString(7)}\` `,t+=`ON \`${e.tableName}\` (`;const i=e.columns.filter(r=>!!(r!=null&&r.name));return i.length>1&&(t+=`
  `),t+=i.map(r=>{let s="";return r.name.includes("(")||r.name.includes(" ")?s+=r.name:s+="`"+r.name+"`",r.collate&&(s+=" COLLATE "+r.collate),r.sort&&(s+=" "+r.sort.toUpperCase()),s}).join(`,
  `),i.length>1&&(t+=`
`),t+=")",e.where&&(t+=` WHERE ${e.where}`),t}static replaceIndexTableName(e,t){const i=A.parseIndex(e);return i.tableName=t,A.buildIndex(i)}static replaceIndexColumn(e,t,i){if(t===i)return e;const r=A.parseIndex(e);let s=!1;for(let l of r.columns)l.name===t&&(l.name=i,s=!0);return s?A.buildIndex(r):e}static normalizeSearchFilter(e,t){if(e=(e||"").trim(),!e||!t.length)return e;const i=["=","!=","~","!~",">",">=","<","<="];for(const r of i)if(e.includes(r))return e;return e=isNaN(e)&&e!="true"&&e!="false"?`"${e.replace(/^[\"\'\`]|[\"\'\`]$/gm,"")}"`:e,t.map(r=>`${r}~${e}`).join("||")}static normalizeLogsFilter(e,t=[]){return A.normalizeSearchFilter(e,["level","message","data"].concat(t))}static initCollection(e){return Object.assign({id:"",created:"",updated:"",name:"",type:"base",system:!1,listRule:null,viewRule:null,createRule:null,updateRule:null,deleteRule:null,schema:[],indexes:[],options:{}},e)}static initSchemaField(e){return Object.assign({id:"",name:"",type:"text",system:!1,required:!1,options:{}},e)}static triggerResize(){window.dispatchEvent(new Event("resize"))}static getHashQueryParams(){let e="";const t=window.location.hash.indexOf("?");return t>-1&&(e=window.location.hash.substring(t+1)),Object.fromEntries(new URLSearchParams(e))}static replaceHashQueryParams(e){e=e||{};let t="",i=window.location.hash;const r=i.indexOf("?");r>-1&&(t=i.substring(r+1),i=i.substring(0,r));const s=new URLSearchParams(t);for(let a in e){const u=e[a];u===null?s.delete(a):s.set(a,u)}t=s.toString(),t!=""&&(i+="?"+t);let l=window.location.href;const o=l.indexOf("#");o>-1&&(l=l.substring(0,o)),window.location.replace(l+i)}static replacePcmsPrefix(e){return e.replace("pcms_","")}}const Fm=n=>({}),pl=n=>({}),Pm=n=>({}),gl=n=>({});function _l(n){let e,t,i,r,s,l,o,a,u,f,c,d,m,g,p,_,b,w,T=n[4]&&!n[2]&&bl(n);const S=n[19].header,E=ut(S,n,n[18],gl);let F=n[4]&&n[2]&&yl(n);const L=n[19].default,I=ut(L,n,n[18],null),R=n[19].footer,P=ut(R,n,n[18],pl);return{c(){e=y("div"),t=y("div"),r=q(),s=y("div"),l=y("div"),T&&T.c(),o=q(),E&&E.c(),a=q(),F&&F.c(),u=q(),f=y("div"),I&&I.c(),c=q(),d=y("div"),P&&P.c(),h(t,"class","overlay"),h(l,"class","overlay-panel-section panel-header"),h(f,"class","overlay-panel-section panel-content"),h(d,"class","overlay-panel-section panel-footer"),h(s,"class",m="overlay-panel "+n[1]+" "+n[8]),J(s,"popup",n[2]),h(e,"class","overlay-panel-container"),J(e,"padded",n[2]),J(e,"active",n[0])},m(W,K){v(W,e,K),C(e,t),C(e,r),C(e,s),C(s,l),T&&T.m(l,null),C(l,o),E&&E.m(l,null),C(l,a),F&&F.m(l,null),C(s,u),C(s,f),I&&I.m(f,null),n[21](f),C(s,c),C(s,d),P&&P.m(d,null),_=!0,b||(w=[x(t,"click",Qe(n[20])),x(f,"scroll",n[22])],b=!0)},p(W,K){n=W,n[4]&&!n[2]?T?(T.p(n,K),K[0]&20&&O(T,1)):(T=bl(n),T.c(),O(T,1),T.m(l,o)):T&&(le(),N(T,1,1,()=>{T=null}),oe()),E&&E.p&&(!_||K[0]&262144)&&ct(E,S,n,n[18],_?ft(S,n[18],K,Pm):dt(n[18]),gl),n[4]&&n[2]?F?F.p(n,K):(F=yl(n),F.c(),F.m(l,null)):F&&(F.d(1),F=null),I&&I.p&&(!_||K[0]&262144)&&ct(I,L,n,n[18],_?ft(L,n[18],K,null):dt(n[18]),null),P&&P.p&&(!_||K[0]&262144)&&ct(P,R,n,n[18],_?ft(R,n[18],K,Fm):dt(n[18]),pl),(!_||K[0]&258&&m!==(m="overlay-panel "+n[1]+" "+n[8]))&&h(s,"class",m),(!_||K[0]&262)&&J(s,"popup",n[2]),(!_||K[0]&4)&&J(e,"padded",n[2]),(!_||K[0]&1)&&J(e,"active",n[0])},i(W){_||(W&&ht(()=>{_&&(i||(i=mt(t,wi,{duration:bn,opacity:0},!0)),i.run(1))}),O(T),O(E,W),O(I,W),O(P,W),W&&ht(()=>{_&&(p&&p.end(1),g=wu(s,on,n[2]?{duration:bn,y:-10}:{duration:bn,x:50}),g.start())}),_=!0)},o(W){W&&(i||(i=mt(t,wi,{duration:bn,opacity:0},!1)),i.run(0)),N(T),N(E,W),N(I,W),N(P,W),g&&g.invalidate(),W&&(p=us(s,on,n[2]?{duration:bn,y:10}:{duration:bn,x:50})),_=!1},d(W){W&&k(e),W&&i&&i.end(),T&&T.d(),E&&E.d(W),F&&F.d(),I&&I.d(W),n[21](null),P&&P.d(W),W&&p&&p.end(),b=!1,De(w)}}}function bl(n){let e,t,i,r,s;return{c(){e=y("button"),e.innerHTML='<i class="ri-close-line" aria-hidden="true"></i>',h(e,"type","button"),h(e,"aria-label","Close"),h(e,"class","overlay-close")},m(l,o){v(l,e,o),i=!0,r||(s=x(e,"click",Qe(n[5])),r=!0)},p(l,o){n=l},i(l){i||(l&&ht(()=>{i&&(t||(t=mt(e,wi,{duration:bn},!0)),t.run(1))}),i=!0)},o(l){l&&(t||(t=mt(e,wi,{duration:bn},!1)),t.run(0)),i=!1},d(l){l&&k(e),l&&t&&t.end(),r=!1,s()}}}function yl(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<i class="ri-close-line txt-lg" aria-hidden="true"></i>',h(e,"type","button"),h(e,"aria-label","Close"),h(e,"class","btn btn-sm btn-circle btn-transparent btn-close m-l-auto")},m(r,s){v(r,e,s),t||(i=x(e,"click",Qe(n[5])),t=!0)},p:$,d(r){r&&k(e),t=!1,i()}}}function Rm(n){let e,t,i,r,s=n[0]&&_l(n);return{c(){e=y("div"),s&&s.c(),h(e,"class","overlay-panel-wrapper"),h(e,"tabindex","-1")},m(l,o){v(l,e,o),s&&s.m(e,null),n[23](e),t=!0,i||(r=[x(window,"resize",n[10]),x(window,"keydown",n[9])],i=!0)},p(l,o){l[0]?s?(s.p(l,o),o[0]&1&&O(s,1)):(s=_l(l),s.c(),O(s,1),s.m(e,null)):s&&(le(),N(s,1,1,()=>{s=null}),oe())},i(l){t||(O(s),t=!0)},o(l){N(s),t=!1},d(l){l&&k(e),s&&s.d(),n[23](null),i=!1,De(r)}}}let Tn,Pr=[];function Df(){return Tn=Tn||document.querySelector(".overlays"),Tn||(Tn=document.createElement("div"),Tn.classList.add("overlays"),document.body.appendChild(Tn)),Tn}let bn=150;function wl(){return 1e3+Df().querySelectorAll(".overlay-panel-container.active").length}function qm(n,e,t){let{$$slots:i={},$$scope:r}=e,{class:s=""}=e,{active:l=!1}=e,{popup:o=!1}=e,{overlayClose:a=!0}=e,{btnClose:u=!0}=e,{escClose:f=!0}=e,{beforeOpen:c=void 0}=e,{beforeHide:d=void 0}=e;const m=gt(),g="op_"+A.randomString(10);let p,_,b,w,T="",S=l;function E(){typeof c=="function"&&c()===!1||t(0,l=!0)}function F(){typeof d=="function"&&d()===!1||t(0,l=!1)}function L(){return l}async function I(j){t(17,S=j),j?(b=document.activeElement,m("show"),p==null||p.focus()):(clearTimeout(w),m("hide"),b==null||b.focus()),await Xt(),R()}function R(){p&&(l?t(6,p.style.zIndex=wl(),p):t(6,p.style="",p))}function P(){A.pushUnique(Pr,g),document.body.classList.add("overlay-active")}function W(){A.removeByValue(Pr,g),Pr.length||document.body.classList.remove("overlay-active")}function K(j){l&&f&&j.code=="Escape"&&!A.isInput(j.target)&&p&&p.style.zIndex==wl()&&(j.preventDefault(),F())}function U(j){l&&te(_)}function te(j,Ie){Ie&&t(8,T=""),!(!j||w)&&(w=setTimeout(()=>{if(clearTimeout(w),w=null,!j)return;if(j.scrollHeight-j.offsetHeight>0)t(8,T="scrollable");else{t(8,T="");return}j.scrollTop==0?t(8,T+=" scroll-top-reached"):j.scrollTop+j.offsetHeight==j.scrollHeight&&t(8,T+=" scroll-bottom-reached")},100))}Ft(()=>(Df().appendChild(p),()=>{var j;clearTimeout(w),W(),(j=p==null?void 0:p.classList)==null||j.add("hidden"),setTimeout(()=>{p==null||p.remove()},0)}));const ne=()=>a?F():!0;function Y(j){ue[j?"unshift":"push"](()=>{_=j,t(7,_)})}const z=j=>te(j.target);function H(j){ue[j?"unshift":"push"](()=>{p=j,t(6,p)})}return n.$$set=j=>{"class"in j&&t(1,s=j.class),"active"in j&&t(0,l=j.active),"popup"in j&&t(2,o=j.popup),"overlayClose"in j&&t(3,a=j.overlayClose),"btnClose"in j&&t(4,u=j.btnClose),"escClose"in j&&t(12,f=j.escClose),"beforeOpen"in j&&t(13,c=j.beforeOpen),"beforeHide"in j&&t(14,d=j.beforeHide),"$$scope"in j&&t(18,r=j.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&131073&&S!=l&&I(l),n.$$.dirty[0]&128&&te(_,!0),n.$$.dirty[0]&64&&p&&R(),n.$$.dirty[0]&1&&(l?P():W())},[l,s,o,a,u,F,p,_,T,K,U,te,f,c,d,E,L,S,r,i,ne,Y,z,H]}class yr extends we{constructor(e){super(),ye(this,e,qm,Rm,be,{class:1,active:0,popup:2,overlayClose:3,btnClose:4,escClose:12,beforeOpen:13,beforeHide:14,show:15,hide:5,isActive:16},null,[-1,-1])}get show(){return this.$$.ctx[15]}get hide(){return this.$$.ctx[5]}get isActive(){return this.$$.ctx[16]}}const ws=tn({});function hi(n,e,t){ws.set({text:n,yesCallback:e,noCallback:t})}function Of(){ws.set({})}function jm(n){var r;let e,t=((r=n[1])==null?void 0:r.text)+"",i;return{c(){e=y("h4"),i=re(t),h(e,"class","block center txt-break"),h(e,"slot","header")},m(s,l){v(s,e,l),C(e,i)},p(s,l){var o;l&2&&t!==(t=((o=s[1])==null?void 0:o.text)+"")&&_e(i,t)},d(s){s&&k(e)}}}function Vm(n){let e,t,i,r,s,l,o;return{c(){e=y("button"),t=y("span"),t.textContent="No",i=q(),r=y("button"),s=y("span"),s.textContent="Yes",h(t,"class","txt"),e.autofocus=!0,h(e,"type","button"),h(e,"class","btn btn-transparent btn-expanded-sm"),e.disabled=n[2],h(s,"class","txt"),h(r,"type","button"),h(r,"class","btn btn-danger btn-expanded"),r.disabled=n[2],J(r,"btn-loading",n[2])},m(a,u){v(a,e,u),C(e,t),v(a,i,u),v(a,r,u),C(r,s),e.focus(),l||(o=[x(e,"click",n[4]),x(r,"click",n[5])],l=!0)},p(a,u){u&4&&(e.disabled=a[2]),u&4&&(r.disabled=a[2]),u&4&&J(r,"btn-loading",a[2])},d(a){a&&(k(e),k(i),k(r)),l=!1,De(o)}}}function Wm(n){let e,t,i={class:"confirm-popup hide-content overlay-panel-sm",overlayClose:!n[2],escClose:!n[2],btnClose:!1,popup:!0,$$slots:{footer:[Vm],header:[jm]},$$scope:{ctx:n}};return e=new yr({props:i}),n[6](e),e.$on("hide",n[7]),{c(){X(e.$$.fragment)},m(r,s){G(e,r,s),t=!0},p(r,[s]){const l={};s&4&&(l.overlayClose=!r[2]),s&4&&(l.escClose=!r[2]),s&271&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){n[6](null),Q(e,r)}}}function Hm(n,e,t){let i;Ke(n,ws,c=>t(1,i=c));let r,s=!1,l=!1;const o=()=>{t(3,l=!1),r==null||r.hide()},a=async()=>{i!=null&&i.yesCallback&&(t(2,s=!0),await Promise.resolve(i.yesCallback()),t(2,s=!1)),t(3,l=!0),r==null||r.hide()};function u(c){ue[c?"unshift":"push"](()=>{r=c,t(0,r)})}const f=async()=>{!l&&(i!=null&&i.noCallback)&&i.noCallback(),await Xt(),t(3,l=!1),Of()};return n.$$.update=()=>{n.$$.dirty&3&&i!=null&&i.text&&(t(3,l=!1),r==null||r.show())},[r,i,s,l,o,a,u,f]}class Um extends we{constructor(e){super(),ye(this,e,Hm,Wm,be,{})}}class At extends Error{constructor(e){var t,i,r,s;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,At.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof At||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(t=this.response)==null?void 0:t.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(s=(r=(i=this.originalError)==null?void 0:i.cause)==null?void 0:r.message)!=null&&s.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const Wi=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function zm(n,e){const t={};if(typeof n!="string")return t;const i=Object.assign({},{}).decode||Ym;let r=0;for(;r<n.length;){const s=n.indexOf("=",r);if(s===-1)break;let l=n.indexOf(";",r);if(l===-1)l=n.length;else if(l<s){r=n.lastIndexOf(";",s-1)+1;continue}const o=n.slice(r,s).trim();if(t[o]===void 0){let a=n.slice(s+1,l).trim();a.charCodeAt(0)===34&&(a=a.slice(1,-1));try{t[o]=i(a)}catch{t[o]=a}}r=l+1}return t}function kl(n,e,t){const i=Object.assign({},t||{}),r=i.encode||Bm;if(!Wi.test(n))throw new TypeError("argument name is invalid");const s=r(e);if(s&&!Wi.test(s))throw new TypeError("argument val is invalid");let l=n+"="+s;if(i.maxAge!=null){const o=i.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(o)}if(i.domain){if(!Wi.test(i.domain))throw new TypeError("option domain is invalid");l+="; Domain="+i.domain}if(i.path){if(!Wi.test(i.path))throw new TypeError("option path is invalid");l+="; Path="+i.path}if(i.expires){if(!function(a){return Object.prototype.toString.call(a)==="[object Date]"||a instanceof Date}(i.expires)||isNaN(i.expires.valueOf()))throw new TypeError("option expires is invalid");l+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.priority)switch(typeof i.priority=="string"?i.priority.toLowerCase():i.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l}function Ym(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function Bm(n){return encodeURIComponent(n)}let Ef;function Qi(n){if(n)try{const e=decodeURIComponent(Ef(n.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function Mf(n,e=0){let t=Qi(n);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}Ef=typeof atob=="function"?atob:n=>{let e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,i,r=0,s=0,l="";i=e.charAt(s++);~i&&(t=r%4?64*t+i:i,r++%4)?l+=String.fromCharCode(255&t>>(-2*r&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return l};const vl="pb_auth";class Km{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!Mf(this.token)}get isAdmin(){return Qi(this.token).type==="admin"}get isAuthRecord(){return Qi(this.token).type==="authRecord"}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=vl){const i=zm(e||"")[t]||"";let r={};try{r=JSON.parse(i),(typeof r===null||typeof r!="object"||Array.isArray(r))&&(r={})}catch{}this.save(r.token||"",r.model||null)}exportToCookie(e,t=vl){var a,u;const i={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},r=Qi(this.token);i.expires=r!=null&&r.exp?new Date(1e3*r.exp):new Date("1970-01-01"),e=Object.assign({},i,e);const s={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let l=kl(t,JSON.stringify(s),e);const o=typeof Blob<"u"?new Blob([l]).size:l.length;if(s.model&&o>4096){s.model={id:(a=s==null?void 0:s.model)==null?void 0:a.id,email:(u=s==null?void 0:s.model)==null?void 0:u.email};const f=["collectionId","username","verified"];for(const c in this.model)f.includes(c)&&(s.model[c]=this.model[c]);l=kl(t,JSON.stringify(s),e)}return l}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.model),()=>{for(let i=this._onChangeCallbacks.length-1;i>=0;i--)if(this._onChangeCallbacks[i]==e)return delete this._onChangeCallbacks[i],void this._onChangeCallbacks.splice(i,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.model)}}class If extends Km{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(e,t){this._storageSet(this.storageKey,{token:e,model:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&(window!=null&&window.localStorage)){let i=t;typeof t!="string"&&(i=JSON.stringify(t)),window.localStorage.setItem(e,i)}else this.storageFallback[e]=t}_storageRemove(e){var t;typeof window<"u"&&(window!=null&&window.localStorage)&&((t=window.localStorage)==null||t.removeItem(e)),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.model||null)})}}class An{constructor(e){this.client=e}}class Zm extends An{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then(()=>!0)}async testEmail(e,t,i){return i=Object.assign({method:"POST",body:{email:e,template:t}},i),this.client.send("/api/settings/test/email",i).then(()=>!0)}async generateAppleClientSecret(e,t,i,r,s,l){return l=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:i,privateKey:r,duration:s}},l),this.client.send("/api/settings/apple/generate-client-secret",l)}}class ks extends An{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let i=500;return(t=Object.assign({},e,t)).batch&&(i=t.batch,delete t.batch),this._getFullList(i,t)}async getList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send(this.baseCrudPath,i).then(r=>{var s;return r.items=((s=r.items)==null?void 0:s.map(l=>this.decode(l)))||[],r})}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then(i=>{var r;if(!((r=i==null?void 0:i.items)!=null&&r.length))throw new At({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return i.items[0]})}async getOne(e,t){if(!e)throw new At({url:this.client.buildUrl(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(i=>this.decode(i))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then(i=>this.decode(i))}async update(e,t,i){return i=Object.assign({method:"PATCH",body:t},i),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),i).then(r=>this.decode(r))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(()=>!0)}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let i=[],r=async s=>this.getList(s,e||500,t).then(l=>{const o=l.items;return i=i.concat(o),o.length==l.perPage?r(s+1):i});return r(1)}}function Vt(n,e,t,i){const r=i!==void 0;return r||t!==void 0?r?(console.warn(n),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,i),e):Object.assign(e,t):e}function Rr(n){var e;(e=n._resetAutoRefresh)==null||e.call(n)}class Jm extends ks{get baseCrudPath(){return"/api/admins"}async update(e,t,i){return super.update(e,t,i).then(r=>{var s,l;return((s=this.client.authStore.model)==null?void 0:s.id)===r.id&&((l=this.client.authStore.model)==null?void 0:l.collectionId)===void 0&&this.client.authStore.save(this.client.authStore.token,r),r})}async delete(e,t){return super.delete(e,t).then(i=>{var r,s;return i&&((r=this.client.authStore.model)==null?void 0:r.id)===e&&((s=this.client.authStore.model)==null?void 0:s.collectionId)===void 0&&this.client.authStore.clear(),i})}authResponse(e){const t=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:t})}async authWithPassword(e,t,i,r){let s={method:"POST",body:{identity:e,password:t}};s=Vt("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",s,i,r);const l=s.autoRefreshThreshold;delete s.autoRefreshThreshold,s.autoRefresh||Rr(this.client);let o=await this.client.send(this.baseCrudPath+"/auth-with-password",s);return o=this.authResponse(o),l&&function(u,f,c,d){Rr(u);const m=u.beforeSend,g=u.authStore.model,p=u.authStore.onChange((_,b)=>{(!_||(b==null?void 0:b.id)!=(g==null?void 0:g.id)||(b!=null&&b.collectionId||g!=null&&g.collectionId)&&(b==null?void 0:b.collectionId)!=(g==null?void 0:g.collectionId))&&Rr(u)});u._resetAutoRefresh=function(){p(),u.beforeSend=m,delete u._resetAutoRefresh},u.beforeSend=async(_,b)=>{var E;const w=u.authStore.token;if((E=b.query)!=null&&E.autoRefresh)return m?m(_,b):{url:_,sendOptions:b};let T=u.authStore.isValid;if(T&&Mf(u.authStore.token,f))try{await c()}catch{T=!1}T||await d();const S=b.headers||{};for(let F in S)if(F.toLowerCase()=="authorization"&&w==S[F]&&u.authStore.token){S[F]=u.authStore.token;break}return b.headers=S,m?m(_,b):{url:_,sendOptions:b}}}(this.client,l,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},s))),o}async authRefresh(e,t){let i={method:"POST"};return i=Vt("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",i,e,t),this.client.send(this.baseCrudPath+"/auth-refresh",i).then(this.authResponse.bind(this))}async requestPasswordReset(e,t,i){let r={method:"POST",body:{email:e}};return r=Vt("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",r,t,i),this.client.send(this.baseCrudPath+"/request-password-reset",r).then(()=>!0)}async confirmPasswordReset(e,t,i,r,s){let l={method:"POST",body:{token:e,password:t,passwordConfirm:i}};return l=Vt("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",l,r,s),this.client.send(this.baseCrudPath+"/confirm-password-reset",l).then(()=>!0)}}const Gm=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function Nf(n){if(n){n.query=n.query||{};for(let e in n)Gm.includes(e)||(n.query[e]=n[e],delete n[e])}}class Af extends An{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,i){var l;if(!e)throw new Error("topic must be set.");let r=e;if(i){Nf(i);const o="options="+encodeURIComponent(JSON.stringify({query:i.query,headers:i.headers}));r+=(r.includes("?")?"&":"?")+o}const s=function(o){const a=o;let u;try{u=JSON.parse(a==null?void 0:a.data)}catch{}t(u||{})};return this.subscriptions[r]||(this.subscriptions[r]=[]),this.subscriptions[r].push(s),this.isConnected?this.subscriptions[r].length===1?await this.submitSubscriptions():(l=this.eventSource)==null||l.addEventListener(r,s):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,s)}async unsubscribe(e){var i;let t=!1;if(e){const r=this.getSubscriptionsByTopic(e);for(let s in r)if(this.hasSubscriptionListeners(s)){for(let l of this.subscriptions[s])(i=this.eventSource)==null||i.removeEventListener(s,l);delete this.subscriptions[s],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){var i;let t=!1;for(let r in this.subscriptions)if((r+"?").startsWith(e)){t=!0;for(let s of this.subscriptions[r])(i=this.eventSource)==null||i.removeEventListener(r,s);delete this.subscriptions[r]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){var s;let i=!1;const r=this.getSubscriptionsByTopic(e);for(let l in r){if(!Array.isArray(this.subscriptions[l])||!this.subscriptions[l].length)continue;let o=!1;for(let a=this.subscriptions[l].length-1;a>=0;a--)this.subscriptions[l][a]===t&&(o=!0,delete this.subscriptions[l][a],this.subscriptions[l].splice(a,1),(s=this.eventSource)==null||s.removeEventListener(l,t));o&&(this.subscriptions[l].length||delete this.subscriptions[l],i||this.hasSubscriptionListeners(l)||(i=!0))}this.hasSubscriptionListeners()?i&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){var t,i;if(this.subscriptions=this.subscriptions||{},e)return!!((t=this.subscriptions[e])!=null&&t.length);for(let r in this.subscriptions)if((i=this.subscriptions[r])!=null&&i.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(e=>{if(!(e!=null&&e.isAbort))throw e})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let i in this.subscriptions)(i+"?").startsWith(e)&&(t[i]=this.subscriptions[i]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",e=>{const t=e;this.clientId=t==null?void 0:t.lastEventId,this.submitSubscriptions().then(async()=>{let i=3;for(;this.hasUnsentSubscriptions()&&i>0;)i--,await this.submitSubscriptions()}).then(()=>{for(let r of this.pendingConnects)r.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const i=this.getSubscriptionsByTopic("PB_CONNECT");for(let r in i)for(let s of i[r])s(e)}).catch(i=>{this.clientId="",this.connectErrorHandler(i)})})}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let i of this.pendingConnects)i.reject(new At(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},t)}disconnect(e=!1){var t;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(t=this.eventSource)==null||t.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let i of this.pendingConnects)i.resolve();this.pendingConnects=[]}}}class Qm extends ks{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}async subscribe(e,t,i){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,i)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const i=Object.assign({},e,t);return super.getFullList(i)}async getList(e=1,t=30,i){return super.getList(e,t,i)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,i){return super.update(e,t,i).then(r=>{var s,l,o;return((s=this.client.authStore.model)==null?void 0:s.id)!==(r==null?void 0:r.id)||((l=this.client.authStore.model)==null?void 0:l.collectionId)!==this.collectionIdOrName&&((o=this.client.authStore.model)==null?void 0:o.collectionName)!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,r),r})}async delete(e,t){return super.delete(e,t).then(i=>{var r,s,l;return!i||((r=this.client.authStore.model)==null?void 0:r.id)!==e||((s=this.client.authStore.model)==null?void 0:s.collectionId)!==this.collectionIdOrName&&((l=this.client.authStore.model)==null?void 0:l.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),i})}authResponse(e){const t=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e).then(t=>Object.assign({},t,{usernamePassword:!!(t!=null&&t.usernamePassword),emailPassword:!!(t!=null&&t.emailPassword),authProviders:Array.isArray(t==null?void 0:t.authProviders)?t==null?void 0:t.authProviders:[]}))}async authWithPassword(e,t,i,r){let s={method:"POST",body:{identity:e,password:t}};return s=Vt("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",s,i,r),this.client.send(this.baseCollectionPath+"/auth-with-password",s).then(l=>this.authResponse(l))}async authWithOAuth2Code(e,t,i,r,s,l,o){let a={method:"POST",body:{provider:e,code:t,codeVerifier:i,redirectUrl:r,createData:s}};return a=Vt("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",a,l,o),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",a).then(u=>this.authResponse(u))}async authWithOAuth2(...e){if(e.length>1||typeof(e==null?void 0:e[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{});const t=(e==null?void 0:e[0])||{},i=(await this.listAuthMethods()).authProviders.find(a=>a.name===t.provider);if(!i)throw new At(new Error(`Missing or invalid provider "${t.provider}".`));const r=this.client.buildUrl("/api/oauth2-redirect"),s=new Af(this.client);let l=null;function o(){l==null||l.close(),s.unsubscribe()}return t.urlCallback||(l=Sl(void 0)),new Promise(async(a,u)=>{var f;try{await s.subscribe("@oauth2",async g=>{const p=s.clientId;try{if(!g.state||p!==g.state)throw new Error("State parameters don't match.");const _=Object.assign({},t);delete _.provider,delete _.scopes,delete _.createData,delete _.urlCallback;const b=await this.authWithOAuth2Code(i.name,g.code,i.codeVerifier,r,t.createData,_);a(b)}catch(_){u(new At(_))}o()});const c={state:s.clientId};(f=t.scopes)!=null&&f.length&&(c.scope=t.scopes.join(" "));const d=this._replaceQueryParams(i.authUrl+r,c);await(t.urlCallback||function(g){l?l.location.href=g:l=Sl(g)})(d)}catch(c){o(),u(new At(c))}})}async authRefresh(e,t){let i={method:"POST"};return i=Vt("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",i,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",i).then(r=>this.authResponse(r))}async requestPasswordReset(e,t,i){let r={method:"POST",body:{email:e}};return r=Vt("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-password-reset",r).then(()=>!0)}async confirmPasswordReset(e,t,i,r,s){let l={method:"POST",body:{token:e,password:t,passwordConfirm:i}};return l=Vt("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",l,r,s),this.client.send(this.baseCollectionPath+"/confirm-password-reset",l).then(()=>!0)}async requestVerification(e,t,i){let r={method:"POST",body:{email:e}};return r=Vt("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-verification",r).then(()=>!0)}async confirmVerification(e,t,i){let r={method:"POST",body:{token:e}};return r=Vt("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/confirm-verification",r).then(()=>!0)}async requestEmailChange(e,t,i){let r={method:"POST",body:{newEmail:e}};return r=Vt("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-email-change",r).then(()=>!0)}async confirmEmailChange(e,t,i,r){let s={method:"POST",body:{token:e,password:t}};return s=Vt("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",s,i,r),this.client.send(this.baseCollectionPath+"/confirm-email-change",s).then(()=>!0)}async listExternalAuths(e,t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",t)}async unlinkExternalAuth(e,t,i){return i=Object.assign({method:"DELETE"},i),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(t),i).then(()=>!0)}_replaceQueryParams(e,t={}){let i=e,r="";e.indexOf("?")>=0&&(i=e.substring(0,e.indexOf("?")),r=e.substring(e.indexOf("?")+1));const s={},l=r.split("&");for(const o of l){if(o=="")continue;const a=o.split("=");s[decodeURIComponent(a[0].replace(/\+/g," "))]=decodeURIComponent((a[1]||"").replace(/\+/g," "))}for(let o in t)t.hasOwnProperty(o)&&(t[o]==null?delete s[o]:s[o]=t[o]);r="";for(let o in s)s.hasOwnProperty(o)&&(r!=""&&(r+="&"),r+=encodeURIComponent(o.replace(/%20/g,"+"))+"="+encodeURIComponent(s[o].replace(/%20/g,"+")));return r!=""?i+"?"+r:i}}function Sl(n){if(typeof window>"u"||!(window!=null&&window.open))throw new At(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,i=window.innerWidth,r=window.innerHeight;e=e>i?i:e,t=t>r?r:t;let s=i/2-e/2,l=r/2-t/2;return window.open(n,"popup_window","width="+e+",height="+t+",top="+l+",left="+s+",resizable,menubar=no")}class Xm extends ks{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,i){return i=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},i),this.client.send(this.baseCrudPath+"/import",i).then(()=>!0)}}class $m extends An{async getList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send("/api/logs",i)}async getOne(e,t){if(!e)throw new At({url:this.client.buildUrl("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class xm extends An{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class eh extends An{getUrl(e,t,i={}){if(!t||!(e!=null&&e.id)||!(e!=null&&e.collectionId)&&!(e!=null&&e.collectionName))return"";const r=[];r.push("api"),r.push("files"),r.push(encodeURIComponent(e.collectionId||e.collectionName)),r.push(encodeURIComponent(e.id)),r.push(encodeURIComponent(t));let s=this.client.buildUrl(r.join("/"));if(Object.keys(i).length){i.download===!1&&delete i.download;const l=new URLSearchParams(i);s+=(s.includes("?")?"&":"?")+l}return s}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then(t=>(t==null?void 0:t.token)||"")}}class th extends An{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then(()=>!0)}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then(()=>!0)}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then(()=>!0)}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then(()=>!0)}getDownloadUrl(e,t){return this.client.buildUrl(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class vs{constructor(e="/",t,i="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=i,this.authStore=t||new If,this.admins=new Jm(this),this.collections=new Xm(this),this.files=new eh(this),this.logs=new $m(this),this.settings=new Zm(this),this.realtime=new Af(this),this.health=new xm(this),this.backups=new th(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new Qm(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let i in t){let r=t[i];switch(typeof r){case"boolean":case"number":r=""+r;break;case"string":r="'"+r.replace(/'/g,"\\'")+"'";break;default:r=r===null?"null":r instanceof Date?"'"+r.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(r).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+i+"}",r)}return e}getFileUrl(e,t,i={}){return this.files.getUrl(e,t,i)}buildUrl(e){var i;let t=this.baseUrl;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=(i=window.location.origin)!=null&&i.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseUrl),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let i=this.buildUrl(e);if(this.beforeSend){const r=Object.assign({},await this.beforeSend(i,t));r.url!==void 0||r.options!==void 0?(i=r.url||i,t=r.options||t):Object.keys(r).length&&(t=r,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const r=this.serializeQueryParams(t.query);r&&(i+=(i.includes("?")?"&":"?")+r),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(i,t).then(async r=>{let s={};try{s=await r.json()}catch{}if(this.afterSend&&(s=await this.afterSend(r,s)),r.status>=400)throw new At({url:r.url,status:r.status,data:s});return s}).catch(r=>{throw new At(r)})}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=this.convertToFormDataIfNeeded(t.body),Nf(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||this.isFormData(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const i=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(i);const r=new AbortController;this.cancelControllers[i]=r,t.signal=r.signal}return t}convertToFormDataIfNeeded(e){if(typeof FormData>"u"||e===void 0||typeof e!="object"||e===null||this.isFormData(e)||!this.hasBlobField(e))return e;const t=new FormData;for(let i in e){const r=this.normalizeFormDataValue(e[i]),s=Array.isArray(r)?r:[r];if(s.length)for(const l of s)t.append(i,l);else t.append(i,"")}return t}normalizeFormDataValue(e){return e===null||typeof e!="object"||e instanceof Date||this.hasBlobField({data:e})||Array.isArray(e)&&!e.filter(t=>typeof t!="string").length?e:JSON.stringify(e)}hasBlobField(e){for(let t in e){const i=Array.isArray(e[t])?e[t]:[e[t]];for(let r of i)if(typeof Blob<"u"&&r instanceof Blob||typeof File<"u"&&r instanceof File)return!0}return!1}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let i in e)if(i.toLowerCase()==t)return e[i];return null}isFormData(e){return e&&(e.constructor.name==="FormData"||typeof FormData<"u"&&e instanceof FormData)}serializeQueryParams(e){const t=[];for(const i in e){if(e[i]===null)continue;const r=e[i],s=encodeURIComponent(i);if(Array.isArray(r))for(const l of r)t.push(s+"="+encodeURIComponent(l));else r instanceof Date?t.push(s+"="+encodeURIComponent(r.toISOString())):typeof r!==null&&typeof r=="object"?t.push(s+"="+encodeURIComponent(JSON.stringify(r))):t.push(s+"="+encodeURIComponent(r))}return t.join("&")}}const Ss=tn({});function pi(n){Ss.set(n||{})}function $r(n){Ss.update(e=>(A.deleteByPath(e,n),e))}const Lf=tn({});function xr(n){Lf.set(n||{})}const wr=tn([]);function es(n,e=3e3){return Ff(n,"success",e)}function kr(n,e=4500){return Ff(n,"error",e)}function Ff(n,e,t){t=t||4e3;const i={message:n,type:e,duration:t,timeout:setTimeout(()=>{Pf(i)},t)};wr.update(r=>(Cs(r,i.message),A.pushOrReplaceByKey(r,i,"message"),r))}function Pf(n){wr.update(e=>(Cs(e,n),e))}function nh(){wr.update(n=>{for(let e of n)Cs(n,e);return[]})}function Cs(n,e){let t;typeof e=="string"?t=A.findByKey(n,"message",e):t=e,t&&(clearTimeout(t.timeout),A.removeByKey(n,"message",t.message))}var ih={PCMS_INSTALLER_PARAM:"installer",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};vs.prototype.logout=function(n=!0){this.authStore.clear(),n&&Di("/login")};vs.prototype.error=function(n,e=!0,t=""){if(!n||!(n instanceof Error)||n.isAbort)return;const i=(n==null?void 0:n.status)<<0||400,r=(n==null?void 0:n.data)||{},s=r.message||n.message||t;if(e&&s&&kr(s),A.isEmpty(r.data)||pi(r.data),i===401)return this.cancelAllRequests(),this.logout();if(i===403)return this.cancelAllRequests(),Di("/")};class rh extends If{save(e,t){super.save(e,t),t&&xr(t)}clear(){super.clear(),xr(null)}}const Me=new vs(ih.PCMS_BACKEND_URL,new rh("pcms_user_auth"));Me.authStore.model&&xr(Me.authStore.model);function sh(n,{from:e,to:t},i={}){const r=getComputedStyle(n),s=r.transform==="none"?"":r.transform,[l,o]=r.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*l/t.width-(t.left+l),u=e.top+e.height*o/t.height-(t.top+o),{delay:f=0,duration:c=m=>Math.sqrt(m)*120,easing:d=mr}=i;return{delay:f,duration:st(c)?c(Math.sqrt(a*a+u*u)):c,easing:d,css:(m,g)=>{const p=g*a,_=g*u,b=m+g*e.width/t.width,w=m+g*e.height/t.height;return`transform: ${s} translate(${p}px, ${_}px) scale(${b}, ${w});`}}}function Cl(n,e,t){const i=n.slice();return i[2]=e[t],i}function lh(n){let e;return{c(){e=y("i"),h(e,"class","ri-alert-line")},m(t,i){v(t,e,i)},d(t){t&&k(e)}}}function oh(n){let e;return{c(){e=y("i"),h(e,"class","ri-error-warning-line")},m(t,i){v(t,e,i)},d(t){t&&k(e)}}}function ah(n){let e;return{c(){e=y("i"),h(e,"class","ri-checkbox-circle-line")},m(t,i){v(t,e,i)},d(t){t&&k(e)}}}function uh(n){let e;return{c(){e=y("i"),h(e,"class","ri-information-line")},m(t,i){v(t,e,i)},d(t){t&&k(e)}}}function Tl(n,e){let t,i,r,s,l=e[2].message+"",o,a,u,f,c,d,m,g=$,p,_,b;function w(F,L){return F[2].type==="info"?uh:F[2].type==="success"?ah:F[2].type==="warning"?oh:lh}let T=w(e),S=T(e);function E(){return e[1](e[2])}return{key:n,first:null,c(){t=y("div"),i=y("div"),S.c(),r=q(),s=y("div"),o=re(l),a=q(),u=y("button"),u.innerHTML='<i class="ri-close-line"></i>',f=q(),h(i,"class","icon"),h(s,"class","content"),h(u,"type","button"),h(u,"class","close"),h(t,"class","alert txt-break"),J(t,"alert-info",e[2].type=="info"),J(t,"alert-success",e[2].type=="success"),J(t,"alert-danger",e[2].type=="error"),J(t,"alert-warning",e[2].type=="warning"),this.first=t},m(F,L){v(F,t,L),C(t,i),S.m(i,null),C(t,r),C(t,s),C(s,o),C(t,a),C(t,u),C(t,f),p=!0,_||(b=x(u,"click",Qe(E)),_=!0)},p(F,L){e=F,T!==(T=w(e))&&(S.d(1),S=T(e),S&&(S.c(),S.m(i,null))),(!p||L&1)&&l!==(l=e[2].message+"")&&_e(o,l),(!p||L&1)&&J(t,"alert-info",e[2].type=="info"),(!p||L&1)&&J(t,"alert-success",e[2].type=="success"),(!p||L&1)&&J(t,"alert-danger",e[2].type=="error"),(!p||L&1)&&J(t,"alert-warning",e[2].type=="warning")},r(){m=t.getBoundingClientRect()},f(){_c(t),g(),pu(t,m)},a(){g(),g=gc(t,m,sh,{duration:150})},i(F){p||(F&&ht(()=>{p&&(d&&d.end(1),c=wu(t,Xn,{duration:150}),c.start())}),p=!0)},o(F){c&&c.invalidate(),F&&(d=us(t,wi,{duration:150})),p=!1},d(F){F&&k(t),S.d(),F&&d&&d.end(),_=!1,b()}}}function fh(n){let e,t=[],i=new Map,r,s=ke(n[0]);const l=o=>o[2].message;for(let o=0;o<s.length;o+=1){let a=Cl(n,s,o),u=l(a);i.set(u,t[o]=Tl(u,a))}return{c(){e=y("div");for(let o=0;o<t.length;o+=1)t[o].c();h(e,"class","toasts-wrapper")},m(o,a){v(o,e,a);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);r=!0},p(o,[a]){if(a&1){s=ke(o[0]),le();for(let u=0;u<t.length;u+=1)t[u].r();t=pt(t,a,l,1,o,s,i,e,kc,Tl,null,Cl);for(let u=0;u<t.length;u+=1)t[u].a();oe()}},i(o){if(!r){for(let a=0;a<s.length;a+=1)O(t[a]);r=!0}},o(o){for(let a=0;a<t.length;a+=1)N(t[a]);r=!1},d(o){o&&k(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function ch(n,e,t){let i;return Ke(n,wr,s=>t(0,i=s)),[i,s=>Pf(s)]}class dh extends we{constructor(e){super(),ye(this,e,ch,fh,be,{})}}function Dl(n){let e,t,i;const r=n[18].default,s=ut(r,n,n[17],null);return{c(){e=y("div"),s&&s.c(),h(e,"class",n[1]),J(e,"active",n[0])},m(l,o){v(l,e,o),s&&s.m(e,null),n[19](e),i=!0},p(l,o){s&&s.p&&(!i||o[0]&131072)&&ct(s,r,l,l[17],i?ft(r,l[17],o,null):dt(l[17]),null),(!i||o[0]&2)&&h(e,"class",l[1]),(!i||o[0]&3)&&J(e,"active",l[0])},i(l){i||(O(s,l),l&&ht(()=>{i&&(t||(t=mt(e,on,{duration:150,y:3},!0)),t.run(1))}),i=!0)},o(l){N(s,l),l&&(t||(t=mt(e,on,{duration:150,y:3},!1)),t.run(0)),i=!1},d(l){l&&k(e),s&&s.d(l),n[19](null),l&&t&&t.end()}}}function mh(n){let e,t,i,r,s=n[0]&&Dl(n);return{c(){e=y("div"),s&&s.c(),h(e,"class","toggler-container"),h(e,"tabindex","-1"),h(e,"role","menu")},m(l,o){v(l,e,o),s&&s.m(e,null),n[20](e),t=!0,i||(r=[x(window,"click",n[7]),x(window,"mousedown",n[6]),x(window,"keydown",n[5]),x(window,"focusin",n[4])],i=!0)},p(l,o){l[0]?s?(s.p(l,o),o[0]&1&&O(s,1)):(s=Dl(l),s.c(),O(s,1),s.m(e,null)):s&&(le(),N(s,1,1,()=>{s=null}),oe())},i(l){t||(O(s),t=!0)},o(l){N(s),t=!1},d(l){l&&k(e),s&&s.d(),n[20](null),i=!1,De(r)}}}function hh(n,e,t){let{$$slots:i={},$$scope:r}=e,{trigger:s=void 0}=e,{active:l=!1}=e,{escClose:o=!0}=e,{autoScroll:a=!0}=e,{closableClass:u="closable"}=e,{class:f=""}=e,c,d,m,g,p,_=!1;const b=gt();function w(j=0){l&&(clearTimeout(p),p=setTimeout(T,j))}function T(){l&&(t(0,l=!1),_=!1,clearTimeout(g),clearTimeout(p))}function S(){clearTimeout(p),clearTimeout(g),!l&&(t(0,l=!0),m!=null&&m.contains(c)||c==null||c.focus(),g=setTimeout(()=>{a&&(d!=null&&d.scrollIntoViewIfNeeded?d==null||d.scrollIntoViewIfNeeded():d!=null&&d.scrollIntoView&&(d==null||d.scrollIntoView({behavior:"smooth",block:"nearest"})))},180))}function E(){l?T():S()}function F(j){return!c||j.classList.contains(u)||c.contains(j)&&j.closest&&j.closest("."+u)}function L(j){I(),c==null||c.addEventListener("click",R),c==null||c.addEventListener("keydown",P),t(16,m=j||(c==null?void 0:c.parentNode)),m==null||m.addEventListener("click",W),m==null||m.addEventListener("keydown",K)}function I(){clearTimeout(g),clearTimeout(p),c==null||c.removeEventListener("click",R),c==null||c.removeEventListener("keydown",P),m==null||m.removeEventListener("click",W),m==null||m.removeEventListener("keydown",K)}function R(j){j.stopPropagation(),F(j.target)&&T()}function P(j){(j.code==="Enter"||j.code==="Space")&&(j.stopPropagation(),F(j.target)&&w(150))}function W(j){j.preventDefault(),j.stopPropagation(),E()}function K(j){(j.code==="Enter"||j.code==="Space")&&(j.preventDefault(),j.stopPropagation(),E())}function U(j){l&&!(m!=null&&m.contains(j.target))&&!(c!=null&&c.contains(j.target))&&E()}function te(j){l&&o&&j.code==="Escape"&&(j.preventDefault(),T())}function ne(j){l&&(_=!(c!=null&&c.contains(j.target)))}function Y(j){var Ie;l&&_&&!(c!=null&&c.contains(j.target))&&!(m!=null&&m.contains(j.target))&&!((Ie=j.target)!=null&&Ie.closest(".flatpickr-calendar"))&&T()}Ft(()=>(L(),()=>I()));function z(j){ue[j?"unshift":"push"](()=>{d=j,t(3,d)})}function H(j){ue[j?"unshift":"push"](()=>{c=j,t(2,c)})}return n.$$set=j=>{"trigger"in j&&t(8,s=j.trigger),"active"in j&&t(0,l=j.active),"escClose"in j&&t(9,o=j.escClose),"autoScroll"in j&&t(10,a=j.autoScroll),"closableClass"in j&&t(11,u=j.closableClass),"class"in j&&t(1,f=j.class),"$$scope"in j&&t(17,r=j.$$scope)},n.$$.update=()=>{var j,Ie;n.$$.dirty[0]&260&&c&&L(s),n.$$.dirty[0]&65537&&(l?((j=m==null?void 0:m.classList)==null||j.add("active"),m==null||m.setAttribute("aria-expanded",!0),b("show")):((Ie=m==null?void 0:m.classList)==null||Ie.remove("active"),m==null||m.setAttribute("aria-expanded",!1),b("hide")))},[l,f,c,d,U,te,ne,Y,s,o,a,u,w,T,S,E,m,r,i,z,H]}class Ni extends we{constructor(e){super(),ye(this,e,hh,mh,be,{trigger:8,active:0,escClose:9,autoScroll:10,closableClass:11,class:1,hideWithDelay:12,hide:13,show:14,toggle:15},null,[-1,-1])}get hideWithDelay(){return this.$$.ctx[12]}get hide(){return this.$$.ctx[13]}get show(){return this.$$.ctx[14]}get toggle(){return this.$$.ctx[15]}}let ts,Dn;const ns="app-tooltip";function Ol(n){return typeof n=="string"?{text:n,position:"bottom",hideOnClick:null}:n||{}}function wn(){return Dn=Dn||document.querySelector("."+ns),Dn||(Dn=document.createElement("div"),Dn.classList.add(ns),document.body.appendChild(Dn)),Dn}function Rf(n,e){let t=wn();if(!t.classList.contains("active")||!(e!=null&&e.text)){is();return}t.textContent=e.text,t.className=ns+" active",e.class&&t.classList.add(e.class),e.position&&t.classList.add(e.position),t.style.top="0px",t.style.left="0px";let i=t.offsetHeight,r=t.offsetWidth,s=n.getBoundingClientRect(),l=0,o=0,a=5;e.position=="left"?(l=s.top+s.height/2-i/2,o=s.left-r-a):e.position=="right"?(l=s.top+s.height/2-i/2,o=s.right+a):e.position=="top"?(l=s.top-i-a,o=s.left+s.width/2-r/2):e.position=="top-left"?(l=s.top-i-a,o=s.left):e.position=="top-right"?(l=s.top-i-a,o=s.right-r):e.position=="bottom-left"?(l=s.top+s.height+a,o=s.left):e.position=="bottom-right"?(l=s.top+s.height+a,o=s.right-r):(l=s.top+s.height+a,o=s.left+s.width/2-r/2),o+r>document.documentElement.clientWidth&&(o=document.documentElement.clientWidth-r),o=o>=0?o:0,l+i>document.documentElement.clientHeight&&(l=document.documentElement.clientHeight-i),l=l>=0?l:0,t.style.top=l+"px",t.style.left=o+"px"}function is(){clearTimeout(ts),wn().classList.remove("active"),wn().activeNode=void 0}function ph(n,e){wn().activeNode=n,clearTimeout(ts),ts=setTimeout(()=>{wn().classList.add("active"),Rf(n,e)},isNaN(e.delay)?0:e.delay)}function Ge(n,e){let t=Ol(e);function i(){ph(n,t)}function r(){is()}return n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",r),n.addEventListener("blur",r),(t.hideOnClick===!0||t.hideOnClick===null&&A.isFocusable(n))&&n.addEventListener("click",r),wn(),{update(s){var l,o;t=Ol(s),(o=(l=wn())==null?void 0:l.activeNode)!=null&&o.contains(n)&&Rf(n,t)},destroy(){var s,l;(l=(s=wn())==null?void 0:s.activeNode)!=null&&l.contains(n)&&is(),n.removeEventListener("mouseenter",i),n.removeEventListener("mouseleave",r),n.removeEventListener("blur",r),n.removeEventListener("click",r)}}}const sr=tn(""),gh=tn("");function Hi(n){if(!n)throw Error("Parameter args is required");if(!n.component==!n.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(n.component&&(n.asyncComponent=()=>Promise.resolve(n.component)),typeof n.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(n.conditions){Array.isArray(n.conditions)||(n.conditions=[n.conditions]);for(let t=0;t<n.conditions.length;t++)if(!n.conditions[t]||typeof n.conditions[t]!="function")throw Error("Invalid parameter conditions["+t+"]")}return n.loadingComponent&&(n.asyncComponent.loading=n.loadingComponent,n.asyncComponent.loadingParams=n.loadingParams||void 0),{component:n.asyncComponent,userData:n.userData,conditions:n.conditions&&n.conditions.length?n.conditions:void 0,props:n.props&&Object.keys(n.props).length?n.props:{},_sveltesparouter:!0}}const _h=n=>({}),El=n=>({});function bh(n){let e,t,i,r,s,l;const o=n[3].default,a=ut(o,n,n[2],null),u=n[3].footer,f=ut(u,n,n[2],El);return{c(){e=y("div"),t=y("main"),a&&a.c(),i=q(),r=y("footer"),f&&f.c(),h(t,"class","page-content"),h(r,"class","page-footer"),h(e,"class",s="page-wrapper "+n[1]),J(e,"center-content",n[0])},m(c,d){v(c,e,d),C(e,t),a&&a.m(t,null),C(e,i),C(e,r),f&&f.m(r,null),l=!0},p(c,[d]){a&&a.p&&(!l||d&4)&&ct(a,o,c,c[2],l?ft(o,c[2],d,null):dt(c[2]),null),f&&f.p&&(!l||d&4)&&ct(f,u,c,c[2],l?ft(u,c[2],d,_h):dt(c[2]),El),(!l||d&2&&s!==(s="page-wrapper "+c[1]))&&h(e,"class",s),(!l||d&3)&&J(e,"center-content",c[0])},i(c){l||(O(a,c),O(f,c),l=!0)},o(c){N(a,c),N(f,c),l=!1},d(c){c&&k(e),a&&a.d(c),f&&f.d(c)}}}function yh(n,e,t){let{$$slots:i={},$$scope:r}=e,{center:s=!1}=e,{class:l=""}=e;return n.$$set=o=>{"center"in o&&t(0,s=o.center),"class"in o&&t(1,l=o.class),"$$scope"in o&&t(2,r=o.$$scope)},[s,l,r,i]}class Ln extends we{constructor(e){super(),ye(this,e,yh,bh,be,{center:0,class:1})}}function Ml(n){let e,t,i;return{c(){e=y("div"),e.innerHTML='<figure class="logo"><img src="./images/logo.svg" alt="PocketBase logo" width="40" height="40"/> <span class="txt">Pocket<strong>CMS</strong></span></figure>',t=q(),i=y("div"),h(e,"class","block txt-center m-b-lg"),h(i,"class","clearfix")},m(r,s){v(r,e,s),v(r,t,s),v(r,i,s)},d(r){r&&(k(e),k(t),k(i))}}}function wh(n){let e,t,i,r=!n[0]&&Ml();const s=n[1].default,l=ut(s,n,n[2],null);return{c(){e=y("div"),r&&r.c(),t=q(),l&&l.c(),h(e,"class","wrapper wrapper-sm m-b-xl panel-wrapper svelte-lxxzfu")},m(o,a){v(o,e,a),r&&r.m(e,null),C(e,t),l&&l.m(e,null),i=!0},p(o,a){o[0]?r&&(r.d(1),r=null):r||(r=Ml(),r.c(),r.m(e,t)),l&&l.p&&(!i||a&4)&&ct(l,s,o,o[2],i?ft(s,o[2],a,null):dt(o[2]),null)},i(o){i||(O(l,o),i=!0)},o(o){N(l,o),i=!1},d(o){o&&k(e),r&&r.d(),l&&l.d(o)}}}function kh(n){let e,t;return e=new Ln({props:{class:"full-page",center:!0,$$slots:{default:[wh]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,[r]){const s={};r&5&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function vh(n,e,t){let{$$slots:i={},$$scope:r}=e,{nobranding:s=!1}=e;return n.$$set=l=>{"nobranding"in l&&t(0,s=l.nobranding),"$$scope"in l&&t(2,r=l.$$scope)},[s,i,r]}class qf extends we{constructor(e){super(),ye(this,e,vh,kh,be,{nobranding:0})}}function Il(n,e,t){const i=n.slice();return i[12]=e[t],i}const Sh=n=>({}),Nl=n=>({uniqueId:n[4]});function Ch(n){let e,t,i=ke(n[3]),r=[];for(let l=0;l<i.length;l+=1)r[l]=Al(Il(n,i,l));const s=l=>N(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=ge()},m(l,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(l,o);v(l,e,o),t=!0},p(l,o){if(o&8){i=ke(l[3]);let a;for(a=0;a<i.length;a+=1){const u=Il(l,i,a);r[a]?(r[a].p(u,o),O(r[a],1)):(r[a]=Al(u),r[a].c(),O(r[a],1),r[a].m(e.parentNode,e))}for(le(),a=i.length;a<r.length;a+=1)s(a);oe()}},i(l){if(!t){for(let o=0;o<i.length;o+=1)O(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)N(r[o]);t=!1},d(l){l&&k(e),cn(r,l)}}}function Th(n){let e,t,i,r,s,l,o;return{c(){e=y("div"),t=y("i"),h(t,"class","ri-error-warning-fill txt-danger"),h(e,"class","form-field-addon inline-error-icon")},m(a,u){v(a,e,u),C(e,t),s=!0,l||(o=He(i=Ge.call(null,t,{position:"left",text:n[3].map(lr).join(`
`)})),l=!0)},p(a,u){i&&st(i.update)&&u&8&&i.update.call(null,{position:"left",text:a[3].map(lr).join(`
`)})},i(a){s||(a&&ht(()=>{s&&(r||(r=mt(t,js,{duration:150,start:.7},!0)),r.run(1))}),s=!0)},o(a){a&&(r||(r=mt(t,js,{duration:150,start:.7},!1)),r.run(0)),s=!1},d(a){a&&k(e),a&&r&&r.end(),l=!1,o()}}}function Al(n){let e,t,i=lr(n[12])+"",r,s,l,o;return{c(){e=y("div"),t=y("pre"),r=re(i),s=q(),h(e,"class","help-block help-block-error")},m(a,u){v(a,e,u),C(e,t),C(t,r),C(e,s),o=!0},p(a,u){(!o||u&8)&&i!==(i=lr(a[12])+"")&&_e(r,i)},i(a){o||(a&&ht(()=>{o&&(l||(l=mt(e,Xn,{duration:150},!0)),l.run(1))}),o=!0)},o(a){a&&(l||(l=mt(e,Xn,{duration:150},!1)),l.run(0)),o=!1},d(a){a&&k(e),a&&l&&l.end()}}}function Dh(n){let e,t,i,r,s,l,o;const a=n[9].default,u=ut(a,n,n[8],Nl),f=[Th,Ch],c=[];function d(m,g){return m[0]&&m[3].length?0:1}return i=d(n),r=c[i]=f[i](n),{c(){e=y("div"),u&&u.c(),t=q(),r.c(),h(e,"class",n[1]),J(e,"error",n[3].length)},m(m,g){v(m,e,g),u&&u.m(e,null),C(e,t),c[i].m(e,null),n[11](e),s=!0,l||(o=x(e,"click",n[10]),l=!0)},p(m,[g]){u&&u.p&&(!s||g&256)&&ct(u,a,m,m[8],s?ft(a,m[8],g,Sh):dt(m[8]),Nl);let p=i;i=d(m),i===p?c[i].p(m,g):(le(),N(c[p],1,1,()=>{c[p]=null}),oe(),r=c[i],r?r.p(m,g):(r=c[i]=f[i](m),r.c()),O(r,1),r.m(e,null)),(!s||g&2)&&h(e,"class",m[1]),(!s||g&10)&&J(e,"error",m[3].length)},i(m){s||(O(u,m),O(r),s=!0)},o(m){N(u,m),N(r),s=!1},d(m){m&&k(e),u&&u.d(m),c[i].d(),n[11](null),l=!1,o()}}}const Ll="Invalid value";function lr(n){return typeof n=="object"?(n==null?void 0:n.message)||(n==null?void 0:n.code)||Ll:n||Ll}function Oh(n,e,t){let i;Ke(n,Ss,p=>t(7,i=p));let{$$slots:r={},$$scope:s}=e;const l="field_"+A.randomString(7);let{name:o=""}=e,{inlineError:a=!1}=e,{class:u=void 0}=e,f,c=[];function d(){$r(o)}Ft(()=>(f.addEventListener("input",d),f.addEventListener("change",d),()=>{f.removeEventListener("input",d),f.removeEventListener("change",d)}));function m(p){Ct.call(this,n,p)}function g(p){ue[p?"unshift":"push"](()=>{f=p,t(2,f)})}return n.$$set=p=>{"name"in p&&t(5,o=p.name),"inlineError"in p&&t(0,a=p.inlineError),"class"in p&&t(1,u=p.class),"$$scope"in p&&t(8,s=p.$$scope)},n.$$.update=()=>{n.$$.dirty&160&&t(3,c=A.toArray(A.getNestedVal(i,o)))},[a,u,f,c,l,o,d,i,s,r,m,g]}class Ze extends we{constructor(e){super(),ye(this,e,Oh,Dh,be,{name:5,inlineError:0,class:1,changed:6})}get changed(){return this.$$.ctx[6]}}function Eh(n){let e,t,i,r,s,l,o,a,u,f,c,d,m,g,p;return r=new Ze({props:{class:"form-field required",name:"email",$$slots:{default:[Ih,({uniqueId:_})=>({13:_}),({uniqueId:_})=>_?8192:0]},$$scope:{ctx:n}}}),l=new Ze({props:{class:"form-field required",name:"name",$$slots:{default:[Nh,({uniqueId:_})=>({13:_}),({uniqueId:_})=>_?8192:0]},$$scope:{ctx:n}}}),a=new Ze({props:{class:"form-field required",name:"password",$$slots:{default:[Ah,({uniqueId:_})=>({13:_}),({uniqueId:_})=>_?8192:0]},$$scope:{ctx:n}}}),f=new Ze({props:{class:"form-field required",name:"passwordConfirm",$$slots:{default:[Lh,({uniqueId:_})=>({13:_}),({uniqueId:_})=>_?8192:0]},$$scope:{ctx:n}}}),{c(){e=y("form"),t=y("div"),t.innerHTML="<h4>Create your first CMS user account in order to continue</h4>",i=q(),X(r.$$.fragment),s=q(),X(l.$$.fragment),o=q(),X(a.$$.fragment),u=q(),X(f.$$.fragment),c=q(),d=y("button"),d.innerHTML='<span class="txt">Create and login</span> <i class="ri-arrow-right-line"></i>',h(t,"class","content txt-center m-b-base"),h(d,"type","submit"),h(d,"class","btn btn-lg btn-block btn-next"),J(d,"btn-disabled",n[4]),J(d,"btn-loading",n[4]),h(e,"class","block"),h(e,"autocomplete","off")},m(_,b){v(_,e,b),C(e,t),C(e,i),G(r,e,null),C(e,s),G(l,e,null),C(e,o),G(a,e,null),C(e,u),G(f,e,null),C(e,c),C(e,d),m=!0,g||(p=x(e,"submit",Qe(n[6])),g=!0)},p(_,b){const w={};b&24577&&(w.$$scope={dirty:b,ctx:_}),r.$set(w);const T={};b&24578&&(T.$$scope={dirty:b,ctx:_}),l.$set(T);const S={};b&24580&&(S.$$scope={dirty:b,ctx:_}),a.$set(S);const E={};b&24584&&(E.$$scope={dirty:b,ctx:_}),f.$set(E),(!m||b&16)&&J(d,"btn-disabled",_[4]),(!m||b&16)&&J(d,"btn-loading",_[4])},i(_){m||(O(r.$$.fragment,_),O(l.$$.fragment,_),O(a.$$.fragment,_),O(f.$$.fragment,_),m=!0)},o(_){N(r.$$.fragment,_),N(l.$$.fragment,_),N(a.$$.fragment,_),N(f.$$.fragment,_),m=!1},d(_){_&&k(e),Q(r),Q(l),Q(a),Q(f),g=!1,p()}}}function Mh(n){let e,t,i;return{c(){e=y("div"),e.innerHTML="<h4>Looks like you haven&#39;t signed into PocketBase yet.</h4> <p>Please visit PocketBase first, then return here to set up PocketCMS!</p>",t=q(),i=y("div"),i.innerHTML='<a href="/_/"><button class="btn"><span class="txt">Setup PocketBase</span></button></a>',h(e,"class","content txt-center m-b-base"),h(i,"class","content txt-center m-b-base")},m(r,s){v(r,e,s),v(r,t,s),v(r,i,s)},p:$,i:$,o:$,d(r){r&&(k(e),k(t),k(i))}}}function Ih(n){let e,t,i,r,s,l,o,a;return{c(){e=y("label"),t=re("Email"),r=q(),s=y("input"),h(e,"for",i=n[13]),h(s,"type","email"),h(s,"autocomplete","off"),h(s,"id",l=n[13]),s.required=!0,s.autofocus=!0},m(u,f){v(u,e,f),C(e,t),v(u,r,f),v(u,s,f),Pe(s,n[0]),s.focus(),o||(a=x(s,"input",n[7]),o=!0)},p(u,f){f&8192&&i!==(i=u[13])&&h(e,"for",i),f&8192&&l!==(l=u[13])&&h(s,"id",l),f&1&&s.value!==u[0]&&Pe(s,u[0])},d(u){u&&(k(e),k(r),k(s)),o=!1,a()}}}function Nh(n){let e,t,i,r,s,l,o,a;return{c(){e=y("label"),t=re("Name"),r=q(),s=y("input"),h(e,"for",i=n[13]),h(s,"type","text"),h(s,"autocomplete","off"),h(s,"id",l=n[13]),s.required=!0},m(u,f){v(u,e,f),C(e,t),v(u,r,f),v(u,s,f),Pe(s,n[1]),o||(a=x(s,"input",n[8]),o=!0)},p(u,f){f&8192&&i!==(i=u[13])&&h(e,"for",i),f&8192&&l!==(l=u[13])&&h(s,"id",l),f&2&&s.value!==u[1]&&Pe(s,u[1])},d(u){u&&(k(e),k(r),k(s)),o=!1,a()}}}function Ah(n){let e,t,i,r,s,l,o,a,u,f;return{c(){e=y("label"),t=re("Password"),r=q(),s=y("input"),o=q(),a=y("div"),a.textContent="Minimum 8 characters.",h(e,"for",i=n[13]),h(s,"type","password"),h(s,"autocomplete","new-password"),h(s,"minlength","8"),h(s,"id",l=n[13]),s.required=!0,h(a,"class","help-block")},m(c,d){v(c,e,d),C(e,t),v(c,r,d),v(c,s,d),Pe(s,n[2]),v(c,o,d),v(c,a,d),u||(f=x(s,"input",n[9]),u=!0)},p(c,d){d&8192&&i!==(i=c[13])&&h(e,"for",i),d&8192&&l!==(l=c[13])&&h(s,"id",l),d&4&&s.value!==c[2]&&Pe(s,c[2])},d(c){c&&(k(e),k(r),k(s),k(o),k(a)),u=!1,f()}}}function Lh(n){let e,t,i,r,s,l,o,a;return{c(){e=y("label"),t=re("Password confirm"),r=q(),s=y("input"),h(e,"for",i=n[13]),h(s,"type","password"),h(s,"minlength","10"),h(s,"id",l=n[13]),s.required=!0},m(u,f){v(u,e,f),C(e,t),v(u,r,f),v(u,s,f),Pe(s,n[3]),o||(a=x(s,"input",n[10]),o=!0)},p(u,f){f&8192&&i!==(i=u[13])&&h(e,"for",i),f&8192&&l!==(l=u[13])&&h(s,"id",l),f&8&&s.value!==u[3]&&Pe(s,u[3])},d(u){u&&(k(e),k(r),k(s)),o=!1,a()}}}function Fh(n){let e,t,i,r;const s=[Mh,Eh],l=[];function o(a,u){return a[5]==="pb"?0:1}return e=o(n),t=l[e]=s[e](n),{c(){t.c(),i=ge()},m(a,u){l[e].m(a,u),v(a,i,u),r=!0},p(a,[u]){let f=e;e=o(a),e===f?l[e].p(a,u):(le(),N(l[f],1,1,()=>{l[f]=null}),oe(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&k(i),l[e].d(a)}}}function Ph(n,e,t){const i=gt();let r="",s="",l="",o="",a=!1,u="";f();function f(){const _=new URLSearchParams(window.location.search);t(5,u=_.get("installer"))}async function c(){if(!a){t(4,a=!0);try{await Me.collection("pcms__users").create({email:r,name:s,password:l,passwordConfirm:o,emailVisibility:!0}),await Me.collection("pcms__users").authWithPassword(r,l),i("submit")}catch(_){Me.error(_)}t(4,a=!1)}}function d(){r=this.value,t(0,r)}function m(){s=this.value,t(1,s)}function g(){l=this.value,t(2,l)}function p(){o=this.value,t(3,o)}return[r,s,l,o,a,u,c,d,m,g,p]}class Rh extends we{constructor(e){super(),ye(this,e,Ph,Fh,be,{})}}function Fl(n){let e,t;return e=new qf({props:{$$slots:{default:[qh]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,r){const s={};r&9&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function qh(n){let e,t;return e=new Rh({}),e.$on("submit",n[1]),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p:$,i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function jh(n){let e,t,i=n[0]&&Fl(n);return{c(){i&&i.c(),e=ge()},m(r,s){i&&i.m(r,s),v(r,e,s),t=!0},p(r,[s]){r[0]?i?(i.p(r,s),s&1&&O(i,1)):(i=Fl(r),i.c(),O(i,1),i.m(e.parentNode,e)):i&&(le(),N(i,1,1,()=>{i=null}),oe())},i(r){t||(O(i),t=!0)},o(r){N(i),t=!1},d(r){r&&k(e),i&&i.d(r)}}}function Vh(n,e,t){let i=!1;r();function r(){if(t(0,i=!1),new URLSearchParams(window.location.search).has("installer")){Me.logout(!1),t(0,i=!0);return}Me.authStore.isValid?Di("/collections"):Me.logout()}return[i,async()=>{t(0,i=!1),await Xt(),window.location.search=""}]}class Wh extends we{constructor(e){super(),ye(this,e,Vh,jh,be,{})}}const dn=tn([]),an=tn({}),vi=tn(!1);let Pl;typeof BroadcastChannel<"u"&&(Pl=new BroadcastChannel("collections"),Pl.onmessage=()=>{var n;Ts((n=oc(an))==null?void 0:n.id)});function Hh(n){dn.update(e=>{const t=A.findByKey(e,"id",n);return t?an.set(t):e.length&&an.set(e[0]),e})}async function Ts(n=null){vi.set(!0);try{let e=await Me.collection("pcms__collections").getFullList(200,{sort:"+name"});e=A.sortCollections(e),dn.set(e);const t=n&&A.findByKey(e,"id",n);t?an.set(t):e.length&&an.set(e[0])}catch(e){kr("Failed to load, please make sure collection pcms__collections exists"),Me.error(e)}vi.set(!1)}function Uh(n){let e,t,i;return{c(){e=y("span"),h(e,"class","dragline svelte-1g2t3dj"),J(e,"dragging",n[1])},m(r,s){v(r,e,s),n[4](e),t||(i=[x(e,"mousedown",n[5]),x(e,"touchstart",n[2])],t=!0)},p(r,[s]){s&2&&J(e,"dragging",r[1])},i:$,o:$,d(r){r&&k(e),n[4](null),t=!1,De(i)}}}function zh(n,e,t){const i=gt();let{tolerance:r=0}=e,s,l=0,o=0,a=0,u=0,f=!1;function c(_){_.stopPropagation(),l=_.clientX,o=_.clientY,a=_.clientX-s.offsetLeft,u=_.clientY-s.offsetTop,document.addEventListener("touchmove",m),document.addEventListener("mousemove",m),document.addEventListener("touchend",d),document.addEventListener("mouseup",d)}function d(_){f&&(_.preventDefault(),t(1,f=!1),s.classList.remove("no-pointer-events"),i("dragstop",{event:_,elem:s})),document.removeEventListener("touchmove",m),document.removeEventListener("mousemove",m),document.removeEventListener("touchend",d),document.removeEventListener("mouseup",d)}function m(_){let b=_.clientX-l,w=_.clientY-o,T=_.clientX-a,S=_.clientY-u;!f&&Math.abs(T-s.offsetLeft)<r&&Math.abs(S-s.offsetTop)<r||(_.preventDefault(),f||(t(1,f=!0),s.classList.add("no-pointer-events"),i("dragstart",{event:_,elem:s})),i("dragging",{event:_,elem:s,diffX:b,diffY:w}))}function g(_){ue[_?"unshift":"push"](()=>{s=_,t(0,s)})}const p=_=>{_.button==0&&c(_)};return n.$$set=_=>{"tolerance"in _&&t(3,r=_.tolerance)},[s,f,c,r,g,p]}class Yh extends we{constructor(e){super(),ye(this,e,zh,Uh,be,{tolerance:3})}}function Bh(n){let e,t,i,r,s;const l=n[5].default,o=ut(l,n,n[4],null);return r=new Yh({}),r.$on("dragstart",n[7]),r.$on("dragging",n[8]),r.$on("dragstop",n[9]),{c(){e=y("aside"),o&&o.c(),i=q(),X(r.$$.fragment),h(e,"class",t="page-sidebar "+n[0])},m(a,u){v(a,e,u),o&&o.m(e,null),n[6](e),v(a,i,u),G(r,a,u),s=!0},p(a,[u]){o&&o.p&&(!s||u&16)&&ct(o,l,a,a[4],s?ft(l,a[4],u,null):dt(a[4]),null),(!s||u&1&&t!==(t="page-sidebar "+a[0]))&&h(e,"class",t)},i(a){s||(O(o,a),O(r.$$.fragment,a),s=!0)},o(a){N(o,a),N(r.$$.fragment,a),s=!1},d(a){a&&(k(e),k(i)),o&&o.d(a),n[6](null),Q(r,a)}}}const Rl="@adminSidebarWidth";function Kh(n,e,t){let{$$slots:i={},$$scope:r}=e,{class:s=""}=e,l,o,a=localStorage.getItem(Rl)||null;function u(m){ue[m?"unshift":"push"](()=>{l=m,t(1,l),t(2,a)})}const f=()=>{t(3,o=l.offsetWidth)},c=m=>{t(2,a=o+m.detail.diffX+"px")},d=()=>{A.triggerResize()};return n.$$set=m=>{"class"in m&&t(0,s=m.class),"$$scope"in m&&t(4,r=m.$$scope)},n.$$.update=()=>{n.$$.dirty&6&&a&&l&&(t(1,l.style.width=a,l),localStorage.setItem(Rl,a))},[s,l,a,o,r,i,u,f,c,d]}class Zh extends we{constructor(e){super(),ye(this,e,Kh,Bh,be,{class:0})}}function Jh(n){let e;return{c(){e=y("i"),h(e,"class","ri-pushpin-line m-l-auto svelte-1u3ag8h")},m(t,i){v(t,e,i)},d(t){t&&k(e)}}}function Gh(n){let e;return{c(){e=y("i"),h(e,"class","ri-unpin-line svelte-1u3ag8h")},m(t,i){v(t,e,i)},d(t){t&&k(e)}}}function Qh(n){let e,t,i,r,s,l=A.replacePcmsPrefix(n[0].name)+"",o,a,u,f,c,d,m,g;function p(w,T){return w[1]?Gh:Jh}let _=p(n),b=_(n);return{c(){var w;e=y("a"),t=y("i"),r=q(),s=y("span"),o=re(l),a=q(),u=y("span"),b.c(),h(t,"class",i=kn(A.getCollectionTypeIcon(n[0].type))+" svelte-1u3ag8h"),h(t,"aria-hidden","true"),h(s,"class","txt m-r-auto"),h(u,"class","btn btn-xs btn-circle btn-hint btn-transparent pin-collection svelte-1u3ag8h"),h(u,"aria-label","Pin collection"),h(u,"aria-hidden","true"),h(e,"href",c="/collections?collectionId="+n[0].id),h(e,"class","sidebar-list-item svelte-1u3ag8h"),h(e,"title",d=n[0].name),J(e,"active",((w=n[2])==null?void 0:w.id)===n[0].id)},m(w,T){v(w,e,T),C(e,t),C(e,r),C(e,s),C(s,o),C(e,a),C(e,u),b.m(u,null),m||(g=[He(f=Ge.call(null,u,{position:"right",text:(n[1]?"Unpin":"Pin")+" collection"})),x(u,"click",$t(Qe(n[5]))),He(Ki.call(null,e))],m=!0)},p(w,[T]){var S;T&1&&i!==(i=kn(A.getCollectionTypeIcon(w[0].type))+" svelte-1u3ag8h")&&h(t,"class",i),T&1&&l!==(l=A.replacePcmsPrefix(w[0].name)+"")&&_e(o,l),_!==(_=p(w))&&(b.d(1),b=_(w),b&&(b.c(),b.m(u,null))),f&&st(f.update)&&T&2&&f.update.call(null,{position:"right",text:(w[1]?"Unpin":"Pin")+" collection"}),T&1&&c!==(c="/collections?collectionId="+w[0].id)&&h(e,"href",c),T&1&&d!==(d=w[0].name)&&h(e,"title",d),T&5&&J(e,"active",((S=w[2])==null?void 0:S.id)===w[0].id)},i:$,o:$,d(w){w&&k(e),b.d(),m=!1,De(g)}}}function Xh(n,e,t){let i,r;Ke(n,an,u=>t(2,r=u));let{collection:s}=e,{pinnedIds:l}=e;function o(u){l.includes(u.id)?A.removeByValue(l,u.id):l.push(u.id),t(4,l)}const a=()=>o(s);return n.$$set=u=>{"collection"in u&&t(0,s=u.collection),"pinnedIds"in u&&t(4,l=u.pinnedIds)},n.$$.update=()=>{n.$$.dirty&17&&t(1,i=l.includes(s.id))},[s,i,r,o,l,a]}class jf extends we{constructor(e){super(),ye(this,e,Xh,Qh,be,{collection:0,pinnedIds:4})}}function ql(n,e,t){const i=n.slice();return i[18]=e[t],i}function jl(n,e,t){const i=n.slice();return i[18]=e[t],i}function Vl(n){let e,t,i=[],r=new Map,s,l,o=ke(n[5]);const a=u=>u[18].id;for(let u=0;u<o.length;u+=1){let f=jl(n,o,u),c=a(f);r.set(c,i[u]=Wl(c,f))}return{c(){e=y("div"),e.textContent="Pinned",t=q();for(let u=0;u<i.length;u+=1)i[u].c();s=ge(),h(e,"class","sidebar-title")},m(u,f){v(u,e,f),v(u,t,f);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(u,f);v(u,s,f),l=!0},p(u,f){f&34&&(o=ke(u[5]),le(),i=pt(i,f,a,1,u,o,r,s.parentNode,Lt,Wl,s,jl),oe())},i(u){if(!l){for(let f=0;f<o.length;f+=1)O(i[f]);l=!0}},o(u){for(let f=0;f<i.length;f+=1)N(i[f]);l=!1},d(u){u&&(k(e),k(t),k(s));for(let f=0;f<i.length;f+=1)i[f].d(u)}}}function Wl(n,e){let t,i,r,s;function l(a){e[11](a)}let o={collection:e[18]};return e[1]!==void 0&&(o.pinnedIds=e[1]),i=new jf({props:o}),ue.push(()=>Ae(i,"pinnedIds",l)),{key:n,first:null,c(){t=ge(),X(i.$$.fragment),this.first=t},m(a,u){v(a,t,u),G(i,a,u),s=!0},p(a,u){e=a;const f={};u&32&&(f.collection=e[18]),!r&&u&2&&(r=!0,f.pinnedIds=e[1],Fe(()=>r=!1)),i.$set(f)},i(a){s||(O(i.$$.fragment,a),s=!0)},o(a){N(i.$$.fragment,a),s=!1},d(a){a&&k(t),Q(i,a)}}}function Hl(n){let e,t=[],i=new Map,r,s,l=n[5].length&&Ul(),o=ke(n[4]);const a=u=>u[18].id;for(let u=0;u<o.length;u+=1){let f=ql(n,o,u),c=a(f);i.set(c,t[u]=zl(c,f))}return{c(){l&&l.c(),e=q();for(let u=0;u<t.length;u+=1)t[u].c();r=ge()},m(u,f){l&&l.m(u,f),v(u,e,f);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(u,f);v(u,r,f),s=!0},p(u,f){u[5].length?l||(l=Ul(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&18&&(o=ke(u[4]),le(),t=pt(t,f,a,1,u,o,i,r.parentNode,Lt,zl,r,ql),oe())},i(u){if(!s){for(let f=0;f<o.length;f+=1)O(t[f]);s=!0}},o(u){for(let f=0;f<t.length;f+=1)N(t[f]);s=!1},d(u){u&&(k(e),k(r)),l&&l.d(u);for(let f=0;f<t.length;f+=1)t[f].d(u)}}}function Ul(n){let e;return{c(){e=y("div"),e.textContent="Others",h(e,"class","sidebar-title")},m(t,i){v(t,e,i)},d(t){t&&k(e)}}}function zl(n,e){let t,i,r,s;function l(a){e[12](a)}let o={collection:e[18]};return e[1]!==void 0&&(o.pinnedIds=e[1]),i=new jf({props:o}),ue.push(()=>Ae(i,"pinnedIds",l)),{key:n,first:null,c(){t=ge(),X(i.$$.fragment),this.first=t},m(a,u){v(a,t,u),G(i,a,u),s=!0},p(a,u){e=a;const f={};u&16&&(f.collection=e[18]),!r&&u&2&&(r=!0,f.pinnedIds=e[1],Fe(()=>r=!1)),i.$set(f)},i(a){s||(O(i.$$.fragment,a),s=!0)},o(a){N(i.$$.fragment,a),s=!1},d(a){a&&k(t),Q(i,a)}}}function Yl(n){let e;return{c(){e=y("p"),e.textContent="No collections found.",h(e,"class","txt-hint m-t-10 m-b-10 txt-center")},m(t,i){v(t,e,i)},d(t){t&&k(e)}}}function $h(n){let e,t,i,r,s,l,o,a,u,f,c,d,m,g,p,_=n[5].length&&Vl(n),b=n[4].length&&Hl(n),w=n[3].length&&!n[2].length&&Yl();return{c(){e=y("header"),t=y("div"),i=y("div"),r=y("button"),r.innerHTML='<i class="ri-close-line"></i>',s=q(),l=y("input"),o=q(),a=y("hr"),u=q(),f=y("div"),_&&_.c(),c=q(),b&&b.c(),d=q(),w&&w.c(),h(r,"type","button"),h(r,"class","btn btn-xs btn-transparent btn-circle btn-clear"),J(r,"hidden",!n[6]),h(i,"class","form-field-addon"),h(l,"type","text"),h(l,"placeholder","Search collections..."),h(l,"name","collections-search"),h(t,"class","form-field search"),J(t,"active",n[6]),h(e,"class","sidebar-header"),h(a,"class","m-t-5 m-b-xs"),h(f,"class","sidebar-content"),J(f,"fade",n[7]),J(f,"sidebar-content-compact",n[2].length>20)},m(T,S){v(T,e,S),C(e,t),C(t,i),C(i,r),C(t,s),C(t,l),Pe(l,n[0]),v(T,o,S),v(T,a,S),v(T,u,S),v(T,f,S),_&&_.m(f,null),C(f,c),b&&b.m(f,null),C(f,d),w&&w.m(f,null),m=!0,g||(p=[x(r,"click",n[9]),x(l,"input",n[10])],g=!0)},p(T,S){(!m||S&64)&&J(r,"hidden",!T[6]),S&1&&l.value!==T[0]&&Pe(l,T[0]),(!m||S&64)&&J(t,"active",T[6]),T[5].length?_?(_.p(T,S),S&32&&O(_,1)):(_=Vl(T),_.c(),O(_,1),_.m(f,c)):_&&(le(),N(_,1,1,()=>{_=null}),oe()),T[4].length?b?(b.p(T,S),S&16&&O(b,1)):(b=Hl(T),b.c(),O(b,1),b.m(f,d)):b&&(le(),N(b,1,1,()=>{b=null}),oe()),T[3].length&&!T[2].length?w||(w=Yl(),w.c(),w.m(f,null)):w&&(w.d(1),w=null),(!m||S&128)&&J(f,"fade",T[7]),(!m||S&4)&&J(f,"sidebar-content-compact",T[2].length>20)},i(T){m||(O(_),O(b),m=!0)},o(T){N(_),N(b),m=!1},d(T){T&&(k(e),k(o),k(a),k(u),k(f)),_&&_.d(),b&&b.d(),w&&w.d(),g=!1,De(p)}}}function xh(n){let e,t;return e=new Zh({props:{class:"collection-sidebar",$$slots:{default:[$h]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,[r]){const s={};r&8388863&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}const Bl="@pinnedCollections";function ep(){setTimeout(()=>{const n=document.querySelector(".collection-sidebar .sidebar-list-item.active");n&&(n==null||n.scrollIntoView({block:"nearest"}))},0)}function tp(n,e,t){let i,r,s,l,o,a,u;Ke(n,dn,w=>t(8,a=w)),Ke(n,an,w=>t(13,w)),Ke(n,vi,w=>t(7,u=w));let f="",c=[];d();function d(){t(1,c=[]);try{const w=localStorage.getItem(Bl);w&&t(1,c=JSON.parse(w)||[])}catch{}}function m(){t(1,c=c.filter(w=>!!a.find(T=>T.id==w)))}const g=()=>t(0,f="");function p(){f=this.value,t(0,f)}function _(w){c=w,t(1,c)}function b(w){c=w,t(1,c)}return n.$$.update=()=>{n.$$.dirty&256&&a&&(m(),ep()),n.$$.dirty&1&&t(3,i=f.replace(/\s+/g,"").toLowerCase()),n.$$.dirty&1&&t(6,r=f!==""),n.$$.dirty&2&&c&&localStorage.setItem(Bl,JSON.stringify(c)),n.$$.dirty&265&&t(2,s=a.filter(w=>w.id==f||w.name.replace(/\s+/g,"").toLowerCase().includes(i))),n.$$.dirty&6&&t(5,l=s.filter(w=>c.includes(w.id))),n.$$.dirty&6&&t(4,o=s.filter(w=>!c.includes(w.id)))},[f,c,s,i,o,l,r,u,a,g,p,_,b]}class Vf extends we{constructor(e){super(),ye(this,e,tp,xh,be,{})}}function np(n){let e,t,i,r,s;const l=n[6].default,o=ut(l,n,n[5],null);return{c(){e=y("th"),o&&o.c(),h(e,"tabindex","0"),h(e,"title",n[2]),h(e,"class",t="col-sort "+n[1]),J(e,"col-sort-disabled",n[3]),J(e,"sort-active",n[0]==="-"+n[2]||n[0]==="+"+n[2]),J(e,"sort-desc",n[0]==="-"+n[2]),J(e,"sort-asc",n[0]==="+"+n[2])},m(a,u){v(a,e,u),o&&o.m(e,null),i=!0,r||(s=[x(e,"click",n[7]),x(e,"keydown",n[8])],r=!0)},p(a,[u]){o&&o.p&&(!i||u&32)&&ct(o,l,a,a[5],i?ft(l,a[5],u,null):dt(a[5]),null),(!i||u&4)&&h(e,"title",a[2]),(!i||u&2&&t!==(t="col-sort "+a[1]))&&h(e,"class",t),(!i||u&10)&&J(e,"col-sort-disabled",a[3]),(!i||u&7)&&J(e,"sort-active",a[0]==="-"+a[2]||a[0]==="+"+a[2]),(!i||u&7)&&J(e,"sort-desc",a[0]==="-"+a[2]),(!i||u&7)&&J(e,"sort-asc",a[0]==="+"+a[2])},i(a){i||(O(o,a),i=!0)},o(a){N(o,a),i=!1},d(a){a&&k(e),o&&o.d(a),r=!1,De(s)}}}function ip(n,e,t){let{$$slots:i={},$$scope:r}=e,{class:s=""}=e,{name:l}=e,{sort:o=""}=e,{disable:a=!1}=e;function u(){a||("-"+l===o?t(0,o="+"+l):t(0,o="-"+l))}const f=()=>u(),c=d=>{(d.code==="Enter"||d.code==="Space")&&(d.preventDefault(),u())};return n.$$set=d=>{"class"in d&&t(1,s=d.class),"name"in d&&t(2,l=d.name),"sort"in d&&t(0,o=d.sort),"disable"in d&&t(3,a=d.disable),"$$scope"in d&&t(5,r=d.$$scope)},[o,s,l,a,u,r,i,f,c]}class ii extends we{constructor(e){super(),ye(this,e,ip,np,be,{class:1,name:2,sort:0,disable:3})}}function rp(n){let e,t,i,r,s;return{c(){e=y("i"),h(e,"tabindex","-1"),h(e,"role","button"),h(e,"class",t=n[3]?n[2]:n[1]),h(e,"aria-label","Copy to clipboard")},m(l,o){v(l,e,o),r||(s=[He(i=Ge.call(null,e,n[3]?void 0:n[0])),x(e,"click",$t(n[4]))],r=!0)},p(l,[o]){o&14&&t!==(t=l[3]?l[2]:l[1])&&h(e,"class",t),i&&st(i.update)&&o&9&&i.update.call(null,l[3]?void 0:l[0])},i:$,o:$,d(l){l&&k(e),r=!1,De(s)}}}function sp(n,e,t){let{value:i=""}=e,{tooltip:r="Copy"}=e,{idleClasses:s="ri-file-copy-line txt-sm link-hint"}=e,{successClasses:l="ri-check-line txt-sm txt-success"}=e,{successDuration:o=500}=e,a;function u(){i&&(A.copyToClipboard(i),clearTimeout(a),t(3,a=setTimeout(()=>{clearTimeout(a),t(3,a=null)},o)))}return Ft(()=>()=>{a&&clearTimeout(a)}),n.$$set=f=>{"value"in f&&t(5,i=f.value),"tooltip"in f&&t(0,r=f.tooltip),"idleClasses"in f&&t(1,s=f.idleClasses),"successClasses"in f&&t(2,l=f.successClasses),"successDuration"in f&&t(6,o=f.successDuration)},[r,s,l,a,u,i,o]}class Ds extends we{constructor(e){super(),ye(this,e,sp,rp,be,{value:5,tooltip:0,idleClasses:1,successClasses:2,successDuration:6})}}function lp(n){let e;return{c(){e=y("span"),e.textContent="N/A",h(e,"class","txt txt-hint")},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function op(n){let e,t,i,r,s,l,o,a,u;return{c(){e=y("div"),t=y("div"),i=re(n[2]),r=q(),s=y("div"),l=re(n[1]),o=re(" UTC"),h(t,"class","date"),h(s,"class","time svelte-5pjd03"),h(e,"class","datetime svelte-5pjd03")},m(f,c){v(f,e,c),C(e,t),C(t,i),C(e,r),C(e,s),C(s,l),C(s,o),a||(u=He(Ge.call(null,e,n[3])),a=!0)},p(f,c){c&4&&_e(i,f[2]),c&2&&_e(l,f[1])},d(f){f&&k(e),a=!1,u()}}}function ap(n){let e;function t(s,l){return s[0]?op:lp}let i=t(n),r=i(n);return{c(){r.c(),e=ge()},m(s,l){r.m(s,l),v(s,e,l)},p(s,[l]){i===(i=t(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(e.parentNode,e)))},i:$,o:$,d(s){s&&k(e),r.d(s)}}}function up(n,e,t){let i,r,{date:s=""}=e;const l={get text(){return A.formatToLocalDate(s)+" Local"}};return n.$$set=o=>{"date"in o&&t(0,s=o.date)},n.$$.update=()=>{n.$$.dirty&1&&t(2,i=s?s.substring(0,10):null),n.$$.dirty&1&&t(1,r=s?s.substring(10,19):null)},[s,r,i,l]}class Os extends we{constructor(e){super(),ye(this,e,up,ap,be,{date:0})}}const fp=n=>({}),Kl=n=>({}),cp=n=>({}),Zl=n=>({});function dp(n){let e,t,i,r,s,l,o,a;const u=n[11].before,f=ut(u,n,n[10],Zl),c=n[11].default,d=ut(c,n,n[10],null),m=n[11].after,g=ut(m,n,n[10],Kl);return{c(){e=y("div"),f&&f.c(),t=q(),i=y("div"),d&&d.c(),s=q(),g&&g.c(),h(i,"class",r="scroller "+n[0]+" "+n[3]+" svelte-3a0gfs"),h(e,"class","scroller-wrapper svelte-3a0gfs")},m(p,_){v(p,e,_),f&&f.m(e,null),C(e,t),C(e,i),d&&d.m(i,null),n[12](i),C(e,s),g&&g.m(e,null),l=!0,o||(a=[x(window,"resize",n[1]),x(i,"scroll",n[1])],o=!0)},p(p,[_]){f&&f.p&&(!l||_&1024)&&ct(f,u,p,p[10],l?ft(u,p[10],_,cp):dt(p[10]),Zl),d&&d.p&&(!l||_&1024)&&ct(d,c,p,p[10],l?ft(c,p[10],_,null):dt(p[10]),null),(!l||_&9&&r!==(r="scroller "+p[0]+" "+p[3]+" svelte-3a0gfs"))&&h(i,"class",r),g&&g.p&&(!l||_&1024)&&ct(g,m,p,p[10],l?ft(m,p[10],_,fp):dt(p[10]),Kl)},i(p){l||(O(f,p),O(d,p),O(g,p),l=!0)},o(p){N(f,p),N(d,p),N(g,p),l=!1},d(p){p&&k(e),f&&f.d(p),d&&d.d(p),n[12](null),g&&g.d(p),o=!1,De(a)}}}function mp(n,e,t){let{$$slots:i={},$$scope:r}=e;const s=gt();let{class:l=""}=e,{vThreshold:o=0}=e,{hThreshold:a=0}=e,{dispatchOnNoScroll:u=!0}=e,f=null,c="",d=null,m,g,p,_,b;function w(){f&&t(2,f.scrollTop=0,f)}function T(){f&&t(2,f.scrollLeft=0,f)}function S(){f&&(t(3,c=""),p=f.clientWidth+2,_=f.clientHeight+2,m=f.scrollWidth-p,g=f.scrollHeight-_,g>0?(t(3,c+=" v-scroll"),o>=_&&t(4,o=0),f.scrollTop-o<=0&&(t(3,c+=" v-scroll-start"),s("vScrollStart")),f.scrollTop+o>=g&&(t(3,c+=" v-scroll-end"),s("vScrollEnd"))):u&&s("vScrollEnd"),m>0?(t(3,c+=" h-scroll"),a>=p&&t(5,a=0),f.scrollLeft-a<=0&&(t(3,c+=" h-scroll-start"),s("hScrollStart")),f.scrollLeft+a>=m&&(t(3,c+=" h-scroll-end"),s("hScrollEnd"))):u&&s("hScrollEnd"))}function E(){d||(d=setTimeout(()=>{S(),d=null},150))}Ft(()=>(E(),b=new MutationObserver(E),b.observe(f,{attributeFilter:["width","height"],childList:!0,subtree:!0}),()=>{b==null||b.disconnect(),clearTimeout(d)}));function F(L){ue[L?"unshift":"push"](()=>{f=L,t(2,f)})}return n.$$set=L=>{"class"in L&&t(0,l=L.class),"vThreshold"in L&&t(4,o=L.vThreshold),"hThreshold"in L&&t(5,a=L.hThreshold),"dispatchOnNoScroll"in L&&t(6,u=L.dispatchOnNoScroll),"$$scope"in L&&t(10,r=L.$$scope)},[l,E,f,c,o,a,u,w,T,S,r,i,F]}class Wf extends we{constructor(e){super(),ye(this,e,mp,dp,be,{class:0,vThreshold:4,hThreshold:5,dispatchOnNoScroll:6,resetVerticalScroll:7,resetHorizontalScroll:8,refresh:9,throttleRefresh:1})}get resetVerticalScroll(){return this.$$.ctx[7]}get resetHorizontalScroll(){return this.$$.ctx[8]}get refresh(){return this.$$.ctx[9]}get throttleRefresh(){return this.$$.ctx[1]}}function Jl(n){let e;function t(s,l){return s[4]==="image"?pp:hp}let i=t(n),r=i(n);return{c(){r.c(),e=ge()},m(s,l){r.m(s,l),v(s,e,l)},p(s,l){i===(i=t(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){s&&k(e),r.d(s)}}}function hp(n){let e,t;return{c(){e=y("object"),t=re("Cannot preview the file."),h(e,"title",n[2]),h(e,"data",n[1])},m(i,r){v(i,e,r),C(e,t)},p(i,r){r&4&&h(e,"title",i[2]),r&2&&h(e,"data",i[1])},d(i){i&&k(e)}}}function pp(n){let e,t,i;return{c(){e=y("img"),sn(e.src,t=n[1])||h(e,"src",t),h(e,"alt",i="Preview "+n[2])},m(r,s){v(r,e,s)},p(r,s){s&2&&!sn(e.src,t=r[1])&&h(e,"src",t),s&4&&i!==(i="Preview "+r[2])&&h(e,"alt",i)},d(r){r&&k(e)}}}function gp(n){var r;let e=(r=n[3])==null?void 0:r.isActive(),t,i=e&&Jl(n);return{c(){i&&i.c(),t=ge()},m(s,l){i&&i.m(s,l),v(s,t,l)},p(s,l){var o;l&8&&(e=(o=s[3])==null?void 0:o.isActive()),e?i?i.p(s,l):(i=Jl(s),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(s){s&&k(t),i&&i.d(s)}}}function _p(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<i class="ri-close-line"></i>',h(e,"type","button"),h(e,"class","overlay-close")},m(r,s){v(r,e,s),t||(i=x(e,"click",Qe(n[0])),t=!0)},p:$,d(r){r&&k(e),t=!1,i()}}}function bp(n){let e,t,i,r,s,l,o,a,u,f;return{c(){e=y("a"),t=re(n[2]),i=q(),r=y("i"),s=q(),l=y("div"),o=q(),a=y("button"),a.textContent="Close",h(r,"class","ri-external-link-line"),h(e,"href",n[1]),h(e,"title",n[2]),h(e,"target","_blank"),h(e,"rel","noreferrer noopener"),h(e,"class","link-hint txt-ellipsis inline-flex"),h(l,"class","flex-fill"),h(a,"type","button"),h(a,"class","btn btn-transparent")},m(c,d){v(c,e,d),C(e,t),C(e,i),C(e,r),v(c,s,d),v(c,l,d),v(c,o,d),v(c,a,d),u||(f=x(a,"click",n[0]),u=!0)},p(c,d){d&4&&_e(t,c[2]),d&2&&h(e,"href",c[1]),d&4&&h(e,"title",c[2])},d(c){c&&(k(e),k(s),k(l),k(o),k(a)),u=!1,f()}}}function yp(n){let e,t,i={class:"preview preview-"+n[4],btnClose:!1,popup:!0,$$slots:{footer:[bp],header:[_p],default:[gp]},$$scope:{ctx:n}};return e=new yr({props:i}),n[7](e),e.$on("show",n[8]),e.$on("hide",n[9]),{c(){X(e.$$.fragment)},m(r,s){G(e,r,s),t=!0},p(r,[s]){const l={};s&16&&(l.class="preview preview-"+r[4]),s&1054&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){n[7](null),Q(e,r)}}}function wp(n,e,t){let i,r,s,l,o="";function a(m){m!==""&&(t(1,o=m),l==null||l.show())}function u(){return l==null?void 0:l.hide()}function f(m){ue[m?"unshift":"push"](()=>{l=m,t(3,l)})}function c(m){Ct.call(this,n,m)}function d(m){Ct.call(this,n,m)}return n.$$.update=()=>{n.$$.dirty&2&&t(6,i=o.indexOf("?")),n.$$.dirty&66&&t(2,r=o.substring(o.lastIndexOf("/")+1,i>0?i:void 0)),n.$$.dirty&4&&t(4,s=A.getFileType(r))},[u,o,r,l,s,a,i,f,c,d]}class kp extends we{constructor(e){super(),ye(this,e,wp,yp,be,{show:5,hide:0})}get show(){return this.$$.ctx[5]}get hide(){return this.$$.ctx[0]}}function vp(n){let e,t,i,r,s;function l(u,f){return u[3]==="image"?Dp:u[3]==="video"||u[3]==="audio"?Tp:Cp}let o=l(n),a=o(n);return{c(){e=y("a"),a.c(),h(e,"draggable",!1),h(e,"class",t="thumb "+(n[1]?`thumb-${n[1]}`:"")),h(e,"href",n[6]),h(e,"target","_blank"),h(e,"rel","noreferrer"),h(e,"title",i=(n[7]?"Preview":"Download")+" "+n[0])},m(u,f){v(u,e,f),a.m(e,null),r||(s=x(e,"click",$t(n[11])),r=!0)},p(u,f){o===(o=l(u))&&a?a.p(u,f):(a.d(1),a=o(u),a&&(a.c(),a.m(e,null))),f&2&&t!==(t="thumb "+(u[1]?`thumb-${u[1]}`:""))&&h(e,"class",t),f&64&&h(e,"href",u[6]),f&129&&i!==(i=(u[7]?"Preview":"Download")+" "+u[0])&&h(e,"title",i)},d(u){u&&k(e),a.d(),r=!1,s()}}}function Sp(n){let e,t;return{c(){e=y("div"),h(e,"class",t="thumb "+(n[1]?`thumb-${n[1]}`:""))},m(i,r){v(i,e,r)},p(i,r){r&2&&t!==(t="thumb "+(i[1]?`thumb-${i[1]}`:""))&&h(e,"class",t)},d(i){i&&k(e)}}}function Cp(n){let e;return{c(){e=y("i"),h(e,"class","ri-file-3-line")},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function Tp(n){let e;return{c(){e=y("i"),h(e,"class","ri-video-line")},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function Dp(n){let e,t,i,r,s;return{c(){e=y("img"),h(e,"draggable",!1),h(e,"loading","lazy"),sn(e.src,t=n[5])||h(e,"src",t),h(e,"alt",n[0]),h(e,"title",i="Preview "+n[0])},m(l,o){v(l,e,o),r||(s=x(e,"error",n[8]),r=!0)},p(l,o){o&32&&!sn(e.src,t=l[5])&&h(e,"src",t),o&1&&h(e,"alt",l[0]),o&1&&i!==(i="Preview "+l[0])&&h(e,"title",i)},d(l){l&&k(e),r=!1,s()}}}function Gl(n){let e,t,i={};return e=new kp({props:i}),n[12](e),{c(){X(e.$$.fragment)},m(r,s){G(e,r,s),t=!0},p(r,s){const l={};e.$set(l)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){n[12](null),Q(e,r)}}}function Op(n){let e,t,i;function r(a,u){return a[2]?Sp:vp}let s=r(n),l=s(n),o=n[7]&&Gl(n);return{c(){l.c(),e=q(),o&&o.c(),t=ge()},m(a,u){l.m(a,u),v(a,e,u),o&&o.m(a,u),v(a,t,u),i=!0},p(a,[u]){s===(s=r(a))&&l?l.p(a,u):(l.d(1),l=s(a),l&&(l.c(),l.m(e.parentNode,e))),a[7]?o?(o.p(a,u),u&128&&O(o,1)):(o=Gl(a),o.c(),O(o,1),o.m(t.parentNode,t)):o&&(le(),N(o,1,1,()=>{o=null}),oe())},i(a){i||(O(o),i=!0)},o(a){N(o),i=!1},d(a){a&&(k(e),k(t)),l.d(a),o&&o.d(a)}}}function Ep(n,e,t){let i,r,{record:s=null}=e,{filename:l=""}=e,{size:o=""}=e,a,u="",f="",c="",d=!0;m();async function m(){t(2,d=!0);try{t(10,c=await Me.getAdminFileToken(s.collectionId))}catch(b){console.warn("File token failure:",b)}t(2,d=!1)}function g(){t(5,u="")}const p=b=>{r&&(b.preventDefault(),a==null||a.show(f))};function _(b){ue[b?"unshift":"push"](()=>{a=b,t(4,a)})}return n.$$set=b=>{"record"in b&&t(9,s=b.record),"filename"in b&&t(0,l=b.filename),"size"in b&&t(1,o=b.size)},n.$$.update=()=>{n.$$.dirty&1&&t(3,i=A.getFileType(l)),n.$$.dirty&9&&t(7,r=["image","audio","video"].includes(i)||l.endsWith(".pdf")),n.$$.dirty&1541&&t(6,f=d?"":Me.files.getUrl(s,l,{token:c})),n.$$.dirty&1541&&t(5,u=d?"":Me.files.getUrl(s,l,{thumb:"100x100",token:c}))},[l,o,d,i,a,u,f,r,g,s,c,p,_]}class Es extends we{constructor(e){super(),ye(this,e,Ep,Op,be,{record:9,filename:0,size:1})}}function Ql(n,e,t){const i=n.slice();i[6]=e[t];const r=A.toArray(i[0][i[6]]).slice(0,5);return i[7]=r,i}function Xl(n,e,t){const i=n.slice();return i[10]=e[t],i}function $l(n){let e,t;return e=new Es({props:{record:n[0],filename:n[10],size:"xs"}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,r){const s={};r&1&&(s.record=i[0]),r&3&&(s.filename=i[10]),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function xl(n){let e=!A.isEmpty(n[10]),t,i,r=e&&$l(n);return{c(){r&&r.c(),t=ge()},m(s,l){r&&r.m(s,l),v(s,t,l),i=!0},p(s,l){l&3&&(e=!A.isEmpty(s[10])),e?r?(r.p(s,l),l&3&&O(r,1)):(r=$l(s),r.c(),O(r,1),r.m(t.parentNode,t)):r&&(le(),N(r,1,1,()=>{r=null}),oe())},i(s){i||(O(r),i=!0)},o(s){N(r),i=!1},d(s){s&&k(t),r&&r.d(s)}}}function eo(n){let e,t,i=ke(n[7]),r=[];for(let l=0;l<i.length;l+=1)r[l]=xl(Xl(n,i,l));const s=l=>N(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=ge()},m(l,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(l,o);v(l,e,o),t=!0},p(l,o){if(o&3){i=ke(l[7]);let a;for(a=0;a<i.length;a+=1){const u=Xl(l,i,a);r[a]?(r[a].p(u,o),O(r[a],1)):(r[a]=xl(u),r[a].c(),O(r[a],1),r[a].m(e.parentNode,e))}for(le(),a=i.length;a<r.length;a+=1)s(a);oe()}},i(l){if(!t){for(let o=0;o<i.length;o+=1)O(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)N(r[o]);t=!1},d(l){l&&k(e),cn(r,l)}}}function Mp(n){let e,t,i,r,s,l,o=A.truncate(A.displayValue(n[0],n[2]),70)+"",a,u,f,c,d=ke(n[1]),m=[];for(let p=0;p<d.length;p+=1)m[p]=eo(Ql(n,d,p));const g=p=>N(m[p],1,1,()=>{m[p]=null});return{c(){e=y("div"),t=y("i"),r=q();for(let p=0;p<m.length;p+=1)m[p].c();s=q(),l=y("span"),a=re(o),h(t,"class","link-hint txt-sm ri-information-line"),h(l,"class","txt txt-ellipsis"),h(e,"class","record-info svelte-q8liga")},m(p,_){v(p,e,_),C(e,t),C(e,r);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(e,null);C(e,s),C(e,l),C(l,a),u=!0,f||(c=He(i=Ge.call(null,t,{text:A.truncate(JSON.stringify(A.truncateObject(n[0]),null,2),800,!0),class:"code",position:"left"})),f=!0)},p(p,[_]){if(i&&st(i.update)&&_&1&&i.update.call(null,{text:A.truncate(JSON.stringify(A.truncateObject(p[0]),null,2),800,!0),class:"code",position:"left"}),_&3){d=ke(p[1]);let b;for(b=0;b<d.length;b+=1){const w=Ql(p,d,b);m[b]?(m[b].p(w,_),O(m[b],1)):(m[b]=eo(w),m[b].c(),O(m[b],1),m[b].m(e,s))}for(le(),b=d.length;b<m.length;b+=1)g(b);oe()}(!u||_&5)&&o!==(o=A.truncate(A.displayValue(p[0],p[2]),70)+"")&&_e(a,o)},i(p){if(!u){for(let _=0;_<d.length;_+=1)O(m[_]);u=!0}},o(p){m=m.filter(Boolean);for(let _=0;_<m.length;_+=1)N(m[_]);u=!1},d(p){p&&k(e),cn(m,p),f=!1,c()}}}function Ip(n,e,t){let i,r;Ke(n,dn,u=>t(4,r=u));let{record:s}=e,l=[],o=[];function a(){const u=(i==null?void 0:i.schema)||[];if(t(1,l=u.filter(f=>f.presentable&&f.type=="file").map(f=>f.name)),t(2,o=u.filter(f=>f.presentable&&f.type!="file").map(f=>f.name)),!l.length&&!o.length){const f=u.find(c=>{var d,m,g;return c.type=="file"&&((d=c.options)==null?void 0:d.maxSelect)==1&&((g=(m=c.options)==null?void 0:m.mimeTypes)==null?void 0:g.find(p=>p.startsWith("image/")))});f&&l.push(f.name)}}return n.$$set=u=>{"record"in u&&t(0,s=u.record)},n.$$.update=()=>{n.$$.dirty&17&&t(3,i=r==null?void 0:r.find(u=>u.id==(s==null?void 0:s.collectionId))),n.$$.dirty&8&&i&&a()},[s,l,o,i,r]}class vr extends we{constructor(e){super(),ye(this,e,Ip,Mp,be,{record:0})}}function Np(n){let e;return{c(){e=y("textarea"),h(e,"id",n[0]),dc(e,"visibility","hidden")},m(t,i){v(t,e,i),n[15](e)},p(t,i){i&1&&h(e,"id",t[0])},d(t){t&&k(e),n[15](null)}}}function Ap(n){let e;return{c(){e=y("div"),h(e,"id",n[0])},m(t,i){v(t,e,i),n[14](e)},p(t,i){i&1&&h(e,"id",t[0])},d(t){t&&k(e),n[14](null)}}}function Lp(n){let e;function t(s,l){return s[1]?Ap:Np}let i=t(n),r=i(n);return{c(){e=y("div"),r.c(),h(e,"class",n[2])},m(s,l){v(s,e,l),r.m(e,null),n[16](e)},p(s,[l]){i===(i=t(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(e,null))),l&4&&h(e,"class",s[2])},i:$,o:$,d(s){s&&k(e),r.d(),n[16](null)}}}function Fp(){let n={listeners:[],scriptLoaded:!1,injected:!1};function e(i,r,s){n.injected=!0;const l=i.createElement("script");l.referrerPolicy="origin",l.type="application/javascript",l.src=r,l.onload=()=>{s()},i.head&&i.head.appendChild(l)}function t(i,r,s){n.scriptLoaded?s():(n.listeners.push(s),n.injected||e(i,r,()=>{n.listeners.forEach(l=>l()),n.scriptLoaded=!0}))}return{load:t}}let Pp=Fp();function qr(){return window&&window.tinymce?window.tinymce:null}function Rp(n,e,t){let{id:i="tinymce_svelte"+A.randomString(7)}=e,{inline:r=void 0}=e,{disabled:s=!1}=e,{scriptSrc:l="./libs/tinymce/tinymce.min.js"}=e,{conf:o={}}=e,{modelEvents:a="change input undo redo"}=e,{value:u=""}=e,{text:f=""}=e,{cssClass:c="tinymce-wrapper"}=e;const d=["Activate","AddUndo","BeforeAddUndo","BeforeExecCommand","BeforeGetContent","BeforeRenderUI","BeforeSetContent","BeforePaste","Blur","Change","ClearUndos","Click","ContextMenu","Copy","Cut","Dblclick","Deactivate","Dirty","Drag","DragDrop","DragEnd","DragGesture","DragOver","Drop","ExecCommand","Focus","FocusIn","FocusOut","GetContent","Hide","Init","KeyDown","KeyPress","KeyUp","LoadContent","MouseDown","MouseEnter","MouseLeave","MouseMove","MouseOut","MouseOver","MouseUp","NodeChange","ObjectResizeStart","ObjectResized","ObjectSelected","Paste","PostProcess","PostRender","PreProcess","ProgressState","Redo","Remove","Reset","ResizeEditor","SaveContent","SelectionChange","SetAttrib","SetContent","Show","Submit","Undo","VisualAid"],m=(I,R)=>{d.forEach(P=>{I.on(P,W=>{R(P.toLowerCase(),{eventName:P,event:W,editor:I})})})};let g,p,_,b=u,w=s;const T=gt();function S(){const I={...o,target:p,inline:r!==void 0?r:o.inline!==void 0?o.inline:!1,readonly:s,setup:R=>{t(11,_=R),R.on("init",()=>{R.setContent(u),R.on(a,()=>{t(12,b=R.getContent()),b!==u&&(t(5,u=b),t(6,f=R.getContent({format:"text"})))})}),m(R,T),typeof o.setup=="function"&&o.setup(R)}};t(4,p.style.visibility="",p),qr().init(I)}Ft(()=>(qr()!==null?S():Pp.load(g.ownerDocument,l,()=>{g&&S()}),()=>{var I,R;try{_&&((I=_.dom)==null||I.unbind(document),(R=qr())==null||R.remove(_))}catch{}}));function E(I){ue[I?"unshift":"push"](()=>{p=I,t(4,p)})}function F(I){ue[I?"unshift":"push"](()=>{p=I,t(4,p)})}function L(I){ue[I?"unshift":"push"](()=>{g=I,t(3,g)})}return n.$$set=I=>{"id"in I&&t(0,i=I.id),"inline"in I&&t(1,r=I.inline),"disabled"in I&&t(7,s=I.disabled),"scriptSrc"in I&&t(8,l=I.scriptSrc),"conf"in I&&t(9,o=I.conf),"modelEvents"in I&&t(10,a=I.modelEvents),"value"in I&&t(5,u=I.value),"text"in I&&t(6,f=I.text),"cssClass"in I&&t(2,c=I.cssClass)},n.$$.update=()=>{var I;if(n.$$.dirty&14496)try{_&&b!==u&&(_.setContent(u),t(6,f=_.getContent({format:"text"}))),_&&s!==w&&(t(13,w=s),typeof((I=_.mode)==null?void 0:I.set)=="function"?_.mode.set(s?"readonly":"design"):_.setMode(s?"readonly":"design"))}catch(R){console.warn("TinyMCE reactive error:",R)}},[i,r,c,g,p,u,f,s,l,o,a,_,b,w,E,F,L]}class Hf extends we{constructor(e){super(),ye(this,e,Rp,Lp,be,{id:0,inline:1,disabled:7,scriptSrc:8,conf:9,modelEvents:10,value:5,text:6,cssClass:2})}}function to(n,e,t){const i=n.slice();return i[18]=e[t],i[8]=t,i}function no(n,e,t){const i=n.slice();return i[13]=e[t],i}function io(n,e,t){const i=n.slice();return i[6]=e[t],i[8]=t,i}function ro(n,e,t){const i=n.slice();return i[6]=e[t],i[8]=t,i}function qp(n){const e=n.slice(),t=A.toArray(e[3]);e[16]=t;const i=e[2]?10:500;return e[17]=i,e}function jp(n){var s,l;const e=n.slice(),t=A.toArray(e[3]);e[9]=t;const i=A.toArray((l=(s=e[0])==null?void 0:s.expand)==null?void 0:l[e[1].name]);e[10]=i;const r=e[2]?20:500;return e[11]=r,e}function Vp(n){const e=n.slice(),t=A.trimQuotedValue(JSON.stringify(e[3]))||'""';return e[5]=t,e}function Wp(n){let e,t;return{c(){e=y("div"),t=re(n[3]),h(e,"class","block txt-break fallback-block svelte-jdf51v")},m(i,r){v(i,e,r),C(e,t)},p(i,r){r&8&&_e(t,i[3])},i:$,o:$,d(i){i&&k(e)}}}function Hp(n){let e,t=A.truncate(n[3])+"",i,r;return{c(){e=y("span"),i=re(t),h(e,"class","txt txt-ellipsis"),h(e,"title",r=A.truncate(n[3]))},m(s,l){v(s,e,l),C(e,i)},p(s,l){l&8&&t!==(t=A.truncate(s[3])+"")&&_e(i,t),l&8&&r!==(r=A.truncate(s[3]))&&h(e,"title",r)},i:$,o:$,d(s){s&&k(e)}}}function Up(n){let e,t=[],i=new Map,r,s,l=ke(n[16].slice(0,n[17]));const o=u=>u[8]+u[18];for(let u=0;u<l.length;u+=1){let f=to(n,l,u),c=o(f);i.set(c,t[u]=so(c,f))}let a=n[16].length>n[17]&&lo();return{c(){var u;e=y("div");for(let f=0;f<t.length;f+=1)t[f].c();r=q(),a&&a.c(),h(e,"class","inline-flex"),J(e,"multiple",((u=n[1].options)==null?void 0:u.maxSelect)!=1)},m(u,f){v(u,e,f);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);C(e,r),a&&a.m(e,null),s=!0},p(u,f){var c;f&13&&(l=ke(u[16].slice(0,u[17])),le(),t=pt(t,f,o,1,u,l,i,e,Lt,so,r,to),oe()),u[16].length>u[17]?a||(a=lo(),a.c(),a.m(e,null)):a&&(a.d(1),a=null),(!s||f&2)&&J(e,"multiple",((c=u[1].options)==null?void 0:c.maxSelect)!=1)},i(u){if(!s){for(let f=0;f<l.length;f+=1)O(t[f]);s=!0}},o(u){for(let f=0;f<t.length;f+=1)N(t[f]);s=!1},d(u){u&&k(e);for(let f=0;f<t.length;f+=1)t[f].d();a&&a.d()}}}function zp(n){let e,t,i,r,s;const l=[xp,$p],o=[];function a(f,c){return f[10].length?0:1}t=a(n),i=o[t]=l[t](n);let u=n[9].length>n[11]&&uo();return{c(){e=y("div"),i.c(),r=q(),u&&u.c(),h(e,"class","inline-flex")},m(f,c){v(f,e,c),o[t].m(e,null),C(e,r),u&&u.m(e,null),s=!0},p(f,c){let d=t;t=a(f),t===d?o[t].p(f,c):(le(),N(o[d],1,1,()=>{o[d]=null}),oe(),i=o[t],i?i.p(f,c):(i=o[t]=l[t](f),i.c()),O(i,1),i.m(e,r)),f[9].length>f[11]?u||(u=uo(),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(f){s||(O(i),s=!0)},o(f){N(i),s=!1},d(f){f&&k(e),o[t].d(),u&&u.d()}}}function Yp(n){let e,t=[],i=new Map,r=ke(A.toArray(n[3]));const s=l=>l[8]+l[6];for(let l=0;l<r.length;l+=1){let o=ro(n,r,l),a=s(o);i.set(a,t[l]=fo(a,o))}return{c(){e=y("div");for(let l=0;l<t.length;l+=1)t[l].c();h(e,"class","inline-flex")},m(l,o){v(l,e,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(l,o){o&8&&(r=ke(A.toArray(l[3])),t=pt(t,o,s,1,l,r,i,e,fs,fo,null,ro))},i:$,o:$,d(l){l&&k(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Bp(n){let e,t;return e=new Os({props:{date:n[3]}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,r){const s={};r&8&&(s.date=i[3]),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function Kp(n){let e,t,i,r;const s=[tg,eg],l=[];function o(a,u){return a[2]?0:1}return e=o(n),t=l[e]=s[e](n),{c(){t.c(),i=ge()},m(a,u){l[e].m(a,u),v(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?l[e].p(a,u):(le(),N(l[f],1,1,()=>{l[f]=null}),oe(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&k(i),l[e].d(a)}}}function Zp(n){let e,t=A.truncate(n[3])+"",i,r,s;return{c(){e=y("a"),i=re(t),h(e,"class","txt-ellipsis"),h(e,"href",n[3]),h(e,"target","_blank"),h(e,"rel","noopener noreferrer")},m(l,o){v(l,e,o),C(e,i),r||(s=[He(Ge.call(null,e,"Open in new tab")),x(e,"click",$t(n[4]))],r=!0)},p(l,o){o&8&&t!==(t=A.truncate(l[3])+"")&&_e(i,t),o&8&&h(e,"href",l[3])},i:$,o:$,d(l){l&&k(e),r=!1,De(s)}}}function Jp(n){let e,t;return{c(){e=y("span"),t=re(n[3]),h(e,"class","txt")},m(i,r){v(i,e,r),C(e,t)},p(i,r){r&8&&_e(t,i[3])},i:$,o:$,d(i){i&&k(e)}}}function Gp(n){let e,t=n[3]?"True":"False",i;return{c(){e=y("span"),i=re(t),h(e,"class","txt")},m(r,s){v(r,e,s),C(e,i)},p(r,s){s&8&&t!==(t=r[3]?"True":"False")&&_e(i,t)},i:$,o:$,d(r){r&&k(e)}}}function Qp(n){let e;return{c(){e=y("span"),e.textContent="N/A",h(e,"class","txt-hint")},m(t,i){v(t,e,i)},p:$,i:$,o:$,d(t){t&&k(e)}}}function Xp(n){let e,t,i,r;const s=[ig,ng],l=[];function o(a,u){return a[2]?0:1}return e=o(n),t=l[e]=s[e](n),{c(){t.c(),i=ge()},m(a,u){l[e].m(a,u),v(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?l[e].p(a,u):(le(),N(l[f],1,1,()=>{l[f]=null}),oe(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&k(i),l[e].d(a)}}}function so(n,e){let t,i,r;return i=new Es({props:{record:e[0],filename:e[18],size:"sm"}}),{key:n,first:null,c(){t=ge(),X(i.$$.fragment),this.first=t},m(s,l){v(s,t,l),G(i,s,l),r=!0},p(s,l){e=s;const o={};l&1&&(o.record=e[0]),l&12&&(o.filename=e[18]),i.$set(o)},i(s){r||(O(i.$$.fragment,s),r=!0)},o(s){N(i.$$.fragment,s),r=!1},d(s){s&&k(t),Q(i,s)}}}function lo(n){let e;return{c(){e=re("...")},m(t,i){v(t,e,i)},d(t){t&&k(e)}}}function $p(n){let e,t=ke(n[9].slice(0,n[11])),i=[];for(let r=0;r<t.length;r+=1)i[r]=oo(no(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ge()},m(r,s){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(r,s);v(r,e,s)},p(r,s){if(s&12){t=ke(r[9].slice(0,r[11]));let l;for(l=0;l<t.length;l+=1){const o=no(r,t,l);i[l]?i[l].p(o,s):(i[l]=oo(o),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},i:$,o:$,d(r){r&&k(e),cn(i,r)}}}function xp(n){let e=[],t=new Map,i,r,s=ke(n[10].slice(0,n[11]));const l=o=>o[8]+o[6];for(let o=0;o<s.length;o+=1){let a=io(n,s,o),u=l(a);t.set(u,e[o]=ao(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();i=ge()},m(o,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,a);v(o,i,a),r=!0},p(o,a){a&7&&(s=ke(o[10].slice(0,o[11])),le(),e=pt(e,a,l,1,o,s,t,i.parentNode,Lt,ao,i,io),oe())},i(o){if(!r){for(let a=0;a<s.length;a+=1)O(e[a]);r=!0}},o(o){for(let a=0;a<e.length;a+=1)N(e[a]);r=!1},d(o){o&&k(i);for(let a=0;a<e.length;a+=1)e[a].d(o)}}}function oo(n){let e,t=n[13]+"",i;return{c(){e=y("span"),i=re(t),h(e,"class","label")},m(r,s){v(r,e,s),C(e,i)},p(r,s){s&12&&t!==(t=r[13]+"")&&_e(i,t)},d(r){r&&k(e)}}}function ao(n,e){let t,i,r,s;return i=new vr({props:{record:e[6]}}),{key:n,first:null,c(){t=y("span"),X(i.$$.fragment),r=q(),h(t,"class","label"),this.first=t},m(l,o){v(l,t,o),G(i,t,null),C(t,r),s=!0},p(l,o){e=l;const a={};o&7&&(a.record=e[6]),i.$set(a)},i(l){s||(O(i.$$.fragment,l),s=!0)},o(l){N(i.$$.fragment,l),s=!1},d(l){l&&k(t),Q(i)}}}function uo(n){let e;return{c(){e=re("...")},m(t,i){v(t,e,i)},d(t){t&&k(e)}}}function fo(n,e){let t,i=e[6]+"",r;return{key:n,first:null,c(){t=y("span"),r=re(i),h(t,"class","label"),this.first=t},m(s,l){v(s,t,l),C(t,r)},p(s,l){e=s,l&8&&i!==(i=e[6]+"")&&_e(r,i)},d(s){s&&k(t)}}}function eg(n){let e,t;return e=new Hf({props:{cssClass:"tinymce-preview",conf:{branding:!1,promotion:!1,menubar:!1,statusbar:!1,min_height:30,height:59,max_height:500,autoresize_bottom_margin:5,resize:!1,content_style:"body { font-size: 14px }",toolbar:"",plugins:["autoresize"],skin:"pocketbase"},value:n[3],disabled:!0}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,r){const s={};r&8&&(s.value=i[3]),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function tg(n){let e,t=A.truncate(A.plainText(n[3]),195)+"",i;return{c(){e=y("span"),i=re(t),h(e,"class","txt")},m(r,s){v(r,e,s),C(e,i)},p(r,s){s&8&&t!==(t=A.truncate(A.plainText(r[3]),195)+"")&&_e(i,t)},i:$,o:$,d(r){r&&k(e)}}}function ng(n){let e,t=A.truncate(n[5],500,!0)+"",i,r,s,l,o=n[5].length>500&&co(n);return{c(){e=y("span"),i=re(t),r=q(),o&&o.c(),s=ge(),h(e,"class","txt")},m(a,u){v(a,e,u),C(e,i),v(a,r,u),o&&o.m(a,u),v(a,s,u),l=!0},p(a,u){(!l||u&8)&&t!==(t=A.truncate(a[5],500,!0)+"")&&_e(i,t),a[5].length>500?o?(o.p(a,u),u&8&&O(o,1)):(o=co(a),o.c(),O(o,1),o.m(s.parentNode,s)):o&&(le(),N(o,1,1,()=>{o=null}),oe())},i(a){l||(O(o),l=!0)},o(a){N(o),l=!1},d(a){a&&(k(e),k(r),k(s)),o&&o.d(a)}}}function ig(n){let e,t=A.truncate(n[5])+"",i;return{c(){e=y("span"),i=re(t),h(e,"class","txt txt-ellipsis")},m(r,s){v(r,e,s),C(e,i)},p(r,s){s&8&&t!==(t=A.truncate(r[5])+"")&&_e(i,t)},i:$,o:$,d(r){r&&k(e)}}}function co(n){let e,t;return e=new Ds({props:{value:JSON.stringify(n[3],null,2)}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,r){const s={};r&8&&(s.value=JSON.stringify(i[3],null,2)),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function rg(n){let e,t,i,r,s;const l=[Xp,Qp,Gp,Jp,Zp,Kp,Bp,Yp,zp,Up,Hp,Wp],o=[];function a(f,c){return c&8&&(e=null),f[1].type==="json"?0:(e==null&&(e=!!A.isEmpty(f[3])),e?1:f[1].type==="bool"?2:f[1].type==="number"?3:f[1].type==="url"?4:f[1].type==="editor"?5:f[1].type==="date"?6:f[1].type==="select"?7:f[1].type==="relation"?8:f[1].type==="file"?9:f[2]?10:11)}function u(f,c){return c===0?Vp(f):c===8?jp(f):c===9?qp(f):f}return t=a(n,-1),i=o[t]=l[t](u(n,t)),{c(){i.c(),r=ge()},m(f,c){o[t].m(f,c),v(f,r,c),s=!0},p(f,[c]){let d=t;t=a(f,c),t===d?o[t].p(u(f,t),c):(le(),N(o[d],1,1,()=>{o[d]=null}),oe(),i=o[t],i?i.p(u(f,t),c):(i=o[t]=l[t](u(f,t)),i.c()),O(i,1),i.m(r.parentNode,r))},i(f){s||(O(i),s=!0)},o(f){N(i),s=!1},d(f){f&&k(r),o[t].d(f)}}}function sg(n,e,t){let i,{record:r}=e,{field:s}=e,{short:l=!1}=e;function o(a){Ct.call(this,n,a)}return n.$$set=a=>{"record"in a&&t(0,r=a.record),"field"in a&&t(1,s=a.field),"short"in a&&t(2,l=a.short)},n.$$.update=()=>{n.$$.dirty&3&&t(3,i=r==null?void 0:r[s.name])},[r,s,l,i,o]}class lg extends we{constructor(e){super(),ye(this,e,sg,rg,be,{record:0,field:1,short:2})}}function mo(n,e,t){const i=n.slice();return i[64]=e[t],i}function ho(n,e,t){const i=n.slice();return i[67]=e[t],i}function po(n,e,t){const i=n.slice();return i[67]=e[t],i}function go(n,e,t){const i=n.slice();return i[60]=e[t],i}function _o(n){let e;function t(s,l){return s[14]?ag:og}let i=t(n),r=i(n);return{c(){e=y("th"),r.c(),h(e,"class","bulk-select-col min-width")},m(s,l){v(s,e,l),r.m(e,null)},p(s,l){i===(i=t(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(e,null)))},d(s){s&&k(e),r.d()}}}function og(n){let e,t,i,r,s,l,o;return{c(){e=y("div"),t=y("input"),r=q(),s=y("label"),h(t,"type","checkbox"),h(t,"id","checkbox_0"),t.disabled=i=!n[4].length,t.checked=n[18],h(s,"for","checkbox_0"),h(e,"class","form-field")},m(a,u){v(a,e,u),C(e,t),C(e,r),C(e,s),l||(o=x(t,"change",n[32]),l=!0)},p(a,u){u[0]&16&&i!==(i=!a[4].length)&&(t.disabled=i),u[0]&262144&&(t.checked=a[18])},d(a){a&&k(e),l=!1,o()}}}function ag(n){let e;return{c(){e=y("span"),h(e,"class","loader loader-sm")},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function bo(n){let e,t,i;function r(l){n[33](l)}let s={class:"col-type-text col-field-id",name:"id",$$slots:{default:[ug]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new ii({props:s}),ue.push(()=>Ae(e,"sort",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){const a={};o[2]&1024&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.sort=l[0],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function ug(n){let e;return{c(){e=y("div"),e.innerHTML=`<i class="${A.getFieldTypeIcon("primary")}"></i> <span class="txt">id</span>`,h(e,"class","col-header-content")},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function yo(n){let e=!n[6].includes("@username"),t,i=!n[6].includes("@email"),r,s,l=e&&wo(n),o=i&&ko(n);return{c(){l&&l.c(),t=q(),o&&o.c(),r=ge()},m(a,u){l&&l.m(a,u),v(a,t,u),o&&o.m(a,u),v(a,r,u),s=!0},p(a,u){u[0]&64&&(e=!a[6].includes("@username")),e?l?(l.p(a,u),u[0]&64&&O(l,1)):(l=wo(a),l.c(),O(l,1),l.m(t.parentNode,t)):l&&(le(),N(l,1,1,()=>{l=null}),oe()),u[0]&64&&(i=!a[6].includes("@email")),i?o?(o.p(a,u),u[0]&64&&O(o,1)):(o=ko(a),o.c(),O(o,1),o.m(r.parentNode,r)):o&&(le(),N(o,1,1,()=>{o=null}),oe())},i(a){s||(O(l),O(o),s=!0)},o(a){N(l),N(o),s=!1},d(a){a&&(k(t),k(r)),l&&l.d(a),o&&o.d(a)}}}function wo(n){let e,t,i;function r(l){n[34](l)}let s={class:"col-type-text col-field-id",name:"username",$$slots:{default:[fg]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new ii({props:s}),ue.push(()=>Ae(e,"sort",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){const a={};o[2]&1024&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.sort=l[0],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function fg(n){let e;return{c(){e=y("div"),e.innerHTML=`<i class="${A.getFieldTypeIcon("user")}"></i> <span class="txt">username</span>`,h(e,"class","col-header-content")},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function ko(n){let e,t,i;function r(l){n[35](l)}let s={class:"col-type-email col-field-email",name:"email",$$slots:{default:[cg]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new ii({props:s}),ue.push(()=>Ae(e,"sort",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){const a={};o[2]&1024&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.sort=l[0],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function cg(n){let e;return{c(){e=y("div"),e.innerHTML=`<i class="${A.getFieldTypeIcon("email")}"></i> <span class="txt">email</span>`,h(e,"class","col-header-content")},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function dg(n){let e,t,i,r,s,l=n[67].name+"",o;return{c(){e=y("div"),t=y("i"),r=q(),s=y("span"),o=re(l),h(t,"class",i=A.getFieldTypeIcon(n[67].type)),h(s,"class","txt"),h(e,"class","col-header-content")},m(a,u){v(a,e,u),C(e,t),C(e,r),C(e,s),C(s,o)},p(a,u){u[0]&1048576&&i!==(i=A.getFieldTypeIcon(a[67].type))&&h(t,"class",i),u[0]&1048576&&l!==(l=a[67].name+"")&&_e(o,l)},d(a){a&&k(e)}}}function vo(n,e){let t,i,r,s;function l(a){e[36](a)}let o={class:"col-type-"+e[67].type+" col-field-"+e[67].name,name:e[67].name,$$slots:{default:[dg]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.sort=e[0]),i=new ii({props:o}),ue.push(()=>Ae(i,"sort",l)),{key:n,first:null,c(){t=ge(),X(i.$$.fragment),this.first=t},m(a,u){v(a,t,u),G(i,a,u),s=!0},p(a,u){e=a;const f={};u[0]&1048576&&(f.class="col-type-"+e[67].type+" col-field-"+e[67].name),u[0]&1048576&&(f.name=e[67].name),u[0]&1048576|u[2]&1024&&(f.$$scope={dirty:u,ctx:e}),!r&&u[0]&1&&(r=!0,f.sort=e[0],Fe(()=>r=!1)),i.$set(f)},i(a){s||(O(i.$$.fragment,a),s=!0)},o(a){N(i.$$.fragment,a),s=!1},d(a){a&&k(t),Q(i,a)}}}function So(n){let e,t,i;function r(l){n[37](l)}let s={class:"col-type-date col-field-created",name:"created",$$slots:{default:[mg]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new ii({props:s}),ue.push(()=>Ae(e,"sort",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){const a={};o[2]&1024&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.sort=l[0],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function mg(n){let e;return{c(){e=y("div"),e.innerHTML=`<i class="${A.getFieldTypeIcon("date")}"></i> <span class="txt">created</span>`,h(e,"class","col-header-content")},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function Co(n){let e,t,i;function r(l){n[38](l)}let s={class:"col-type-date col-field-updated",name:"updated",$$slots:{default:[hg]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new ii({props:s}),ue.push(()=>Ae(e,"sort",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){const a={};o[2]&1024&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.sort=l[0],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function hg(n){let e;return{c(){e=y("div"),e.innerHTML=`<i class="${A.getFieldTypeIcon("date")}"></i> <span class="txt">updated</span>`,h(e,"class","col-header-content")},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function To(n){let e;return{c(){e=y("button"),e.innerHTML='<i class="ri-more-line"></i>',h(e,"type","button"),h(e,"aria-label","Toggle columns"),h(e,"class","btn btn-sm btn-transparent p-0")},m(t,i){v(t,e,i),n[39](e)},p:$,d(t){t&&k(e),n[39](null)}}}function Do(n){let e;function t(s,l){return s[14]?gg:pg}let i=t(n),r=i(n);return{c(){r.c(),e=ge()},m(s,l){r.m(s,l),v(s,e,l)},p(s,l){i===(i=t(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){s&&k(e),r.d(s)}}}function pg(n){let e,t,i,r;function s(a,u){var f;if((f=a[1])!=null&&f.length)return bg;if(!a[11]&&a[21].createRule!==null)return _g}let l=s(n),o=l&&l(n);return{c(){e=y("tr"),t=y("td"),i=y("h6"),i.textContent="No records found.",r=q(),o&&o.c(),h(t,"colspan","99"),h(t,"class","txt-center txt-hint p-xs")},m(a,u){v(a,e,u),C(e,t),C(t,i),C(t,r),o&&o.m(t,null)},p(a,u){l===(l=s(a))&&o?o.p(a,u):(o&&o.d(1),o=l&&l(a),o&&(o.c(),o.m(t,null)))},d(a){a&&k(e),o&&o.d()}}}function gg(n){let e;return{c(){e=y("tr"),e.innerHTML='<td colspan="99" class="p-xs"><span class="skeleton-loader m-0"></span></td>'},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function _g(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<i class="ri-add-line"></i> <span class="txt">New record</span>',h(e,"type","button"),h(e,"class","btn btn-secondary btn-expanded m-t-sm")},m(r,s){v(r,e,s),t||(i=x(e,"click",n[43]),t=!0)},p:$,d(r){r&&k(e),t=!1,i()}}}function bg(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<span class="txt">Clear filters</span>',h(e,"type","button"),h(e,"class","btn btn-hint btn-expanded m-t-sm")},m(r,s){v(r,e,s),t||(i=x(e,"click",n[42]),t=!0)},p:$,d(r){r&&k(e),t=!1,i()}}}function Oo(n){let e,t,i,r,s,l,o,a,u,f;function c(){return n[40](n[64])}return{c(){e=y("td"),t=y("div"),i=y("input"),l=q(),o=y("label"),h(i,"type","checkbox"),h(i,"id",r="checkbox_"+n[64].id),i.checked=s=n[5][n[64].id],h(o,"for",a="checkbox_"+n[64].id),h(t,"class","form-field"),h(e,"class","bulk-select-col min-width")},m(d,m){v(d,e,m),C(e,t),C(t,i),C(t,l),C(t,o),u||(f=[x(i,"change",c),x(t,"click",$t(n[30]))],u=!0)},p(d,m){n=d,m[0]&16&&r!==(r="checkbox_"+n[64].id)&&h(i,"id",r),m[0]&48&&s!==(s=n[5][n[64].id])&&(i.checked=s),m[0]&16&&a!==(a="checkbox_"+n[64].id)&&h(o,"for",a)},d(d){d&&k(e),u=!1,De(f)}}}function Eo(n){let e,t,i,r,s,l,o=n[64].id+"",a,u,f;r=new Ds({props:{value:n[64].id}});let c=n[10]&&Mo(n);return{c(){e=y("td"),t=y("div"),i=y("div"),X(r.$$.fragment),s=q(),l=y("div"),a=re(o),u=q(),c&&c.c(),h(l,"class","txt txt-ellipsis"),h(i,"class","label"),h(t,"class","flex flex-gap-5"),h(e,"class","col-type-text col-field-id")},m(d,m){v(d,e,m),C(e,t),C(t,i),G(r,i,null),C(i,s),C(i,l),C(l,a),C(t,u),c&&c.m(t,null),f=!0},p(d,m){const g={};m[0]&16&&(g.value=d[64].id),r.$set(g),(!f||m[0]&16)&&o!==(o=d[64].id+"")&&_e(a,o),d[10]?c?c.p(d,m):(c=Mo(d),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(d){f||(O(r.$$.fragment,d),f=!0)},o(d){N(r.$$.fragment,d),f=!1},d(d){d&&k(e),Q(r),c&&c.d()}}}function Mo(n){let e;function t(s,l){return s[64].verified?wg:yg}let i=t(n),r=i(n);return{c(){r.c(),e=ge()},m(s,l){r.m(s,l),v(s,e,l)},p(s,l){i!==(i=t(s))&&(r.d(1),r=i(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){s&&k(e),r.d(s)}}}function yg(n){let e,t,i;return{c(){e=y("i"),h(e,"class","ri-error-warning-fill txt-sm txt-hint")},m(r,s){v(r,e,s),t||(i=He(Ge.call(null,e,"Unverified")),t=!0)},d(r){r&&k(e),t=!1,i()}}}function wg(n){let e,t,i;return{c(){e=y("i"),h(e,"class","ri-checkbox-circle-fill txt-sm txt-success")},m(r,s){v(r,e,s),t||(i=He(Ge.call(null,e,"Verified")),t=!0)},d(r){r&&k(e),t=!1,i()}}}function Io(n){let e=!n[6].includes("@username"),t,i=!n[6].includes("@email"),r,s=e&&No(n),l=i&&Ao(n);return{c(){s&&s.c(),t=q(),l&&l.c(),r=ge()},m(o,a){s&&s.m(o,a),v(o,t,a),l&&l.m(o,a),v(o,r,a)},p(o,a){a[0]&64&&(e=!o[6].includes("@username")),e?s?s.p(o,a):(s=No(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),a[0]&64&&(i=!o[6].includes("@email")),i?l?l.p(o,a):(l=Ao(o),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(o){o&&(k(t),k(r)),s&&s.d(o),l&&l.d(o)}}}function No(n){let e,t;function i(l,o){return o[0]&16&&(t=null),t==null&&(t=!!A.isEmpty(l[64].username)),t?vg:kg}let r=i(n,[-1,-1,-1]),s=r(n);return{c(){e=y("td"),s.c(),h(e,"class","col-type-text col-field-username")},m(l,o){v(l,e,o),s.m(e,null)},p(l,o){r===(r=i(l,o))&&s?s.p(l,o):(s.d(1),s=r(l),s&&(s.c(),s.m(e,null)))},d(l){l&&k(e),s.d()}}}function kg(n){let e,t=n[64].username+"",i,r;return{c(){e=y("span"),i=re(t),h(e,"class","txt txt-ellipsis"),h(e,"title",r=n[64].username)},m(s,l){v(s,e,l),C(e,i)},p(s,l){l[0]&16&&t!==(t=s[64].username+"")&&_e(i,t),l[0]&16&&r!==(r=s[64].username)&&h(e,"title",r)},d(s){s&&k(e)}}}function vg(n){let e;return{c(){e=y("span"),e.textContent="N/A",h(e,"class","txt-hint")},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function Ao(n){let e,t;function i(l,o){return o[0]&16&&(t=null),t==null&&(t=!!A.isEmpty(l[64].email)),t?Cg:Sg}let r=i(n,[-1,-1,-1]),s=r(n);return{c(){e=y("td"),s.c(),h(e,"class","col-type-text col-field-email")},m(l,o){v(l,e,o),s.m(e,null)},p(l,o){r===(r=i(l,o))&&s?s.p(l,o):(s.d(1),s=r(l),s&&(s.c(),s.m(e,null)))},d(l){l&&k(e),s.d()}}}function Sg(n){let e,t=n[64].email+"",i,r;return{c(){e=y("span"),i=re(t),h(e,"class","txt txt-ellipsis"),h(e,"title",r=n[64].email)},m(s,l){v(s,e,l),C(e,i)},p(s,l){l[0]&16&&t!==(t=s[64].email+"")&&_e(i,t),l[0]&16&&r!==(r=s[64].email)&&h(e,"title",r)},d(s){s&&k(e)}}}function Cg(n){let e;return{c(){e=y("span"),e.textContent="N/A",h(e,"class","txt-hint")},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function Lo(n,e){let t,i,r,s;return i=new lg({props:{short:!0,record:e[64],field:e[67]}}),{key:n,first:null,c(){t=y("td"),X(i.$$.fragment),h(t,"class",r="col-type-"+e[67].type+" col-field-"+e[67].name),this.first=t},m(l,o){v(l,t,o),G(i,t,null),s=!0},p(l,o){e=l;const a={};o[0]&16&&(a.record=e[64]),o[0]&1048576&&(a.field=e[67]),i.$set(a),(!s||o[0]&1048576&&r!==(r="col-type-"+e[67].type+" col-field-"+e[67].name))&&h(t,"class",r)},i(l){s||(O(i.$$.fragment,l),s=!0)},o(l){N(i.$$.fragment,l),s=!1},d(l){l&&k(t),Q(i)}}}function Fo(n){let e,t,i;return t=new Os({props:{date:n[64].created}}),{c(){e=y("td"),X(t.$$.fragment),h(e,"class","col-type-date col-field-created")},m(r,s){v(r,e,s),G(t,e,null),i=!0},p(r,s){const l={};s[0]&16&&(l.date=r[64].created),t.$set(l)},i(r){i||(O(t.$$.fragment,r),i=!0)},o(r){N(t.$$.fragment,r),i=!1},d(r){r&&k(e),Q(t)}}}function Po(n){let e,t,i;return t=new Os({props:{date:n[64].updated}}),{c(){e=y("td"),X(t.$$.fragment),h(e,"class","col-type-date col-field-updated")},m(r,s){v(r,e,s),G(t,e,null),i=!0},p(r,s){const l={};s[0]&16&&(l.date=r[64].updated),t.$set(l)},i(r){i||(O(t.$$.fragment,r),i=!0)},o(r){N(t.$$.fragment,r),i=!1},d(r){r&&k(e),Q(t)}}}function Ro(n,e){let t,i,r=!e[6].includes("@id"),s,l,o=[],a=new Map,u,f=e[9]&&!e[6].includes("@created"),c,d=e[8]&&!e[6].includes("@updated"),m,g,p,_,b,w=!e[11]&&Oo(e),T=r&&Eo(e),S=e[10]&&Io(e),E=ke(e[20]);const F=P=>P[67].name;for(let P=0;P<E.length;P+=1){let W=ho(e,E,P),K=F(W);a.set(K,o[P]=Lo(K,W))}let L=f&&Fo(e),I=d&&Po(e);function R(){return e[41](e[64])}return{key:n,first:null,c(){t=y("tr"),w&&w.c(),i=q(),T&&T.c(),s=q(),S&&S.c(),l=q();for(let P=0;P<o.length;P+=1)o[P].c();u=q(),L&&L.c(),c=q(),I&&I.c(),m=q(),g=y("td"),g.innerHTML='<i class="ri-arrow-right-line"></i>',h(g,"class","col-type-action min-width"),h(t,"tabindex","0"),h(t,"class","row-handle"),this.first=t},m(P,W){v(P,t,W),w&&w.m(t,null),C(t,i),T&&T.m(t,null),C(t,s),S&&S.m(t,null),C(t,l);for(let K=0;K<o.length;K+=1)o[K]&&o[K].m(t,null);C(t,u),L&&L.m(t,null),C(t,c),I&&I.m(t,null),C(t,m),C(t,g),p=!0,_||(b=x(t,"click",R),_=!0)},p(P,W){e=P,e[11]?w&&(w.d(1),w=null):w?w.p(e,W):(w=Oo(e),w.c(),w.m(t,i)),W[0]&64&&(r=!e[6].includes("@id")),r?T?(T.p(e,W),W[0]&64&&O(T,1)):(T=Eo(e),T.c(),O(T,1),T.m(t,s)):T&&(le(),N(T,1,1,()=>{T=null}),oe()),e[10]?S?S.p(e,W):(S=Io(e),S.c(),S.m(t,l)):S&&(S.d(1),S=null),W[0]&1048592&&(E=ke(e[20]),le(),o=pt(o,W,F,1,e,E,a,t,Lt,Lo,u,ho),oe()),W[0]&576&&(f=e[9]&&!e[6].includes("@created")),f?L?(L.p(e,W),W[0]&576&&O(L,1)):(L=Fo(e),L.c(),O(L,1),L.m(t,c)):L&&(le(),N(L,1,1,()=>{L=null}),oe()),W[0]&320&&(d=e[8]&&!e[6].includes("@updated")),d?I?(I.p(e,W),W[0]&320&&O(I,1)):(I=Po(e),I.c(),O(I,1),I.m(t,m)):I&&(le(),N(I,1,1,()=>{I=null}),oe())},i(P){if(!p){O(T);for(let W=0;W<E.length;W+=1)O(o[W]);O(L),O(I),p=!0}},o(P){N(T);for(let W=0;W<o.length;W+=1)N(o[W]);N(L),N(I),p=!1},d(P){P&&k(t),w&&w.d(),T&&T.d(),S&&S.d();for(let W=0;W<o.length;W+=1)o[W].d();L&&L.d(),I&&I.d(),_=!1,b()}}}function qo(n){let e,t,i,r,s,l;return{c(){e=y("tr"),t=y("td"),i=y("button"),r=y("span"),r.textContent="Load more",h(r,"class","txt"),h(i,"class","btn btn-expanded-lg btn-secondary btn-horizontal-sticky"),i.disabled=n[14],J(i,"btn-loading",n[14]),h(t,"colspan","99"),h(t,"class","txt-center")},m(o,a){v(o,e,a),C(e,t),C(t,i),C(i,r),s||(l=x(i,"click",Qe(n[44])),s=!0)},p(o,a){a[0]&16384&&(i.disabled=o[14]),a[0]&16384&&J(i,"btn-loading",o[14])},d(o){o&&k(e),s=!1,l()}}}function Tg(n){let e,t,i,r,s=!n[6].includes("@id"),l,o,a=[],u=new Map,f,c=n[9]&&!n[6].includes("@created"),d,m=n[8]&&!n[6].includes("@updated"),g,p,_,b,w=[],T=new Map,S,E,F=!n[11]&&_o(n),L=s&&bo(n),I=n[10]&&yo(n),R=ke(n[20]);const P=H=>H[67].name;for(let H=0;H<R.length;H+=1){let j=po(n,R,H),Ie=P(j);u.set(Ie,a[H]=vo(Ie,j))}let W=c&&So(n),K=m&&Co(n),U=n[17].length&&To(n),te=ke(n[4]);const ne=H=>H[11]?H[64]:H[64].id;for(let H=0;H<te.length;H+=1){let j=mo(n,te,H),Ie=ne(j);T.set(Ie,w[H]=Ro(Ie,j))}let Y=null;te.length||(Y=Do(n));let z=n[4].length&&n[19]&&qo(n);return{c(){e=y("table"),t=y("thead"),i=y("tr"),F&&F.c(),r=q(),L&&L.c(),l=q(),I&&I.c(),o=q();for(let H=0;H<a.length;H+=1)a[H].c();f=q(),W&&W.c(),d=q(),K&&K.c(),g=q(),p=y("th"),U&&U.c(),_=q(),b=y("tbody");for(let H=0;H<w.length;H+=1)w[H].c();Y&&Y.c(),S=q(),z&&z.c(),h(p,"class","col-type-action min-width"),h(e,"class","table"),J(e,"table-loading",n[14])},m(H,j){v(H,e,j),C(e,t),C(t,i),F&&F.m(i,null),C(i,r),L&&L.m(i,null),C(i,l),I&&I.m(i,null),C(i,o);for(let Ie=0;Ie<a.length;Ie+=1)a[Ie]&&a[Ie].m(i,null);C(i,f),W&&W.m(i,null),C(i,d),K&&K.m(i,null),C(i,g),C(i,p),U&&U.m(p,null),C(e,_),C(e,b);for(let Ie=0;Ie<w.length;Ie+=1)w[Ie]&&w[Ie].m(b,null);Y&&Y.m(b,null),C(b,S),z&&z.m(b,null),E=!0},p(H,j){H[11]?F&&(F.d(1),F=null):F?F.p(H,j):(F=_o(H),F.c(),F.m(i,r)),j[0]&64&&(s=!H[6].includes("@id")),s?L?(L.p(H,j),j[0]&64&&O(L,1)):(L=bo(H),L.c(),O(L,1),L.m(i,l)):L&&(le(),N(L,1,1,()=>{L=null}),oe()),H[10]?I?(I.p(H,j),j[0]&1024&&O(I,1)):(I=yo(H),I.c(),O(I,1),I.m(i,o)):I&&(le(),N(I,1,1,()=>{I=null}),oe()),j[0]&1048577&&(R=ke(H[20]),le(),a=pt(a,j,P,1,H,R,u,i,Lt,vo,f,po),oe()),j[0]&576&&(c=H[9]&&!H[6].includes("@created")),c?W?(W.p(H,j),j[0]&576&&O(W,1)):(W=So(H),W.c(),O(W,1),W.m(i,d)):W&&(le(),N(W,1,1,()=>{W=null}),oe()),j[0]&320&&(m=H[8]&&!H[6].includes("@updated")),m?K?(K.p(H,j),j[0]&320&&O(K,1)):(K=Co(H),K.c(),O(K,1),K.m(i,g)):K&&(le(),N(K,1,1,()=>{K=null}),oe()),H[17].length?U?U.p(H,j):(U=To(H),U.c(),U.m(p,null)):U&&(U.d(1),U=null),j[0]&19943286&&(te=ke(H[4]),le(),w=pt(w,j,ne,1,H,te,T,b,Lt,Ro,S,mo),oe(),!te.length&&Y?Y.p(H,j):te.length?Y&&(Y.d(1),Y=null):(Y=Do(H),Y.c(),Y.m(b,S))),H[4].length&&H[19]?z?z.p(H,j):(z=qo(H),z.c(),z.m(b,null)):z&&(z.d(1),z=null),(!E||j[0]&16384)&&J(e,"table-loading",H[14])},i(H){if(!E){O(L),O(I);for(let j=0;j<R.length;j+=1)O(a[j]);O(W),O(K);for(let j=0;j<te.length;j+=1)O(w[j]);E=!0}},o(H){N(L),N(I);for(let j=0;j<a.length;j+=1)N(a[j]);N(W),N(K);for(let j=0;j<w.length;j+=1)N(w[j]);E=!1},d(H){H&&k(e),F&&F.d(),L&&L.d(),I&&I.d();for(let j=0;j<a.length;j+=1)a[j].d();W&&W.d(),K&&K.d(),U&&U.d();for(let j=0;j<w.length;j+=1)w[j].d();Y&&Y.d(),z&&z.d()}}}function jo(n){let e,t;return e=new Ni({props:{class:"dropdown dropdown-right dropdown-nowrap columns-dropdown",trigger:n[16],$$slots:{default:[Og]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,r){const s={};r[0]&65536&&(s.trigger=i[16]),r[0]&131136|r[2]&1024&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function Dg(n){let e,t,i,r,s,l=n[60].name+"",o,a,u,f,c;function d(...m){return n[31](n[60],...m)}return{c(){e=y("input"),r=q(),s=y("label"),o=re(l),u=q(),h(e,"type","checkbox"),h(e,"id",t=n[63]),e.checked=i=!n[6].includes(n[60].id),h(s,"for",a=n[63])},m(m,g){v(m,e,g),v(m,r,g),v(m,s,g),C(s,o),v(m,u,g),f||(c=x(e,"change",d),f=!0)},p(m,g){n=m,g[2]&2&&t!==(t=n[63])&&h(e,"id",t),g[0]&131136&&i!==(i=!n[6].includes(n[60].id))&&(e.checked=i),g[0]&131072&&l!==(l=n[60].name+"")&&_e(o,l),g[2]&2&&a!==(a=n[63])&&h(s,"for",a)},d(m){m&&(k(e),k(r),k(s),k(u)),f=!1,c()}}}function Vo(n,e){let t,i,r;return i=new Ze({props:{class:"form-field form-field-sm form-field-toggle m-0 p-5",$$slots:{default:[Dg,({uniqueId:s})=>({63:s}),({uniqueId:s})=>[0,0,s?2:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=ge(),X(i.$$.fragment),this.first=t},m(s,l){v(s,t,l),G(i,s,l),r=!0},p(s,l){e=s;const o={};l[0]&131136|l[2]&1026&&(o.$$scope={dirty:l,ctx:e}),i.$set(o)},i(s){r||(O(i.$$.fragment,s),r=!0)},o(s){N(i.$$.fragment,s),r=!1},d(s){s&&k(t),Q(i,s)}}}function Og(n){let e,t,i=[],r=new Map,s,l,o=ke(n[17]);const a=u=>u[60].id+u[60].name;for(let u=0;u<o.length;u+=1){let f=go(n,o,u),c=a(f);r.set(c,i[u]=Vo(c,f))}return{c(){e=y("div"),e.textContent="Toggle columns",t=q();for(let u=0;u<i.length;u+=1)i[u].c();s=ge(),h(e,"class","txt-hint txt-sm p-5 m-b-5")},m(u,f){v(u,e,f),v(u,t,f);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(u,f);v(u,s,f),l=!0},p(u,f){f[0]&131136|f[2]&2&&(o=ke(u[17]),le(),i=pt(i,f,a,1,u,o,r,s.parentNode,Lt,Vo,s,go),oe())},i(u){if(!l){for(let f=0;f<o.length;f+=1)O(i[f]);l=!0}},o(u){for(let f=0;f<i.length;f+=1)N(i[f]);l=!1},d(u){u&&(k(e),k(t),k(s));for(let f=0;f<i.length;f+=1)i[f].d(u)}}}function Eg(n){let e,t,i=n[16]&&jo(n);return{c(){i&&i.c(),e=ge()},m(r,s){i&&i.m(r,s),v(r,e,s),t=!0},p(r,s){r[16]?i?(i.p(r,s),s[0]&65536&&O(i,1)):(i=jo(r),i.c(),O(i,1),i.m(e.parentNode,e)):i&&(le(),N(i,1,1,()=>{i=null}),oe())},i(r){t||(O(i),t=!0)},o(r){N(i),t=!1},d(r){r&&k(e),i&&i.d(r)}}}function Wo(n){let e,t,i,r,s,l,o=n[7]===1?"record":"records",a,u,f,c,d,m,g,p,_,b,w;return{c(){e=y("div"),t=y("div"),i=re("Selected "),r=y("strong"),s=re(n[7]),l=q(),a=re(o),u=q(),f=y("button"),f.innerHTML='<span class="txt">Reset</span>',c=q(),d=y("div"),m=q(),g=y("button"),g.innerHTML='<span class="txt">Delete selected</span>',h(t,"class","txt"),h(f,"type","button"),h(f,"class","btn btn-xs btn-transparent btn-outline p-l-5 p-r-5"),J(f,"btn-disabled",n[15]),h(d,"class","flex-fill"),h(g,"type","button"),h(g,"class","btn btn-sm btn-transparent btn-danger"),J(g,"btn-loading",n[15]),J(g,"btn-disabled",n[15]),h(e,"class","bulkbar")},m(T,S){v(T,e,S),C(e,t),C(t,i),C(t,r),C(r,s),C(t,l),C(t,a),C(e,u),C(e,f),C(e,c),C(e,d),C(e,m),C(e,g),_=!0,b||(w=[x(f,"click",n[46]),x(g,"click",n[47])],b=!0)},p(T,S){(!_||S[0]&128)&&_e(s,T[7]),(!_||S[0]&128)&&o!==(o=T[7]===1?"record":"records")&&_e(a,o),(!_||S[0]&32768)&&J(f,"btn-disabled",T[15]),(!_||S[0]&32768)&&J(g,"btn-loading",T[15]),(!_||S[0]&32768)&&J(g,"btn-disabled",T[15])},i(T){_||(T&&ht(()=>{_&&(p||(p=mt(e,on,{duration:150,y:5},!0)),p.run(1))}),_=!0)},o(T){T&&(p||(p=mt(e,on,{duration:150,y:5},!1)),p.run(0)),_=!1},d(T){T&&k(e),T&&p&&p.end(),b=!1,De(w)}}}function Mg(n){let e,t,i,r,s={class:"table-wrapper",$$slots:{before:[Eg],default:[Tg]},$$scope:{ctx:n}};e=new Wf({props:s}),n[45](e);let l=n[7]&&Wo(n);return{c(){X(e.$$.fragment),t=q(),l&&l.c(),i=ge()},m(o,a){G(e,o,a),v(o,t,a),l&&l.m(o,a),v(o,i,a),r=!0},p(o,a){const u={};a[0]&4157303|a[2]&1024&&(u.$$scope={dirty:a,ctx:o}),e.$set(u),o[7]?l?(l.p(o,a),a[0]&128&&O(l,1)):(l=Wo(o),l.c(),O(l,1),l.m(i.parentNode,i)):l&&(le(),N(l,1,1,()=>{l=null}),oe())},i(o){r||(O(e.$$.fragment,o),O(l),r=!0)},o(o){N(e.$$.fragment,o),N(l),r=!1},d(o){o&&(k(t),k(i)),n[45](null),Q(e,o),l&&l.d(o)}}}const Ig=/^([\+\-])?(\w+)$/,Ho=40;function Ng(n,e,t){let i,r,s,l,o,a,u,f,c,d,m,g,p;Ke(n,dn,ae=>t(52,g=ae)),Ke(n,an,ae=>t(21,p=ae));const _=gt();let{collection:b}=e,{sort:w=""}=e,{filter:T=""}=e,S,E=[],F=1,L=0,I={},R=!0,P=!1,W=0,K,U=[],te=["@id"],ne=[],Y="";function z(){b!=null&&b.id&&(U.length?localStorage.setItem(Y,JSON.stringify(U)):localStorage.removeItem(Y))}function H(){if(t(6,U=[]),!!(b!=null&&b.id))try{const ae=localStorage.getItem(Y);ae?t(6,U=JSON.parse(ae)||[]):t(6,U=te)}catch{}}function j(ae){return!!E.find(at=>at.id)}async function Ie(){const ae=F;for(let at=1;at<=ae;at++)(at===1||u)&&await it(at,!1)}async function it(ae=1,at=!0){var fe,Se,yt;if(!(b!=null&&b.id))return;t(14,R=!0);let hn=w;const un=hn.match(Ig),Rn=un?o.find(he=>he.name===un[2]):null;if(un&&Rn){const he=((yt=(Se=(fe=g==null?void 0:g.find(ze=>{var kt;return ze.id==((kt=Rn.options)==null?void 0:kt.collectionId)}))==null?void 0:fe.schema)==null?void 0:Se.filter(ze=>ze.presentable))==null?void 0:yt.map(ze=>ze.name))||[],wt=[];for(const ze of he)wt.push((un[1]||"")+un[2]+"."+ze);wt.length>0&&(hn=wt.join(","))}const qn=A.getAllCollectionIdentifiers(b),ee=l.map(he=>he.name+":excerpt(200)").concat(o.map(he=>"expand."+he.name+".*:excerpt(200)"));return ee.length&&ee.unshift("*"),Me.collection(b.id).getList(ae,Ho,{sort:hn,skipTotal:1,filter:A.normalizeSearchFilter(T,qn),expand:o.map(he=>he.name).join(","),fields:ee.join(","),requestKey:"records_list"}).then(async he=>{var wt;if(ae<=1&&_t(),t(14,R=!1),t(13,F=he.page),t(28,L=he.items.length),_("load",E.concat(he.items)),l.length)for(let ze of he.items)ze._partial=!0;if(at){const ze=++W;for(;(wt=he.items)!=null&&wt.length&&W==ze;){const kt=he.items.splice(0,20);for(let Zt of kt)A.pushOrReplaceByKey(E,Zt);t(4,E),await A.yieldToMain()}}else{for(let ze of he.items)A.pushOrReplaceByKey(E,ze);t(4,E)}}).catch(he=>{he!=null&&he.isAbort||(t(14,R=!1),console.warn(he),_t(),Me.error(he,!T||(he==null?void 0:he.status)!=400))})}function _t(){S==null||S.resetVerticalScroll(),t(4,E=[]),t(13,F=1),t(28,L=0),t(5,I={})}function Mt(){c?Tt():bt()}function Tt(){t(5,I={})}function bt(){for(const ae of E)t(5,I[ae.id]=ae,I);t(5,I)}function Dt(ae){I[ae.id]?delete I[ae.id]:t(5,I[ae.id]=ae,I),t(5,I)}function et(){hi(`Do you really want to delete the selected ${f===1?"record":"records"}?`,lt)}async function lt(){if(P||!f||!(b!=null&&b.id))return;let ae=[];for(const at of Object.keys(I))ae.push(Me.collection(b.id).delete(at));return t(15,P=!0),Promise.all(ae).then(()=>{es(`Successfully deleted the selected ${f===1?"record":"records"}.`),_("delete",I),Tt()}).catch(at=>{Me.error(at)}).finally(()=>(t(15,P=!1),Ie()))}function ve(ae){Ct.call(this,n,ae)}const qe=(ae,at)=>{at.target.checked?A.removeByValue(U,ae.id):A.pushUnique(U,ae.id),t(6,U)},Ue=()=>Mt();function je(ae){w=ae,t(0,w)}function rt(ae){w=ae,t(0,w)}function de(ae){w=ae,t(0,w)}function Z(ae){w=ae,t(0,w)}function Te(ae){w=ae,t(0,w)}function Xe(ae){w=ae,t(0,w)}function ot(ae){ue[ae?"unshift":"push"](()=>{K=ae,t(16,K)})}const Pt=ae=>Dt(ae),ri=ae=>er(`#/collections/${b.id}?recordId=${ae.id}`),si=()=>t(1,T=""),Fn=()=>er(`#/collections/${b.id}`),vn=()=>it(F+1);function Pn(ae){ue[ae?"unshift":"push"](()=>{S=ae,t(12,S)})}const mn=()=>Tt(),li=()=>et();return n.$$set=ae=>{"collection"in ae&&t(2,b=ae.collection),"sort"in ae&&t(0,w=ae.sort),"filter"in ae&&t(1,T=ae.filter)},n.$$.update=()=>{n.$$.dirty[0]&4&&b!=null&&b.id&&(Y=b.id+"@hiddenColumns",H(),_t()),n.$$.dirty[0]&4&&t(11,i=(b==null?void 0:b.type)==="view"),n.$$.dirty[0]&4&&t(10,r=(b==null?void 0:b.type)==="auth"),n.$$.dirty[0]&4&&t(29,s=(b==null?void 0:b.schema)||[]),n.$$.dirty[0]&536870912&&(l=s.filter(ae=>ae.type==="editor")),n.$$.dirty[0]&536870912&&(o=s.filter(ae=>ae.type==="relation")),n.$$.dirty[0]&536870976&&t(20,a=s.filter(ae=>!U.includes(ae.id))),n.$$.dirty[0]&7&&b!=null&&b.id&&w!==-1&&T!==-1&&it(1),n.$$.dirty[0]&268435456&&t(19,u=L>=Ho),n.$$.dirty[0]&32&&t(7,f=Object.keys(I).length),n.$$.dirty[0]&144&&t(18,c=E.length&&f===E.length),n.$$.dirty[0]&64&&U!==-1&&z(),n.$$.dirty[0]&2064&&t(9,d=!i||E.length>0&&typeof E[0].created<"u"),n.$$.dirty[0]&2064&&t(8,m=!i||E.length>0&&typeof E[0].updated<"u"),n.$$.dirty[0]&536872704&&t(17,ne=[].concat(r?[{id:"@username",name:"username"},{id:"@email",name:"email"}]:[],s.map(ae=>({id:ae.id,name:ae.name})),d?{id:"@created",name:"created"}:[],m?{id:"@updated",name:"updated"}:[],{id:"@id",name:"id"}))},[w,T,b,it,E,I,U,f,m,d,r,i,S,F,R,P,K,ne,c,u,a,p,Mt,Tt,Dt,et,j,Ie,L,s,ve,qe,Ue,je,rt,de,Z,Te,Xe,ot,Pt,ri,si,Fn,vn,Pn,mn,li]}class Ag extends we{constructor(e){super(),ye(this,e,Ng,Mg,be,{collection:2,sort:0,filter:1,hasRecord:26,reloadLoadedPages:27,load:3},null,[-1,-1,-1])}get hasRecord(){return this.$$.ctx[26]}get reloadLoadedPages(){return this.$$.ctx[27]}get load(){return this.$$.ctx[3]}}function Lg(n){let e,t,i,r,s=(n[2]?"...":n[0])+"",l,o;return{c(){e=y("div"),t=y("span"),t.textContent="Total found:",i=q(),r=y("span"),l=re(s),h(t,"class","txt"),h(r,"class","txt"),h(e,"class",o="inline-flex flex-gap-5 records-counter "+n[1])},m(a,u){v(a,e,u),C(e,t),C(e,i),C(e,r),C(r,l)},p(a,[u]){u&5&&s!==(s=(a[2]?"...":a[0])+"")&&_e(l,s),u&2&&o!==(o="inline-flex flex-gap-5 records-counter "+a[1])&&h(e,"class",o)},i:$,o:$,d(a){a&&k(e)}}}function Fg(n,e,t){const i=gt();let{collection:r}=e,{filter:s=""}=e,{totalCount:l=0}=e,{class:o=void 0}=e,a=!1;async function u(){if(r!=null&&r.id){t(2,a=!0),t(0,l=0);try{const f=A.getAllCollectionIdentifiers(r),c=await Me.collection(r.id).getList(1,1,{filter:A.normalizeSearchFilter(s,f),fields:"id",requestKey:"records_count"});t(0,l=c.totalItems),i("count",l),t(2,a=!1)}catch(f){f!=null&&f.isAbort||(t(2,a=!1),console.warn(f))}}}return n.$$set=f=>{"collection"in f&&t(3,r=f.collection),"filter"in f&&t(4,s=f.filter),"totalCount"in f&&t(0,l=f.totalCount),"class"in f&&t(1,o=f.class)},n.$$.update=()=>{n.$$.dirty&24&&r!=null&&r.id&&s!==-1&&u()},[l,o,a,r,s,u]}class Pg extends we{constructor(e){super(),ye(this,e,Fg,Lg,be,{collection:3,filter:4,totalCount:0,class:1,reload:5})}get reload(){return this.$$.ctx[5]}}function Rg(n){let e,t,i,r,s,l;return{c(){e=y("button"),t=y("i"),h(t,"class","ri-refresh-line svelte-1bvelc2"),h(e,"type","button"),h(e,"aria-label","Refresh"),h(e,"class",i="btn btn-transparent btn-circle "+n[1]+" svelte-1bvelc2"),J(e,"refreshing",n[2])},m(o,a){v(o,e,a),C(e,t),s||(l=[He(r=Ge.call(null,e,n[0])),x(e,"click",n[3])],s=!0)},p(o,[a]){a&2&&i!==(i="btn btn-transparent btn-circle "+o[1]+" svelte-1bvelc2")&&h(e,"class",i),r&&st(r.update)&&a&1&&r.update.call(null,o[0]),a&6&&J(e,"refreshing",o[2])},i:$,o:$,d(o){o&&k(e),s=!1,De(l)}}}function qg(n,e,t){const i=gt();let{tooltip:r={text:"Refresh",position:"right"}}=e,{class:s=""}=e,l=null;function o(){i("refresh");const a=r;t(0,r=null),clearTimeout(l),t(2,l=setTimeout(()=>{t(2,l=null),t(0,r=a)},150))}return Ft(()=>()=>clearTimeout(l)),n.$$set=a=>{"tooltip"in a&&t(0,r=a.tooltip),"class"in a&&t(1,s=a.class)},[r,s,l,o]}class jg extends we{constructor(e){super(),ye(this,e,qg,Rg,be,{tooltip:0,class:1})}}const Vg="modulepreload",Wg=function(n,e){return new URL(n,e).href},Uo={},Uf=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){const s=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=Promise.all(t.map(a=>{if(a=Wg(a,i),a in Uo)return;Uo[a]=!0;const u=a.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!i)for(let m=s.length-1;m>=0;m--){const g=s[m];if(g.href===a&&(!u||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Vg,u||(d.as="script",d.crossOrigin=""),d.href=a,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((m,g)=>{d.addEventListener("load",m),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})}))}return r.then(()=>e()).catch(s=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s})};function Hg(n){let e,t,i,r;return{c(){e=y("input"),h(e,"type","text"),h(e,"id",n[8]),h(e,"placeholder",t=n[0]||n[1])},m(s,l){v(s,e,l),n[13](e),Pe(e,n[7]),i||(r=x(e,"input",n[14]),i=!0)},p(s,l){l&3&&t!==(t=s[0]||s[1])&&h(e,"placeholder",t),l&128&&e.value!==s[7]&&Pe(e,s[7])},i:$,o:$,d(s){s&&k(e),n[13](null),i=!1,r()}}}function Ug(n){let e,t,i,r;function s(a){n[12](a)}var l=n[4];function o(a,u){let f={id:a[8],singleLine:!0,disableRequestKeys:!0,disableCollectionJoinKeys:!0,extraAutocompleteKeys:a[3],baseCollection:a[2],placeholder:a[0]||a[1]};return a[7]!==void 0&&(f.value=a[7]),{props:f}}return l&&(e=Kt(l,o(n)),ue.push(()=>Ae(e,"value",s)),e.$on("submit",n[10])),{c(){e&&X(e.$$.fragment),i=ge()},m(a,u){e&&G(e,a,u),v(a,i,u),r=!0},p(a,u){if(u&16&&l!==(l=a[4])){if(e){le();const f=e;N(f.$$.fragment,1,0,()=>{Q(f,1)}),oe()}l?(e=Kt(l,o(a)),ue.push(()=>Ae(e,"value",s)),e.$on("submit",a[10]),X(e.$$.fragment),O(e.$$.fragment,1),G(e,i.parentNode,i)):e=null}else if(l){const f={};u&8&&(f.extraAutocompleteKeys=a[3]),u&4&&(f.baseCollection=a[2]),u&3&&(f.placeholder=a[0]||a[1]),!t&&u&128&&(t=!0,f.value=a[7],Fe(()=>t=!1)),e.$set(f)}},i(a){r||(e&&O(e.$$.fragment,a),r=!0)},o(a){e&&N(e.$$.fragment,a),r=!1},d(a){a&&k(i),e&&Q(e,a)}}}function zo(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<span class="txt">Search</span>',h(e,"type","submit"),h(e,"class","btn btn-expanded-sm btn-sm btn-warning")},m(r,s){v(r,e,s),i=!0},i(r){i||(r&&ht(()=>{i&&(t||(t=mt(e,on,{duration:150,x:5},!0)),t.run(1))}),i=!0)},o(r){r&&(t||(t=mt(e,on,{duration:150,x:5},!1)),t.run(0)),i=!1},d(r){r&&k(e),r&&t&&t.end()}}}function Yo(n){let e,t,i,r,s;return{c(){e=y("button"),e.innerHTML='<span class="txt">Clear</span>',h(e,"type","button"),h(e,"class","btn btn-transparent btn-sm btn-hint p-l-xs p-r-xs m-l-10")},m(l,o){v(l,e,o),i=!0,r||(s=x(e,"click",n[15]),r=!0)},p:$,i(l){i||(l&&ht(()=>{i&&(t||(t=mt(e,on,{duration:150,x:5},!0)),t.run(1))}),i=!0)},o(l){l&&(t||(t=mt(e,on,{duration:150,x:5},!1)),t.run(0)),i=!1},d(l){l&&k(e),l&&t&&t.end(),r=!1,s()}}}function zg(n){let e,t,i,r,s,l,o,a,u,f,c;const d=[Ug,Hg],m=[];function g(b,w){return b[4]&&!b[5]?0:1}s=g(n),l=m[s]=d[s](n);let p=(n[0].length||n[7].length)&&n[7]!=n[0]&&zo(),_=(n[0].length||n[7].length)&&Yo(n);return{c(){e=y("form"),t=y("label"),i=y("i"),r=q(),l.c(),o=q(),p&&p.c(),a=q(),_&&_.c(),h(i,"class","ri-search-line"),h(t,"for",n[8]),h(t,"class","m-l-10 txt-xl"),h(e,"class","searchbar")},m(b,w){v(b,e,w),C(e,t),C(t,i),C(e,r),m[s].m(e,null),C(e,o),p&&p.m(e,null),C(e,a),_&&_.m(e,null),u=!0,f||(c=[x(e,"click",$t(n[11])),x(e,"submit",Qe(n[10]))],f=!0)},p(b,[w]){let T=s;s=g(b),s===T?m[s].p(b,w):(le(),N(m[T],1,1,()=>{m[T]=null}),oe(),l=m[s],l?l.p(b,w):(l=m[s]=d[s](b),l.c()),O(l,1),l.m(e,o)),(b[0].length||b[7].length)&&b[7]!=b[0]?p?w&129&&O(p,1):(p=zo(),p.c(),O(p,1),p.m(e,a)):p&&(le(),N(p,1,1,()=>{p=null}),oe()),b[0].length||b[7].length?_?(_.p(b,w),w&129&&O(_,1)):(_=Yo(b),_.c(),O(_,1),_.m(e,null)):_&&(le(),N(_,1,1,()=>{_=null}),oe())},i(b){u||(O(l),O(p),O(_),u=!0)},o(b){N(l),N(p),N(_),u=!1},d(b){b&&k(e),m[s].d(),p&&p.d(),_&&_.d(),f=!1,De(c)}}}function Yg(n,e,t){const i=gt(),r="search_"+A.randomString(7);let{value:s=""}=e,{placeholder:l='Search term or filter like created > "2022-01-01"...'}=e,{autocompleteCollection:o=A.initCollection()}=e,{extraAutocompleteKeys:a=[]}=e,u,f=!1,c,d="";function m(E=!0){t(7,d=""),E&&(c==null||c.focus()),i("clear")}function g(){t(0,s=d),i("submit",s)}async function p(){u||f||(t(5,f=!0),t(4,u=(await Uf(()=>import("./FilterAutocompleteInput-4co2Abds.js"),__vite__mapDeps([0,1]),import.meta.url)).default),t(5,f=!1))}Ft(()=>{p()});function _(E){Ct.call(this,n,E)}function b(E){d=E,t(7,d),t(0,s)}function w(E){ue[E?"unshift":"push"](()=>{c=E,t(6,c)})}function T(){d=this.value,t(7,d),t(0,s)}const S=()=>{m(!1),g()};return n.$$set=E=>{"value"in E&&t(0,s=E.value),"placeholder"in E&&t(1,l=E.placeholder),"autocompleteCollection"in E&&t(2,o=E.autocompleteCollection),"extraAutocompleteKeys"in E&&t(3,a=E.extraAutocompleteKeys)},n.$$.update=()=>{n.$$.dirty&1&&typeof s=="string"&&t(7,d=s)},[s,l,o,a,u,f,c,d,r,m,g,_,b,w,T,S]}class Ms extends we{constructor(e){super(),ye(this,e,Yg,zg,be,{value:0,placeholder:1,autocompleteCollection:2,extraAutocompleteKeys:3})}}function Bg(n){let e,t,i,r;return e=new Vf({}),i=new Ln({props:{class:"flex-content",$$slots:{footer:[Gg],default:[Jg]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment),t=q(),X(i.$$.fragment)},m(s,l){G(e,s,l),v(s,t,l),G(i,s,l),r=!0},p(s,l){const o={};l&536871031&&(o.$$scope={dirty:l,ctx:s}),i.$set(o)},i(s){r||(O(e.$$.fragment,s),O(i.$$.fragment,s),r=!0)},o(s){N(e.$$.fragment,s),N(i.$$.fragment,s),r=!1},d(s){s&&k(t),Q(e,s),Q(i,s)}}}function Kg(n){let e,t;return e=new Ln({props:{center:!0,class:"center-content",$$slots:{default:[Qg]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function Zg(n){let e,t;return e=new Ln({props:{center:!0,$$slots:{default:[Xg]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function Bo(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<i class="ri-add-line"></i> <span class="txt">New record</span>',h(e,"type","button"),h(e,"class","btn btn-expanded")},m(r,s){v(r,e,s),t||(i=x(e,"click",n[17]),t=!0)},p:$,d(r){r&&k(e),t=!1,i()}}}function Jg(n){let e,t,i,r,s,l=A.replacePcmsPrefix(n[2].name)+"",o,a,u,f,c,d,m,g,p,_,b,w,T,S,E;f=new jg({}),f.$on("refresh",n[16]);let F=n[2].type!=="view"&&n[2].createRule!==null&&Bo(n);g=new Ms({props:{value:n[0],autocompleteCollection:n[2]}}),g.$on("submit",n[18]);function L(P){n[20](P)}function I(P){n[21](P)}let R={collection:n[2]};return n[0]!==void 0&&(R.filter=n[0]),n[1]!==void 0&&(R.sort=n[1]),w=new Ag({props:R}),n[19](w),ue.push(()=>Ae(w,"filter",L)),ue.push(()=>Ae(w,"sort",I)),w.$on("select",n[22]),w.$on("delete",n[23]),w.$on("new",n[24]),{c(){e=y("header"),t=y("nav"),i=y("div"),i.textContent="Collections",r=q(),s=y("div"),o=re(l),a=q(),u=y("div"),X(f.$$.fragment),c=q(),d=y("div"),F&&F.c(),m=q(),X(g.$$.fragment),p=q(),_=y("div"),b=q(),X(w.$$.fragment),h(i,"class","breadcrumb-item"),h(s,"class","breadcrumb-item"),h(t,"class","breadcrumbs"),h(u,"class","inline-flex gap-5"),h(d,"class","btns-group"),h(e,"class","page-header"),h(_,"class","clearfix m-b-sm")},m(P,W){v(P,e,W),C(e,t),C(t,i),C(t,r),C(t,s),C(s,o),C(e,a),C(e,u),G(f,u,null),C(e,c),C(e,d),F&&F.m(d,null),v(P,m,W),G(g,P,W),v(P,p,W),v(P,_,W),v(P,b,W),G(w,P,W),E=!0},p(P,W){(!E||W&4)&&l!==(l=A.replacePcmsPrefix(P[2].name)+"")&&_e(o,l),P[2].type!=="view"&&P[2].createRule!==null?F?F.p(P,W):(F=Bo(P),F.c(),F.m(d,null)):F&&(F.d(1),F=null);const K={};W&1&&(K.value=P[0]),W&4&&(K.autocompleteCollection=P[2]),g.$set(K);const U={};W&4&&(U.collection=P[2]),!T&&W&1&&(T=!0,U.filter=P[0],Fe(()=>T=!1)),!S&&W&2&&(S=!0,U.sort=P[1],Fe(()=>S=!1)),w.$set(U)},i(P){E||(O(f.$$.fragment,P),O(g.$$.fragment,P),O(w.$$.fragment,P),E=!0)},o(P){N(f.$$.fragment,P),N(g.$$.fragment,P),N(w.$$.fragment,P),E=!1},d(P){P&&(k(e),k(m),k(p),k(_),k(b)),Q(f),F&&F.d(),Q(g,P),n[19](null),Q(w,P)}}}function Gg(n){let e,t,i;function r(l){n[15](l)}let s={class:"m-r-auto txt-sm txt-hint",collection:n[2],filter:n[0]};return n[6]!==void 0&&(s.totalCount=n[6]),e=new Pg({props:s}),n[14](e),ue.push(()=>Ae(e,"totalCount",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){const a={};o&4&&(a.collection=l[2]),o&1&&(a.filter=l[0]),!t&&o&64&&(t=!0,a.totalCount=l[6],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){n[14](null),Q(e,l)}}}function Qg(n){let e;return{c(){e=y("div"),e.innerHTML='<i class="ri-folder-open-line txt-disabled"></i> <p>No Collections</p>',h(e,"class","content txt-hint")},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function Xg(n){let e;return{c(){e=y("div"),e.innerHTML='<span class="loader loader-lg"></span> <h1>Loading collections...</h1>',h(e,"class","placeholder-section m-b-base")},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function $g(n){let e,t,i,r;const s=[Zg,Kg,Bg],l=[];function o(a,u){return a[3]&&!a[7].length?0:a[7].length?2:1}return e=o(n),t=l[e]=s[e](n),{c(){t.c(),i=ge()},m(a,u){l[e].m(a,u),v(a,i,u),r=!0},p(a,[u]){let f=e;e=o(a),e===f?l[e].p(a,u):(le(),N(l[f],1,1,()=>{l[f]=null}),oe(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&k(i),l[e].d(a)}}}function xg(n,e,t){let i,r,s,l,o,a;Ke(n,an,Y=>t(2,r=Y)),Ke(n,sr,Y=>t(25,s=Y)),Ke(n,vi,Y=>t(3,l=Y)),Ke(n,cs,Y=>t(13,o=Y)),Ke(n,dn,Y=>t(7,a=Y));const u=new URLSearchParams(o);let f,c,d,m,g=u.get("filter")||"",p=u.get("sort")||"-created",_=u.get("collectionId")||(r==null?void 0:r.id),b=0;Ts(_);function w(){t(11,_=r==null?void 0:r.id),t(0,g=""),t(1,p="-created"),S({recordId:null}),T()}async function T(){if(!p)return;const Y=A.getAllCollectionIdentifiers(r),z=p.split(",").map(H=>H.startsWith("+")||H.startsWith("-")?H.substring(1):H);z.filter(H=>Y.includes(H)).length!=z.length&&(Y.includes("created")?t(1,p="-created"):t(1,p=""))}function S(Y={}){const z=Object.assign({collectionId:(r==null?void 0:r.id)||"",filter:g,sort:p},Y);A.replaceHashQueryParams(z)}function E(Y){ue[Y?"unshift":"push"](()=>{m=Y,t(5,m)})}function F(Y){b=Y,t(6,b)}const L=()=>{d==null||d.load(),m==null||m.reload()},I=()=>er(`#/collections/${r.id}`),R=Y=>t(0,g=Y.detail);function P(Y){ue[Y?"unshift":"push"](()=>{d=Y,t(4,d)})}function W(Y){g=Y,t(0,g)}function K(Y){p=Y,t(1,p)}const U=Y=>{S({recordId:Y.detail.id});let z=Y.detail._partial?Y.detail.id:Y.detail;r.type==="view"?c==null||c.show(z):f==null||f.show(z)},te=()=>{m==null||m.reload()},ne=()=>f==null?void 0:f.show();return n.$$.update=()=>{n.$$.dirty&8192&&t(12,i=new URLSearchParams(o)),n.$$.dirty&6152&&!l&&i.get("collectionId")&&i.get("collectionId")!=_&&Hh(i.get("collectionId")),n.$$.dirty&2052&&r!=null&&r.id&&_!=r.id&&w(),n.$$.dirty&4&&r!=null&&r.id&&T(),n.$$.dirty&15&&!l&&(p||g||r!=null&&r.id)&&S(),n.$$.dirty&4&&uu(sr,s=(r==null?void 0:r.name)||"Collections",s)},[g,p,r,l,d,m,b,a,f,c,S,_,i,o,E,F,L,I,R,P,W,K,U,te,ne]}class e1 extends we{constructor(e){super(),ye(this,e,xg,$g,be,{})}}function t1(n){let e,t,i,r,s,l,o,a,u,f;return s=new Ds({props:{value:n[1]}}),{c(){e=y("div"),t=y("span"),i=re(n[1]),r=q(),X(s.$$.fragment),l=q(),o=y("i"),h(t,"class","secret svelte-1md8247"),h(o,"class","ri-refresh-line txt-sm link-hint"),h(o,"aria-label","Refresh"),h(e,"class","flex flex-gap-5 p-5")},m(c,d){v(c,e,d),C(e,t),C(t,i),n[6](t),C(e,r),G(s,e,null),C(e,l),C(e,o),a=!0,u||(f=[He(Ge.call(null,o,"Refresh")),x(o,"click",n[4])],u=!0)},p(c,d){(!a||d&2)&&_e(i,c[1]);const m={};d&2&&(m.value=c[1]),s.$set(m)},i(c){a||(O(s.$$.fragment,c),a=!0)},o(c){N(s.$$.fragment,c),a=!1},d(c){c&&k(e),n[6](null),Q(s),u=!1,De(f)}}}function n1(n){let e,t,i,r,s,l,o,a,u,f;function c(m){n[7](m)}let d={class:"dropdown dropdown-upside dropdown-center dropdown-nowrap",$$slots:{default:[t1]},$$scope:{ctx:n}};return n[3]!==void 0&&(d.active=n[3]),r=new Ni({props:d}),ue.push(()=>Ae(r,"active",c)),r.$on("show",n[4]),{c(){e=y("button"),t=y("i"),i=q(),X(r.$$.fragment),h(t,"class","ri-sparkling-line"),h(t,"aria-hidden","true"),h(e,"tabindex","-1"),h(e,"type","button"),h(e,"aria-label","Generate"),h(e,"class",l="btn btn-circle "+n[0]+" svelte-1md8247")},m(m,g){v(m,e,g),C(e,t),C(e,i),G(r,e,null),a=!0,u||(f=He(o=Ge.call(null,e,n[3]?"":"Generate")),u=!0)},p(m,[g]){const p={};g&518&&(p.$$scope={dirty:g,ctx:m}),!s&&g&8&&(s=!0,p.active=m[3],Fe(()=>s=!1)),r.$set(p),(!a||g&1&&l!==(l="btn btn-circle "+m[0]+" svelte-1md8247"))&&h(e,"class",l),o&&st(o.update)&&g&8&&o.update.call(null,m[3]?"":"Generate")},i(m){a||(O(r.$$.fragment,m),a=!0)},o(m){N(r.$$.fragment,m),a=!1},d(m){m&&k(e),Q(r),u=!1,f()}}}function i1(n,e,t){const i=gt();let{class:r="btn-sm btn-hint btn-transparent"}=e,{length:s=32}=e,l="",o,a=!1;async function u(){if(t(1,l=A.randomSecret(s)),i("generate",l),await Xt(),o){let d=document.createRange();d.selectNode(o),window.getSelection().removeAllRanges(),window.getSelection().addRange(d)}}function f(d){ue[d?"unshift":"push"](()=>{o=d,t(2,o)})}function c(d){a=d,t(3,a)}return n.$$set=d=>{"class"in d&&t(0,r=d.class),"length"in d&&t(5,s=d.length)},[r,l,o,a,u,s,f,c]}class r1 extends we{constructor(e){super(),ye(this,e,i1,n1,be,{class:0,length:5})}}function s1(n){let e,t,i,r,s,l,o,a,u,f,c,d;return{c(){e=y("label"),t=y("i"),i=q(),r=y("span"),r.textContent="Username",l=q(),o=y("input"),h(t,"class",A.getFieldTypeIcon("user")),h(r,"class","txt"),h(e,"for",s=n[13]),h(o,"type","text"),h(o,"requried",a=!n[2]),h(o,"placeholder",u=n[2]?"Leave empty to auto generate...":n[4]),h(o,"id",f=n[13])},m(m,g){v(m,e,g),C(e,t),C(e,i),C(e,r),v(m,l,g),v(m,o,g),Pe(o,n[0].username),c||(d=x(o,"input",n[5]),c=!0)},p(m,g){g&8192&&s!==(s=m[13])&&h(e,"for",s),g&4&&a!==(a=!m[2])&&h(o,"requried",a),g&4&&u!==(u=m[2]?"Leave empty to auto generate...":m[4])&&h(o,"placeholder",u),g&8192&&f!==(f=m[13])&&h(o,"id",f),g&1&&o.value!==m[0].username&&Pe(o,m[0].username)},d(m){m&&(k(e),k(l),k(o)),c=!1,d()}}}function l1(n){let e,t,i,r,s,l,o,a,u,f,c=n[0].emailVisibility?"On":"Off",d,m,g,p,_,b,w,T;return{c(){var S;e=y("label"),t=y("i"),i=q(),r=y("span"),r.textContent="Email",l=q(),o=y("div"),a=y("button"),u=y("span"),f=re("Public: "),d=re(c),g=q(),p=y("input"),h(t,"class",A.getFieldTypeIcon("email")),h(r,"class","txt"),h(e,"for",s=n[13]),h(u,"class","txt"),h(a,"type","button"),h(a,"class",m="btn btn-sm btn-transparent "+(n[0].emailVisibility?"btn-success":"btn-hint")),h(o,"class","form-field-addon email-visibility-addon svelte-1751a4d"),h(p,"type","email"),p.autofocus=n[2],h(p,"autocomplete","off"),h(p,"id",_=n[13]),p.required=b=(S=n[1].options)==null?void 0:S.requireEmail,h(p,"class","svelte-1751a4d")},m(S,E){v(S,e,E),C(e,t),C(e,i),C(e,r),v(S,l,E),v(S,o,E),C(o,a),C(a,u),C(u,f),C(u,d),v(S,g,E),v(S,p,E),Pe(p,n[0].email),n[2]&&p.focus(),w||(T=[He(Ge.call(null,a,{text:"Make email public or private",position:"top-right"})),x(a,"click",Qe(n[6])),x(p,"input",n[7])],w=!0)},p(S,E){var F;E&8192&&s!==(s=S[13])&&h(e,"for",s),E&1&&c!==(c=S[0].emailVisibility?"On":"Off")&&_e(d,c),E&1&&m!==(m="btn btn-sm btn-transparent "+(S[0].emailVisibility?"btn-success":"btn-hint"))&&h(a,"class",m),E&4&&(p.autofocus=S[2]),E&8192&&_!==(_=S[13])&&h(p,"id",_),E&2&&b!==(b=(F=S[1].options)==null?void 0:F.requireEmail)&&(p.required=b),E&1&&p.value!==S[0].email&&Pe(p,S[0].email)},d(S){S&&(k(e),k(l),k(o),k(g),k(p)),w=!1,De(T)}}}function Ko(n){let e,t;return e=new Ze({props:{class:"form-field form-field-toggle",name:"verified",$$slots:{default:[o1,({uniqueId:i})=>({13:i}),({uniqueId:i})=>i?8192:0]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,r){const s={};r&24584&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function o1(n){let e,t,i,r,s,l,o,a;return{c(){e=y("input"),i=q(),r=y("label"),s=re("Change password"),h(e,"type","checkbox"),h(e,"id",t=n[13]),h(r,"for",l=n[13])},m(u,f){v(u,e,f),e.checked=n[3],v(u,i,f),v(u,r,f),C(r,s),o||(a=x(e,"change",n[8]),o=!0)},p(u,f){f&8192&&t!==(t=u[13])&&h(e,"id",t),f&8&&(e.checked=u[3]),f&8192&&l!==(l=u[13])&&h(r,"for",l)},d(u){u&&(k(e),k(i),k(r)),o=!1,a()}}}function Zo(n){let e,t,i,r,s,l,o,a,u;return r=new Ze({props:{class:"form-field required",name:"password",$$slots:{default:[a1,({uniqueId:f})=>({13:f}),({uniqueId:f})=>f?8192:0]},$$scope:{ctx:n}}}),o=new Ze({props:{class:"form-field required",name:"passwordConfirm",$$slots:{default:[u1,({uniqueId:f})=>({13:f}),({uniqueId:f})=>f?8192:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),i=y("div"),X(r.$$.fragment),s=q(),l=y("div"),X(o.$$.fragment),h(i,"class","col-sm-6"),h(l,"class","col-sm-6"),h(t,"class","grid"),J(t,"p-t-xs",n[3]),h(e,"class","block")},m(f,c){v(f,e,c),C(e,t),C(t,i),G(r,i,null),C(t,s),C(t,l),G(o,l,null),u=!0},p(f,c){const d={};c&24579&&(d.$$scope={dirty:c,ctx:f}),r.$set(d);const m={};c&24577&&(m.$$scope={dirty:c,ctx:f}),o.$set(m),(!u||c&8)&&J(t,"p-t-xs",f[3])},i(f){u||(O(r.$$.fragment,f),O(o.$$.fragment,f),f&&ht(()=>{u&&(a||(a=mt(e,Xn,{duration:150},!0)),a.run(1))}),u=!0)},o(f){N(r.$$.fragment,f),N(o.$$.fragment,f),f&&(a||(a=mt(e,Xn,{duration:150},!1)),a.run(0)),u=!1},d(f){f&&k(e),Q(r),Q(o),f&&a&&a.end()}}}function a1(n){var p,_;let e,t,i,r,s,l,o,a,u,f,c,d,m,g;return c=new r1({props:{length:Math.max(15,((_=(p=n[1])==null?void 0:p.options)==null?void 0:_.minPasswordLength)||0)}}),{c(){e=y("label"),t=y("i"),i=q(),r=y("span"),r.textContent="Password",l=q(),o=y("input"),u=q(),f=y("div"),X(c.$$.fragment),h(t,"class","ri-lock-line"),h(r,"class","txt"),h(e,"for",s=n[13]),h(o,"type","password"),h(o,"autocomplete","new-password"),h(o,"id",a=n[13]),o.required=!0,h(f,"class","form-field-addon")},m(b,w){v(b,e,w),C(e,t),C(e,i),C(e,r),v(b,l,w),v(b,o,w),Pe(o,n[0].password),v(b,u,w),v(b,f,w),G(c,f,null),d=!0,m||(g=x(o,"input",n[9]),m=!0)},p(b,w){var S,E;(!d||w&8192&&s!==(s=b[13]))&&h(e,"for",s),(!d||w&8192&&a!==(a=b[13]))&&h(o,"id",a),w&1&&o.value!==b[0].password&&Pe(o,b[0].password);const T={};w&2&&(T.length=Math.max(15,((E=(S=b[1])==null?void 0:S.options)==null?void 0:E.minPasswordLength)||0)),c.$set(T)},i(b){d||(O(c.$$.fragment,b),d=!0)},o(b){N(c.$$.fragment,b),d=!1},d(b){b&&(k(e),k(l),k(o),k(u),k(f)),Q(c),m=!1,g()}}}function u1(n){let e,t,i,r,s,l,o,a,u,f;return{c(){e=y("label"),t=y("i"),i=q(),r=y("span"),r.textContent="Password confirm",l=q(),o=y("input"),h(t,"class","ri-lock-line"),h(r,"class","txt"),h(e,"for",s=n[13]),h(o,"type","password"),h(o,"autocomplete","new-password"),h(o,"id",a=n[13]),o.required=!0},m(c,d){v(c,e,d),C(e,t),C(e,i),C(e,r),v(c,l,d),v(c,o,d),Pe(o,n[0].passwordConfirm),u||(f=x(o,"input",n[10]),u=!0)},p(c,d){d&8192&&s!==(s=c[13])&&h(e,"for",s),d&8192&&a!==(a=c[13])&&h(o,"id",a),d&1&&o.value!==c[0].passwordConfirm&&Pe(o,c[0].passwordConfirm)},d(c){c&&(k(e),k(l),k(o)),u=!1,f()}}}function f1(n){let e,t,i,r,s,l,o,a;return{c(){e=y("input"),i=q(),r=y("label"),s=re("Verified"),h(e,"type","checkbox"),h(e,"id",t=n[13]),h(r,"for",l=n[13])},m(u,f){v(u,e,f),e.checked=n[0].verified,v(u,i,f),v(u,r,f),C(r,s),o||(a=[x(e,"change",n[11]),x(e,"change",Qe(n[12]))],o=!0)},p(u,f){f&8192&&t!==(t=u[13])&&h(e,"id",t),f&1&&(e.checked=u[0].verified),f&8192&&l!==(l=u[13])&&h(r,"for",l)},d(u){u&&(k(e),k(i),k(r)),o=!1,De(a)}}}function c1(n){var _;let e,t,i,r,s,l,o,a,u,f,c,d,m;i=new Ze({props:{class:"form-field "+(n[2]?"":"required"),name:"username",$$slots:{default:[s1,({uniqueId:b})=>({13:b}),({uniqueId:b})=>b?8192:0]},$$scope:{ctx:n}}}),l=new Ze({props:{class:"form-field "+((_=n[1].options)!=null&&_.requireEmail?"required":""),name:"email",$$slots:{default:[l1,({uniqueId:b})=>({13:b}),({uniqueId:b})=>b?8192:0]},$$scope:{ctx:n}}});let g=!n[2]&&Ko(n),p=(n[2]||n[3])&&Zo(n);return d=new Ze({props:{class:"form-field form-field-toggle",name:"verified",$$slots:{default:[f1,({uniqueId:b})=>({13:b}),({uniqueId:b})=>b?8192:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),X(i.$$.fragment),r=q(),s=y("div"),X(l.$$.fragment),o=q(),a=y("div"),g&&g.c(),u=q(),p&&p.c(),f=q(),c=y("div"),X(d.$$.fragment),h(t,"class","col-lg-6"),h(s,"class","col-lg-6"),h(a,"class","col-lg-12"),h(c,"class","col-lg-12"),h(e,"class","grid m-b-base")},m(b,w){v(b,e,w),C(e,t),G(i,t,null),C(e,r),C(e,s),G(l,s,null),C(e,o),C(e,a),g&&g.m(a,null),C(a,u),p&&p.m(a,null),C(e,f),C(e,c),G(d,c,null),m=!0},p(b,[w]){var F;const T={};w&4&&(T.class="form-field "+(b[2]?"":"required")),w&24581&&(T.$$scope={dirty:w,ctx:b}),i.$set(T);const S={};w&2&&(S.class="form-field "+((F=b[1].options)!=null&&F.requireEmail?"required":"")),w&24583&&(S.$$scope={dirty:w,ctx:b}),l.$set(S),b[2]?g&&(le(),N(g,1,1,()=>{g=null}),oe()):g?(g.p(b,w),w&4&&O(g,1)):(g=Ko(b),g.c(),O(g,1),g.m(a,u)),b[2]||b[3]?p?(p.p(b,w),w&12&&O(p,1)):(p=Zo(b),p.c(),O(p,1),p.m(a,null)):p&&(le(),N(p,1,1,()=>{p=null}),oe());const E={};w&24581&&(E.$$scope={dirty:w,ctx:b}),d.$set(E)},i(b){m||(O(i.$$.fragment,b),O(l.$$.fragment,b),O(g),O(p),O(d.$$.fragment,b),m=!0)},o(b){N(i.$$.fragment,b),N(l.$$.fragment,b),N(g),N(p),N(d.$$.fragment,b),m=!1},d(b){b&&k(e),Q(i),Q(l),g&&g.d(),p&&p.d(),Q(d)}}}function d1(n,e,t){let{record:i}=e,{collection:r}=e,{isNew:s=!(i!=null&&i.id)}=e,l=i.username||null,o=!1;function a(){i.username=this.value,t(0,i),t(3,o)}const u=()=>t(0,i.emailVisibility=!i.emailVisibility,i);function f(){i.email=this.value,t(0,i),t(3,o)}function c(){o=this.checked,t(3,o)}function d(){i.password=this.value,t(0,i),t(3,o)}function m(){i.passwordConfirm=this.value,t(0,i),t(3,o)}function g(){i.verified=this.checked,t(0,i),t(3,o)}const p=_=>{s||hi("Do you really want to manually change the verified account state?",()=>{},()=>{t(0,i.verified=!_.target.checked,i)})};return n.$$set=_=>{"record"in _&&t(0,i=_.record),"collection"in _&&t(1,r=_.collection),"isNew"in _&&t(2,s=_.isNew)},n.$$.update=()=>{n.$$.dirty&1&&!i.username&&i.username!==null&&t(0,i.username=null,i),n.$$.dirty&8&&(o||(t(0,i.password=null,i),t(0,i.passwordConfirm=null,i),$r("password"),$r("passwordConfirm")))},[i,r,s,o,l,a,u,f,c,d,m,g,p]}class m1 extends we{constructor(e){super(),ye(this,e,d1,c1,be,{record:0,collection:1,isNew:2})}}function h1(n){let e,t,i,r=[n[3]],s={};for(let l=0;l<r.length;l+=1)s=Je(s,r[l]);return{c(){e=y("textarea"),Xi(e,s),J(e,"svelte-1x1pbts",!0)},m(l,o){v(l,e,o),e.autofocus&&e.focus(),n[5](e),Pe(e,n[0]),t||(i=[x(e,"input",n[6]),x(e,"keydown",n[2])],t=!0)},p(l,[o]){Xi(e,s=Ht(r,[o&8&&l[3]])),o&1&&Pe(e,l[0]),J(e,"svelte-1x1pbts",!0)},i:$,o:$,d(l){l&&k(e),n[5](null),t=!1,De(i)}}}function p1(n,e,t){const i=["value","maxHeight"];let r=ln(e,i),{value:s=""}=e,{maxHeight:l=200}=e,o,a;function u(){clearTimeout(a),a=setTimeout(()=>{o&&(t(1,o.style.height="",o),t(1,o.style.height=Math.min(o.scrollHeight,l)+"px",o))},0)}function f(m){if((m==null?void 0:m.code)==="Enter"&&!(m!=null&&m.shiftKey)&&!(m!=null&&m.isComposing)){m.preventDefault();const g=o.closest("form");g!=null&&g.requestSubmit&&g.requestSubmit()}}Ft(()=>(u(),()=>clearTimeout(a)));function c(m){ue[m?"unshift":"push"](()=>{o=m,t(1,o)})}function d(){s=this.value,t(0,s)}return n.$$set=m=>{e=Je(Je({},e),Ti(m)),t(3,r=ln(e,i)),"value"in m&&t(0,s=m.value),"maxHeight"in m&&t(4,l=m.maxHeight)},n.$$.update=()=>{n.$$.dirty&1&&typeof s!==void 0&&u()},[s,o,f,r,l,c,d]}class g1 extends we{constructor(e){super(),ye(this,e,p1,h1,be,{value:0,maxHeight:4})}}function _1(n){let e,t,i,r,s,l=n[1].name+"",o,a,u,f,c,d;function m(p){n[2](p)}let g={id:n[3],required:n[1].required};return n[0]!==void 0&&(g.value=n[0]),f=new g1({props:g}),ue.push(()=>Ae(f,"value",m)),{c(){e=y("label"),t=y("i"),r=q(),s=y("span"),o=re(l),u=q(),X(f.$$.fragment),h(t,"class",i=A.getFieldTypeIcon(n[1].type)),h(s,"class","txt"),h(e,"for",a=n[3])},m(p,_){v(p,e,_),C(e,t),C(e,r),C(e,s),C(s,o),v(p,u,_),G(f,p,_),d=!0},p(p,_){(!d||_&2&&i!==(i=A.getFieldTypeIcon(p[1].type)))&&h(t,"class",i),(!d||_&2)&&l!==(l=p[1].name+"")&&_e(o,l),(!d||_&8&&a!==(a=p[3]))&&h(e,"for",a);const b={};_&8&&(b.id=p[3]),_&2&&(b.required=p[1].required),!c&&_&1&&(c=!0,b.value=p[0],Fe(()=>c=!1)),f.$set(b)},i(p){d||(O(f.$$.fragment,p),d=!0)},o(p){N(f.$$.fragment,p),d=!1},d(p){p&&(k(e),k(u)),Q(f,p)}}}function b1(n){let e,t;return e=new Ze({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[_1,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,[r]){const s={};r&2&&(s.class="form-field "+(i[1].required?"required":"")),r&2&&(s.name=i[1].name),r&27&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function y1(n,e,t){let{field:i}=e,{value:r=void 0}=e;function s(l){r=l,t(0,r)}return n.$$set=l=>{"field"in l&&t(1,i=l.field),"value"in l&&t(0,r=l.value)},[r,i,s]}class w1 extends we{constructor(e){super(),ye(this,e,y1,b1,be,{field:1,value:0})}}function k1(n){let e,t,i,r,s,l=n[1].name+"",o,a,u,f,c,d,m,g,p,_;return{c(){var b,w;e=y("label"),t=y("i"),r=q(),s=y("span"),o=re(l),u=q(),f=y("input"),h(t,"class",i=A.getFieldTypeIcon(n[1].type)),h(s,"class","txt"),h(e,"for",a=n[3]),h(f,"type","number"),h(f,"id",c=n[3]),f.required=d=n[1].required,h(f,"min",m=(b=n[1].options)==null?void 0:b.min),h(f,"max",g=(w=n[1].options)==null?void 0:w.max),h(f,"step","any")},m(b,w){v(b,e,w),C(e,t),C(e,r),C(e,s),C(s,o),v(b,u,w),v(b,f,w),Pe(f,n[0]),p||(_=x(f,"input",n[2]),p=!0)},p(b,w){var T,S;w&2&&i!==(i=A.getFieldTypeIcon(b[1].type))&&h(t,"class",i),w&2&&l!==(l=b[1].name+"")&&_e(o,l),w&8&&a!==(a=b[3])&&h(e,"for",a),w&8&&c!==(c=b[3])&&h(f,"id",c),w&2&&d!==(d=b[1].required)&&(f.required=d),w&2&&m!==(m=(T=b[1].options)==null?void 0:T.min)&&h(f,"min",m),w&2&&g!==(g=(S=b[1].options)==null?void 0:S.max)&&h(f,"max",g),w&1&&mu(f.value)!==b[0]&&Pe(f,b[0])},d(b){b&&(k(e),k(u),k(f)),p=!1,_()}}}function v1(n){let e,t;return e=new Ze({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[k1,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,[r]){const s={};r&2&&(s.class="form-field "+(i[1].required?"required":"")),r&2&&(s.name=i[1].name),r&27&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function S1(n,e,t){let{field:i}=e,{value:r=void 0}=e;function s(){r=mu(this.value),t(0,r)}return n.$$set=l=>{"field"in l&&t(1,i=l.field),"value"in l&&t(0,r=l.value)},[r,i,s]}class C1 extends we{constructor(e){super(),ye(this,e,S1,v1,be,{field:1,value:0})}}function T1(n){let e,t,i,r,s=n[1].name+"",l,o,a,u;return{c(){e=y("input"),i=q(),r=y("label"),l=re(s),h(e,"type","checkbox"),h(e,"id",t=n[3]),h(r,"for",o=n[3])},m(f,c){v(f,e,c),e.checked=n[0],v(f,i,c),v(f,r,c),C(r,l),a||(u=x(e,"change",n[2]),a=!0)},p(f,c){c&8&&t!==(t=f[3])&&h(e,"id",t),c&1&&(e.checked=f[0]),c&2&&s!==(s=f[1].name+"")&&_e(l,s),c&8&&o!==(o=f[3])&&h(r,"for",o)},d(f){f&&(k(e),k(i),k(r)),a=!1,u()}}}function D1(n){let e,t;return e=new Ze({props:{class:"form-field form-field-toggle "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[T1,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,[r]){const s={};r&2&&(s.class="form-field form-field-toggle "+(i[1].required?"required":"")),r&2&&(s.name=i[1].name),r&27&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function O1(n,e,t){let{field:i}=e,{value:r=!1}=e;function s(){r=this.checked,t(0,r)}return n.$$set=l=>{"field"in l&&t(1,i=l.field),"value"in l&&t(0,r=l.value)},[r,i,s]}class E1 extends we{constructor(e){super(),ye(this,e,O1,D1,be,{field:1,value:0})}}function M1(n){let e,t,i,r,s,l=n[1].name+"",o,a,u,f,c,d,m,g;return{c(){e=y("label"),t=y("i"),r=q(),s=y("span"),o=re(l),u=q(),f=y("input"),h(t,"class",i=A.getFieldTypeIcon(n[1].type)),h(s,"class","txt"),h(e,"for",a=n[3]),h(f,"type","email"),h(f,"id",c=n[3]),f.required=d=n[1].required},m(p,_){v(p,e,_),C(e,t),C(e,r),C(e,s),C(s,o),v(p,u,_),v(p,f,_),Pe(f,n[0]),m||(g=x(f,"input",n[2]),m=!0)},p(p,_){_&2&&i!==(i=A.getFieldTypeIcon(p[1].type))&&h(t,"class",i),_&2&&l!==(l=p[1].name+"")&&_e(o,l),_&8&&a!==(a=p[3])&&h(e,"for",a),_&8&&c!==(c=p[3])&&h(f,"id",c),_&2&&d!==(d=p[1].required)&&(f.required=d),_&1&&f.value!==p[0]&&Pe(f,p[0])},d(p){p&&(k(e),k(u),k(f)),m=!1,g()}}}function I1(n){let e,t;return e=new Ze({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[M1,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,[r]){const s={};r&2&&(s.class="form-field "+(i[1].required?"required":"")),r&2&&(s.name=i[1].name),r&27&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function N1(n,e,t){let{field:i}=e,{value:r=void 0}=e;function s(){r=this.value,t(0,r)}return n.$$set=l=>{"field"in l&&t(1,i=l.field),"value"in l&&t(0,r=l.value)},[r,i,s]}class A1 extends we{constructor(e){super(),ye(this,e,N1,I1,be,{field:1,value:0})}}function L1(n){let e,t,i,r,s,l=n[1].name+"",o,a,u,f,c,d,m,g;return{c(){e=y("label"),t=y("i"),r=q(),s=y("span"),o=re(l),u=q(),f=y("input"),h(t,"class",i=A.getFieldTypeIcon(n[1].type)),h(s,"class","txt"),h(e,"for",a=n[3]),h(f,"type","url"),h(f,"id",c=n[3]),f.required=d=n[1].required},m(p,_){v(p,e,_),C(e,t),C(e,r),C(e,s),C(s,o),v(p,u,_),v(p,f,_),Pe(f,n[0]),m||(g=x(f,"input",n[2]),m=!0)},p(p,_){_&2&&i!==(i=A.getFieldTypeIcon(p[1].type))&&h(t,"class",i),_&2&&l!==(l=p[1].name+"")&&_e(o,l),_&8&&a!==(a=p[3])&&h(e,"for",a),_&8&&c!==(c=p[3])&&h(f,"id",c),_&2&&d!==(d=p[1].required)&&(f.required=d),_&1&&f.value!==p[0]&&Pe(f,p[0])},d(p){p&&(k(e),k(u),k(f)),m=!1,g()}}}function F1(n){let e,t;return e=new Ze({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[L1,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,[r]){const s={};r&2&&(s.class="form-field "+(i[1].required?"required":"")),r&2&&(s.name=i[1].name),r&27&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function P1(n,e,t){let{field:i}=e,{value:r=void 0}=e;function s(){r=this.value,t(0,r)}return n.$$set=l=>{"field"in l&&t(1,i=l.field),"value"in l&&t(0,r=l.value)},[r,i,s]}class R1 extends we{constructor(e){super(),ye(this,e,P1,F1,be,{field:1,value:0})}}var jr=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Gn={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Si={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},It=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},zt=function(n){return n===!0?1:0};function Jo(n,e){var t;return function(){var i=this,r=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(i,r)},e)}}var Vr=function(n){return n instanceof Array?n:[n]};function Ot(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function We(n,e,t){var i=window.document.createElement(n);return e=e||"",t=t||"",i.className=e,t!==void 0&&(i.textContent=t),i}function Ui(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function zf(n,e){if(e(n))return n;if(n.parentNode)return zf(n.parentNode,e)}function zi(n,e){var t=We("div","numInputWrapper"),i=We("input","numInput "+n),r=We("span","arrowUp"),s=We("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?i.type="number":(i.type="text",i.pattern="\\d*"),e!==void 0)for(var l in e)i.setAttribute(l,e[l]);return t.appendChild(i),t.appendChild(r),t.appendChild(s),t}function qt(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var Wr=function(){},or=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},q1={D:Wr,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*zt(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var i=parseInt(e),r=new Date(n.getFullYear(),0,2+(i-1)*7,0,0,0,0);return r.setDate(r.getDate()-r.getDay()+t.firstDayOfWeek),r},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:Wr,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:Wr,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},On={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},gi={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[gi.w(n,e,t)]},F:function(n,e,t){return or(gi.n(n,e,t)-1,!1,e)},G:function(n,e,t){return It(gi.h(n,e,t))},H:function(n){return It(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[zt(n.getHours()>11)]},M:function(n,e){return or(n.getMonth(),!0,e)},S:function(n){return It(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return It(n.getFullYear(),4)},d:function(n){return It(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return It(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return It(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},Yf=function(n){var e=n.config,t=e===void 0?Gn:e,i=n.l10n,r=i===void 0?Si:i,s=n.isMobile,l=s===void 0?!1:s;return function(o,a,u){var f=u||r;return t.formatDate!==void 0&&!l?t.formatDate(o,a,f):a.split("").map(function(c,d,m){return gi[c]&&m[d-1]!=="\\"?gi[c](o,f,t):c!=="\\"?c:""}).join("")}},rs=function(n){var e=n.config,t=e===void 0?Gn:e,i=n.l10n,r=i===void 0?Si:i;return function(s,l,o,a){if(!(s!==0&&!s)){var u=a||r,f,c=s;if(s instanceof Date)f=new Date(s.getTime());else if(typeof s!="string"&&s.toFixed!==void 0)f=new Date(s);else if(typeof s=="string"){var d=l||(t||Gn).dateFormat,m=String(s).trim();if(m==="today")f=new Date,o=!0;else if(t&&t.parseDate)f=t.parseDate(s,d);else if(/Z$/.test(m)||/GMT$/.test(m))f=new Date(s);else{for(var g=void 0,p=[],_=0,b=0,w="";_<d.length;_++){var T=d[_],S=T==="\\",E=d[_-1]==="\\"||S;if(On[T]&&!E){w+=On[T];var F=new RegExp(w).exec(s);F&&(g=!0)&&p[T!=="Y"?"push":"unshift"]({fn:q1[T],val:F[++b]})}else S||(w+=".")}f=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),p.forEach(function(L){var I=L.fn,R=L.val;return f=I(f,R,u)||f}),f=g?f:void 0}}if(!(f instanceof Date&&!isNaN(f.getTime()))){t.errorHandler(new Error("Invalid date provided: "+c));return}return o===!0&&f.setHours(0,0,0,0),f}}};function jt(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var j1=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},Hr=function(n,e,t){return n*3600+e*60+t},V1=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},W1={DAY:864e5};function Ur(n){var e=n.defaultHour,t=n.defaultMinute,i=n.defaultSeconds;if(n.minDate!==void 0){var r=n.minDate.getHours(),s=n.minDate.getMinutes(),l=n.minDate.getSeconds();e<r&&(e=r),e===r&&t<s&&(t=s),e===r&&t===s&&i<l&&(i=n.minDate.getSeconds())}if(n.maxDate!==void 0){var o=n.maxDate.getHours(),a=n.maxDate.getMinutes();e=Math.min(e,o),e===o&&(t=Math.min(a,t)),e===o&&t===a&&(i=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:i}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var i=function(o){o&&Object.keys(o).forEach(function(a){return n[a]=o[a]})},r=0,s=e;r<s.length;r++){var l=s[r];i(l)}return n});var vt=function(){return vt=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},vt.apply(this,arguments)},Go=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var s=arguments[e],l=0,o=s.length;l<o;l++,r++)i[r]=s[l];return i},H1=300;function U1(n,e){var t={config:vt(vt({},Gn),nt.defaultConfig),l10n:Si};t.parseDate=rs({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=p,t._setHoursFromDate=d,t._positionCalendar=Pt,t.changeMonth=it,t.changeYear=et,t.clear=_t,t.close=Mt,t.onMouseOver=je,t._createElement=We,t.createDay=F,t.destroy=Tt,t.isEnabled=lt,t.jumpToDate=w,t.updateValue=Zt,t.open=de,t.redraw=Fn,t.set=li,t.setDate=at,t.toggle=fe;function i(){t.utils={getDaysInMonth:function(D,M){return D===void 0&&(D=t.currentMonth),M===void 0&&(M=t.currentYear),D===1&&(M%4===0&&M%100!==0||M%400===0)?29:t.l10n.daysInMonth[D]}}}function r(){t.element=t.input=n,t.isOpen=!1,Te(),ot(),Rn(),un(),i(),t.isMobile||E(),b(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&d(t.config.noCalendar?t.latestSelectedDateObj:void 0),Zt(!1)),o();var D=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&D&&Pt(),Se("onReady")}function s(){var D;return((D=t.calendarContainer)===null||D===void 0?void 0:D.getRootNode()).activeElement||document.activeElement}function l(D){return D.bind(t)}function o(){var D=t.config;D.weekNumbers===!1&&D.showMonths===1||D.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var M=(t.days.offsetWidth+1)*D.showMonths;t.daysContainer.style.width=M+"px",t.calendarContainer.style.width=M+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function a(D){if(t.selectedDates.length===0){var M=t.config.minDate===void 0||jt(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),V=Ur(t.config);M.setHours(V.hours,V.minutes,V.seconds,M.getMilliseconds()),t.selectedDates=[M],t.latestSelectedDateObj=M}D!==void 0&&D.type!=="blur"&&Jf(D);var B=t._input.value;c(),Zt(),t._input.value!==B&&t._debouncedChange()}function u(D,M){return D%12+12*zt(M===t.l10n.amPM[1])}function f(D){switch(D%24){case 0:case 12:return 12;default:return D%12}}function c(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var D=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,M=(parseInt(t.minuteElement.value,10)||0)%60,V=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(D=u(D,t.amPM.textContent));var B=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&jt(t.latestSelectedDateObj,t.config.minDate,!0)===0,ie=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&jt(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var ce=Hr(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),Ne=Hr(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),pe=Hr(D,M,V);if(pe>Ne&&pe<ce){var Le=V1(ce);D=Le[0],M=Le[1],V=Le[2]}}else{if(ie){var me=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;D=Math.min(D,me.getHours()),D===me.getHours()&&(M=Math.min(M,me.getMinutes())),M===me.getMinutes()&&(V=Math.min(V,me.getSeconds()))}if(B){var Ce=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;D=Math.max(D,Ce.getHours()),D===Ce.getHours()&&M<Ce.getMinutes()&&(M=Ce.getMinutes()),M===Ce.getMinutes()&&(V=Math.max(V,Ce.getSeconds()))}}m(D,M,V)}}function d(D){var M=D||t.latestSelectedDateObj;M&&M instanceof Date&&m(M.getHours(),M.getMinutes(),M.getSeconds())}function m(D,M,V){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(D%24,M,V||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=It(t.config.time_24hr?D:(12+D)%12+12*zt(D%12===0)),t.minuteElement.value=It(M),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[zt(D>=12)]),t.secondElement!==void 0&&(t.secondElement.value=It(V)))}function g(D){var M=qt(D),V=parseInt(M.value)+(D.delta||0);(V/1e3>1||D.key==="Enter"&&!/[^\d]/.test(V.toString()))&&et(V)}function p(D,M,V,B){if(M instanceof Array)return M.forEach(function(ie){return p(D,ie,V,B)});if(D instanceof Array)return D.forEach(function(ie){return p(ie,M,V,B)});D.addEventListener(M,V,B),t._handlers.push({remove:function(){return D.removeEventListener(M,V,B)}})}function _(){Se("onChange")}function b(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(V){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+V+"]"),function(B){return p(B,"click",t[V])})}),t.isMobile){ee();return}var D=Jo(rt,50);if(t._debouncedChange=Jo(_,H1),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&p(t.daysContainer,"mouseover",function(V){t.config.mode==="range"&&je(qt(V))}),p(t._input,"keydown",Ue),t.calendarContainer!==void 0&&p(t.calendarContainer,"keydown",Ue),!t.config.inline&&!t.config.static&&p(window,"resize",D),window.ontouchstart!==void 0?p(window.document,"touchstart",Dt):p(window.document,"mousedown",Dt),p(window.document,"focus",Dt,{capture:!0}),t.config.clickOpens===!0&&(p(t._input,"focus",t.open),p(t._input,"click",t.open)),t.daysContainer!==void 0&&(p(t.monthNav,"click",Zf),p(t.monthNav,["keyup","increment"],g),p(t.daysContainer,"click",Pn)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var M=function(V){return qt(V).select()};p(t.timeContainer,["increment"],a),p(t.timeContainer,"blur",a,{capture:!0}),p(t.timeContainer,"click",T),p([t.hourElement,t.minuteElement],["focus","click"],M),t.secondElement!==void 0&&p(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&p(t.amPM,"click",function(V){a(V)})}t.config.allowInput&&p(t._input,"blur",qe)}function w(D,M){var V=D!==void 0?t.parseDate(D):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),B=t.currentYear,ie=t.currentMonth;try{V!==void 0&&(t.currentYear=V.getFullYear(),t.currentMonth=V.getMonth())}catch(ce){ce.message="Invalid date supplied: "+V,t.config.errorHandler(ce)}M&&t.currentYear!==B&&(Se("onYearChange"),U()),M&&(t.currentYear!==B||t.currentMonth!==ie)&&Se("onMonthChange"),t.redraw()}function T(D){var M=qt(D);~M.className.indexOf("arrow")&&S(D,M.classList.contains("arrowUp")?1:-1)}function S(D,M,V){var B=D&&qt(D),ie=V||B&&B.parentNode&&B.parentNode.firstChild,ce=yt("increment");ce.delta=M,ie&&ie.dispatchEvent(ce)}function E(){var D=window.document.createDocumentFragment();if(t.calendarContainer=We("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(D.appendChild(Y()),t.innerContainer=We("div","flatpickr-innerContainer"),t.config.weekNumbers){var M=Ie(),V=M.weekWrapper,B=M.weekNumbers;t.innerContainer.appendChild(V),t.weekNumbers=B,t.weekWrapper=V}t.rContainer=We("div","flatpickr-rContainer"),t.rContainer.appendChild(H()),t.daysContainer||(t.daysContainer=We("div","flatpickr-days"),t.daysContainer.tabIndex=-1),K(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),D.appendChild(t.innerContainer)}t.config.enableTime&&D.appendChild(z()),Ot(t.calendarContainer,"rangeMode",t.config.mode==="range"),Ot(t.calendarContainer,"animate",t.config.animate===!0),Ot(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(D);var ie=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!ie&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var ce=We("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(ce,t.element),ce.appendChild(t.element),t.altInput&&ce.appendChild(t.altInput),ce.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function F(D,M,V,B){var ie=lt(M,!0),ce=We("span",D,M.getDate().toString());return ce.dateObj=M,ce.$i=B,ce.setAttribute("aria-label",t.formatDate(M,t.config.ariaDateFormat)),D.indexOf("hidden")===-1&&jt(M,t.now)===0&&(t.todayDateElem=ce,ce.classList.add("today"),ce.setAttribute("aria-current","date")),ie?(ce.tabIndex=-1,he(M)&&(ce.classList.add("selected"),t.selectedDateElem=ce,t.config.mode==="range"&&(Ot(ce,"startRange",t.selectedDates[0]&&jt(M,t.selectedDates[0],!0)===0),Ot(ce,"endRange",t.selectedDates[1]&&jt(M,t.selectedDates[1],!0)===0),D==="nextMonthDay"&&ce.classList.add("inRange")))):ce.classList.add("flatpickr-disabled"),t.config.mode==="range"&&wt(M)&&!he(M)&&ce.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&D!=="prevMonthDay"&&B%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(M)+"</span>"),Se("onDayCreate",ce),ce}function L(D){D.focus(),t.config.mode==="range"&&je(D)}function I(D){for(var M=D>0?0:t.config.showMonths-1,V=D>0?t.config.showMonths:-1,B=M;B!=V;B+=D)for(var ie=t.daysContainer.children[B],ce=D>0?0:ie.children.length-1,Ne=D>0?ie.children.length:-1,pe=ce;pe!=Ne;pe+=D){var Le=ie.children[pe];if(Le.className.indexOf("hidden")===-1&&lt(Le.dateObj))return Le}}function R(D,M){for(var V=D.className.indexOf("Month")===-1?D.dateObj.getMonth():t.currentMonth,B=M>0?t.config.showMonths:-1,ie=M>0?1:-1,ce=V-t.currentMonth;ce!=B;ce+=ie)for(var Ne=t.daysContainer.children[ce],pe=V-t.currentMonth===ce?D.$i+M:M<0?Ne.children.length-1:0,Le=Ne.children.length,me=pe;me>=0&&me<Le&&me!=(M>0?Le:-1);me+=ie){var Ce=Ne.children[me];if(Ce.className.indexOf("hidden")===-1&&lt(Ce.dateObj)&&Math.abs(D.$i-me)>=Math.abs(M))return L(Ce)}t.changeMonth(ie),P(I(ie),0)}function P(D,M){var V=s(),B=ve(V||document.body),ie=D!==void 0?D:B?V:t.selectedDateElem!==void 0&&ve(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&ve(t.todayDateElem)?t.todayDateElem:I(M>0?1:-1);ie===void 0?t._input.focus():B?R(ie,M):L(ie)}function W(D,M){for(var V=(new Date(D,M,1).getDay()-t.l10n.firstDayOfWeek+7)%7,B=t.utils.getDaysInMonth((M-1+12)%12,D),ie=t.utils.getDaysInMonth(M,D),ce=window.document.createDocumentFragment(),Ne=t.config.showMonths>1,pe=Ne?"prevMonthDay hidden":"prevMonthDay",Le=Ne?"nextMonthDay hidden":"nextMonthDay",me=B+1-V,Ce=0;me<=B;me++,Ce++)ce.appendChild(F("flatpickr-day "+pe,new Date(D,M-1,me),me,Ce));for(me=1;me<=ie;me++,Ce++)ce.appendChild(F("flatpickr-day",new Date(D,M,me),me,Ce));for(var Be=ie+1;Be<=42-V&&(t.config.showMonths===1||Ce%7!==0);Be++,Ce++)ce.appendChild(F("flatpickr-day "+Le,new Date(D,M+1,Be%ie),Be,Ce));var nn=We("div","dayContainer");return nn.appendChild(ce),nn}function K(){if(t.daysContainer!==void 0){Ui(t.daysContainer),t.weekNumbers&&Ui(t.weekNumbers);for(var D=document.createDocumentFragment(),M=0;M<t.config.showMonths;M++){var V=new Date(t.currentYear,t.currentMonth,1);V.setMonth(t.currentMonth+M),D.appendChild(W(V.getFullYear(),V.getMonth()))}t.daysContainer.appendChild(D),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&je()}}function U(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var D=function(B){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&B<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&B>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var M=0;M<12;M++)if(D(M)){var V=We("option","flatpickr-monthDropdown-month");V.value=new Date(t.currentYear,M).getMonth().toString(),V.textContent=or(M,t.config.shorthandCurrentMonth,t.l10n),V.tabIndex=-1,t.currentMonth===M&&(V.selected=!0),t.monthsDropdownContainer.appendChild(V)}}}function te(){var D=We("div","flatpickr-month"),M=window.document.createDocumentFragment(),V;t.config.showMonths>1||t.config.monthSelectorType==="static"?V=We("span","cur-month"):(t.monthsDropdownContainer=We("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),p(t.monthsDropdownContainer,"change",function(Ne){var pe=qt(Ne),Le=parseInt(pe.value,10);t.changeMonth(Le-t.currentMonth),Se("onMonthChange")}),U(),V=t.monthsDropdownContainer);var B=zi("cur-year",{tabindex:"-1"}),ie=B.getElementsByTagName("input")[0];ie.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&ie.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(ie.setAttribute("max",t.config.maxDate.getFullYear().toString()),ie.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var ce=We("div","flatpickr-current-month");return ce.appendChild(V),ce.appendChild(B),M.appendChild(ce),D.appendChild(M),{container:D,yearElement:ie,monthElement:V}}function ne(){Ui(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var D=t.config.showMonths;D--;){var M=te();t.yearElements.push(M.yearElement),t.monthElements.push(M.monthElement),t.monthNav.appendChild(M.container)}t.monthNav.appendChild(t.nextMonthNav)}function Y(){return t.monthNav=We("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=We("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=We("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,ne(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(D){t.__hidePrevMonthArrow!==D&&(Ot(t.prevMonthNav,"flatpickr-disabled",D),t.__hidePrevMonthArrow=D)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(D){t.__hideNextMonthArrow!==D&&(Ot(t.nextMonthNav,"flatpickr-disabled",D),t.__hideNextMonthArrow=D)}}),t.currentYearElement=t.yearElements[0],ze(),t.monthNav}function z(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var D=Ur(t.config);t.timeContainer=We("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var M=We("span","flatpickr-time-separator",":"),V=zi("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=V.getElementsByTagName("input")[0];var B=zi("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=B.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=It(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?D.hours:f(D.hours)),t.minuteElement.value=It(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():D.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(V),t.timeContainer.appendChild(M),t.timeContainer.appendChild(B),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var ie=zi("flatpickr-second");t.secondElement=ie.getElementsByTagName("input")[0],t.secondElement.value=It(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():D.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(We("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(ie)}return t.config.time_24hr||(t.amPM=We("span","flatpickr-am-pm",t.l10n.amPM[zt((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function H(){t.weekdayContainer?Ui(t.weekdayContainer):t.weekdayContainer=We("div","flatpickr-weekdays");for(var D=t.config.showMonths;D--;){var M=We("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(M)}return j(),t.weekdayContainer}function j(){if(t.weekdayContainer){var D=t.l10n.firstDayOfWeek,M=Go(t.l10n.weekdays.shorthand);D>0&&D<M.length&&(M=Go(M.splice(D,M.length),M.splice(0,D)));for(var V=t.config.showMonths;V--;)t.weekdayContainer.children[V].innerHTML=`
      <span class='flatpickr-weekday'>
        `+M.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Ie(){t.calendarContainer.classList.add("hasWeeks");var D=We("div","flatpickr-weekwrapper");D.appendChild(We("span","flatpickr-weekday",t.l10n.weekAbbreviation));var M=We("div","flatpickr-weeks");return D.appendChild(M),{weekWrapper:D,weekNumbers:M}}function it(D,M){M===void 0&&(M=!0);var V=M?D:D-t.currentMonth;V<0&&t._hidePrevMonthArrow===!0||V>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=V,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Se("onYearChange"),U()),K(),Se("onMonthChange"),ze())}function _t(D,M){if(D===void 0&&(D=!0),M===void 0&&(M=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,M===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var V=Ur(t.config),B=V.hours,ie=V.minutes,ce=V.seconds;m(B,ie,ce)}t.redraw(),D&&Se("onChange")}function Mt(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Se("onClose")}function Tt(){t.config!==void 0&&Se("onDestroy");for(var D=t._handlers.length;D--;)t._handlers[D].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var M=t.calendarContainer.parentNode;if(M.lastChild&&M.removeChild(M.lastChild),M.parentNode){for(;M.firstChild;)M.parentNode.insertBefore(M.firstChild,M);M.parentNode.removeChild(M)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(V){try{delete t[V]}catch{}})}function bt(D){return t.calendarContainer.contains(D)}function Dt(D){if(t.isOpen&&!t.config.inline){var M=qt(D),V=bt(M),B=M===t.input||M===t.altInput||t.element.contains(M)||D.path&&D.path.indexOf&&(~D.path.indexOf(t.input)||~D.path.indexOf(t.altInput)),ie=!B&&!V&&!bt(D.relatedTarget),ce=!t.config.ignoredFocusElements.some(function(Ne){return Ne.contains(M)});ie&&ce&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&a(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function et(D){if(!(!D||t.config.minDate&&D<t.config.minDate.getFullYear()||t.config.maxDate&&D>t.config.maxDate.getFullYear())){var M=D,V=t.currentYear!==M;t.currentYear=M||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),V&&(t.redraw(),Se("onYearChange"),U())}}function lt(D,M){var V;M===void 0&&(M=!0);var B=t.parseDate(D,void 0,M);if(t.config.minDate&&B&&jt(B,t.config.minDate,M!==void 0?M:!t.minDateHasTime)<0||t.config.maxDate&&B&&jt(B,t.config.maxDate,M!==void 0?M:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(B===void 0)return!1;for(var ie=!!t.config.enable,ce=(V=t.config.enable)!==null&&V!==void 0?V:t.config.disable,Ne=0,pe=void 0;Ne<ce.length;Ne++){if(pe=ce[Ne],typeof pe=="function"&&pe(B))return ie;if(pe instanceof Date&&B!==void 0&&pe.getTime()===B.getTime())return ie;if(typeof pe=="string"){var Le=t.parseDate(pe,void 0,!0);return Le&&Le.getTime()===B.getTime()?ie:!ie}else if(typeof pe=="object"&&B!==void 0&&pe.from&&pe.to&&B.getTime()>=pe.from.getTime()&&B.getTime()<=pe.to.getTime())return ie}return!ie}function ve(D){return t.daysContainer!==void 0?D.className.indexOf("hidden")===-1&&D.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(D):!1}function qe(D){var M=D.target===t._input,V=t._input.value.trimEnd()!==kt();M&&V&&!(D.relatedTarget&&bt(D.relatedTarget))&&t.setDate(t._input.value,!0,D.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Ue(D){var M=qt(D),V=t.config.wrap?n.contains(M):M===t._input,B=t.config.allowInput,ie=t.isOpen&&(!B||!V),ce=t.config.inline&&V&&!B;if(D.keyCode===13&&V){if(B)return t.setDate(t._input.value,!0,M===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),M.blur();t.open()}else if(bt(M)||ie||ce){var Ne=!!t.timeContainer&&t.timeContainer.contains(M);switch(D.keyCode){case 13:Ne?(D.preventDefault(),a(),vn()):Pn(D);break;case 27:D.preventDefault(),vn();break;case 8:case 46:V&&!t.config.allowInput&&(D.preventDefault(),t.clear());break;case 37:case 39:if(!Ne&&!V){D.preventDefault();var pe=s();if(t.daysContainer!==void 0&&(B===!1||pe&&ve(pe))){var Le=D.keyCode===39?1:-1;D.ctrlKey?(D.stopPropagation(),it(Le),P(I(1),0)):P(void 0,Le)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:D.preventDefault();var me=D.keyCode===40?1:-1;t.daysContainer&&M.$i!==void 0||M===t.input||M===t.altInput?D.ctrlKey?(D.stopPropagation(),et(t.currentYear-me),P(I(1),0)):Ne||P(void 0,me*7):M===t.currentYearElement?et(t.currentYear-me):t.config.enableTime&&(!Ne&&t.hourElement&&t.hourElement.focus(),a(D),t._debouncedChange());break;case 9:if(Ne){var Ce=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Rt){return Rt}),Be=Ce.indexOf(M);if(Be!==-1){var nn=Ce[Be+(D.shiftKey?-1:1)];D.preventDefault(),(nn||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(M)&&D.shiftKey&&(D.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&M===t.amPM)switch(D.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],c(),Zt();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],c(),Zt();break}(V||bt(M))&&Se("onKeyDown",D)}function je(D,M){if(M===void 0&&(M="flatpickr-day"),!(t.selectedDates.length!==1||D&&(!D.classList.contains(M)||D.classList.contains("flatpickr-disabled")))){for(var V=D?D.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),B=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),ie=Math.min(V,t.selectedDates[0].getTime()),ce=Math.max(V,t.selectedDates[0].getTime()),Ne=!1,pe=0,Le=0,me=ie;me<ce;me+=W1.DAY)lt(new Date(me),!0)||(Ne=Ne||me>ie&&me<ce,me<B&&(!pe||me>pe)?pe=me:me>B&&(!Le||me<Le)&&(Le=me));var Ce=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+M));Ce.forEach(function(Be){var nn=Be.dateObj,Rt=nn.getTime(),oi=pe>0&&Rt<pe||Le>0&&Rt>Le;if(oi){Be.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(jn){Be.classList.remove(jn)});return}else if(Ne&&!oi)return;["startRange","inRange","endRange","notAllowed"].forEach(function(jn){Be.classList.remove(jn)}),D!==void 0&&(D.classList.add(V<=t.selectedDates[0].getTime()?"startRange":"endRange"),B<V&&Rt===B?Be.classList.add("startRange"):B>V&&Rt===B&&Be.classList.add("endRange"),Rt>=pe&&(Le===0||Rt<=Le)&&j1(Rt,B,V)&&Be.classList.add("inRange"))})}}function rt(){t.isOpen&&!t.config.static&&!t.config.inline&&Pt()}function de(D,M){if(M===void 0&&(M=t._positionElement),t.isMobile===!0){if(D){D.preventDefault();var V=qt(D);V&&V.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Se("onOpen");return}else if(t._input.disabled||t.config.inline)return;var B=t.isOpen;t.isOpen=!0,B||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Se("onOpen"),Pt(M)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(D===void 0||!t.timeContainer.contains(D.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function Z(D){return function(M){var V=t.config["_"+D+"Date"]=t.parseDate(M,t.config.dateFormat),B=t.config["_"+(D==="min"?"max":"min")+"Date"];V!==void 0&&(t[D==="min"?"minDateHasTime":"maxDateHasTime"]=V.getHours()>0||V.getMinutes()>0||V.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(ie){return lt(ie)}),!t.selectedDates.length&&D==="min"&&d(V),Zt()),t.daysContainer&&(Fn(),V!==void 0?t.currentYearElement[D]=V.getFullYear().toString():t.currentYearElement.removeAttribute(D),t.currentYearElement.disabled=!!B&&V!==void 0&&B.getFullYear()===V.getFullYear())}}function Te(){var D=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],M=vt(vt({},JSON.parse(JSON.stringify(n.dataset||{}))),e),V={};t.config.parseDate=M.parseDate,t.config.formatDate=M.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(Ce){t.config._enable=hn(Ce)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(Ce){t.config._disable=hn(Ce)}});var B=M.mode==="time";if(!M.dateFormat&&(M.enableTime||B)){var ie=nt.defaultConfig.dateFormat||Gn.dateFormat;V.dateFormat=M.noCalendar||B?"H:i"+(M.enableSeconds?":S":""):ie+" H:i"+(M.enableSeconds?":S":"")}if(M.altInput&&(M.enableTime||B)&&!M.altFormat){var ce=nt.defaultConfig.altFormat||Gn.altFormat;V.altFormat=M.noCalendar||B?"h:i"+(M.enableSeconds?":S K":" K"):ce+(" h:i"+(M.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:Z("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:Z("max")});var Ne=function(Ce){return function(Be){t.config[Ce==="min"?"_minTime":"_maxTime"]=t.parseDate(Be,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:Ne("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:Ne("max")}),M.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,V,M);for(var pe=0;pe<D.length;pe++)t.config[D[pe]]=t.config[D[pe]]===!0||t.config[D[pe]]==="true";jr.filter(function(Ce){return t.config[Ce]!==void 0}).forEach(function(Ce){t.config[Ce]=Vr(t.config[Ce]||[]).map(l)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var pe=0;pe<t.config.plugins.length;pe++){var Le=t.config.plugins[pe](t)||{};for(var me in Le)jr.indexOf(me)>-1?t.config[me]=Vr(Le[me]).map(l).concat(t.config[me]):typeof M[me]>"u"&&(t.config[me]=Le[me])}M.altInputClass||(t.config.altInputClass=Xe().className+" "+t.config.altInputClass),Se("onParseConfig")}function Xe(){return t.config.wrap?n.querySelector("[data-input]"):n}function ot(){typeof t.config.locale!="object"&&typeof nt.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=vt(vt({},nt.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?nt.l10ns[t.config.locale]:void 0),On.D="("+t.l10n.weekdays.shorthand.join("|")+")",On.l="("+t.l10n.weekdays.longhand.join("|")+")",On.M="("+t.l10n.months.shorthand.join("|")+")",On.F="("+t.l10n.months.longhand.join("|")+")",On.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var D=vt(vt({},e),JSON.parse(JSON.stringify(n.dataset||{})));D.time_24hr===void 0&&nt.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=Yf(t),t.parseDate=rs({config:t.config,l10n:t.l10n})}function Pt(D){if(typeof t.config.position=="function")return void t.config.position(t,D);if(t.calendarContainer!==void 0){Se("onPreCalendarPosition");var M=D||t._positionElement,V=Array.prototype.reduce.call(t.calendarContainer.children,function(nc,ic){return nc+ic.offsetHeight},0),B=t.calendarContainer.offsetWidth,ie=t.config.position.split(" "),ce=ie[0],Ne=ie.length>1?ie[1]:null,pe=M.getBoundingClientRect(),Le=window.innerHeight-pe.bottom,me=ce==="above"||ce!=="below"&&Le<V&&pe.top>V,Ce=window.pageYOffset+pe.top+(me?-V-2:M.offsetHeight+2);if(Ot(t.calendarContainer,"arrowTop",!me),Ot(t.calendarContainer,"arrowBottom",me),!t.config.inline){var Be=window.pageXOffset+pe.left,nn=!1,Rt=!1;Ne==="center"?(Be-=(B-pe.width)/2,nn=!0):Ne==="right"&&(Be-=B-pe.width,Rt=!0),Ot(t.calendarContainer,"arrowLeft",!nn&&!Rt),Ot(t.calendarContainer,"arrowCenter",nn),Ot(t.calendarContainer,"arrowRight",Rt);var oi=window.document.body.offsetWidth-(window.pageXOffset+pe.right),jn=Be+B>window.document.body.offsetWidth,Gf=oi+B>window.document.body.offsetWidth;if(Ot(t.calendarContainer,"rightMost",jn),!t.config.static)if(t.calendarContainer.style.top=Ce+"px",!jn)t.calendarContainer.style.left=Be+"px",t.calendarContainer.style.right="auto";else if(!Gf)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=oi+"px";else{var Cr=ri();if(Cr===void 0)return;var Qf=window.document.body.offsetWidth,Xf=Math.max(0,Qf/2-B/2),$f=".flatpickr-calendar.centerMost:before",xf=".flatpickr-calendar.centerMost:after",ec=Cr.cssRules.length,tc="{left:"+pe.left+"px;right:auto;}";Ot(t.calendarContainer,"rightMost",!1),Ot(t.calendarContainer,"centerMost",!0),Cr.insertRule($f+","+xf+tc,ec),t.calendarContainer.style.left=Xf+"px",t.calendarContainer.style.right="auto"}}}}function ri(){for(var D=null,M=0;M<document.styleSheets.length;M++){var V=document.styleSheets[M];if(V.cssRules){try{V.cssRules}catch{continue}D=V;break}}return D??si()}function si(){var D=document.createElement("style");return document.head.appendChild(D),D.sheet}function Fn(){t.config.noCalendar||t.isMobile||(U(),ze(),K())}function vn(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function Pn(D){D.preventDefault(),D.stopPropagation();var M=function(Ce){return Ce.classList&&Ce.classList.contains("flatpickr-day")&&!Ce.classList.contains("flatpickr-disabled")&&!Ce.classList.contains("notAllowed")},V=zf(qt(D),M);if(V!==void 0){var B=V,ie=t.latestSelectedDateObj=new Date(B.dateObj.getTime()),ce=(ie.getMonth()<t.currentMonth||ie.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=B,t.config.mode==="single")t.selectedDates=[ie];else if(t.config.mode==="multiple"){var Ne=he(ie);Ne?t.selectedDates.splice(parseInt(Ne),1):t.selectedDates.push(ie)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=ie,t.selectedDates.push(ie),jt(ie,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(Ce,Be){return Ce.getTime()-Be.getTime()}));if(c(),ce){var pe=t.currentYear!==ie.getFullYear();t.currentYear=ie.getFullYear(),t.currentMonth=ie.getMonth(),pe&&(Se("onYearChange"),U()),Se("onMonthChange")}if(ze(),K(),Zt(),!ce&&t.config.mode!=="range"&&t.config.showMonths===1?L(B):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var Le=t.config.mode==="single"&&!t.config.enableTime,me=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(Le||me)&&vn()}_()}}var mn={locale:[ot,j],showMonths:[ne,o,H],minDate:[w],maxDate:[w],positionElement:[qn],clickOpens:[function(){t.config.clickOpens===!0?(p(t._input,"focus",t.open),p(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function li(D,M){if(D!==null&&typeof D=="object"){Object.assign(t.config,D);for(var V in D)mn[V]!==void 0&&mn[V].forEach(function(B){return B()})}else t.config[D]=M,mn[D]!==void 0?mn[D].forEach(function(B){return B()}):jr.indexOf(D)>-1&&(t.config[D]=Vr(M));t.redraw(),Zt(!0)}function ae(D,M){var V=[];if(D instanceof Array)V=D.map(function(B){return t.parseDate(B,M)});else if(D instanceof Date||typeof D=="number")V=[t.parseDate(D,M)];else if(typeof D=="string")switch(t.config.mode){case"single":case"time":V=[t.parseDate(D,M)];break;case"multiple":V=D.split(t.config.conjunction).map(function(B){return t.parseDate(B,M)});break;case"range":V=D.split(t.l10n.rangeSeparator).map(function(B){return t.parseDate(B,M)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(D)));t.selectedDates=t.config.allowInvalidPreload?V:V.filter(function(B){return B instanceof Date&&lt(B,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(B,ie){return B.getTime()-ie.getTime()})}function at(D,M,V){if(M===void 0&&(M=!1),V===void 0&&(V=t.config.dateFormat),D!==0&&!D||D instanceof Array&&D.length===0)return t.clear(M);ae(D,V),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),w(void 0,M),d(),t.selectedDates.length===0&&t.clear(!1),Zt(M),M&&Se("onChange")}function hn(D){return D.slice().map(function(M){return typeof M=="string"||typeof M=="number"||M instanceof Date?t.parseDate(M,void 0,!0):M&&typeof M=="object"&&M.from&&M.to?{from:t.parseDate(M.from,void 0),to:t.parseDate(M.to,void 0)}:M}).filter(function(M){return M})}function un(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var D=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);D&&ae(D,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function Rn(){if(t.input=Xe(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=We(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),qn()}function qn(){t._positionElement=t.config.positionElement||t._input}function ee(){var D=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=We("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=D,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=D==="datetime-local"?"Y-m-d\\TH:i:S":D==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}p(t.mobileInput,"change",function(M){t.setDate(qt(M).value,!1,t.mobileFormatStr),Se("onChange"),Se("onClose")})}function fe(D){if(t.isOpen===!0)return t.close();t.open(D)}function Se(D,M){if(t.config!==void 0){var V=t.config[D];if(V!==void 0&&V.length>0)for(var B=0;V[B]&&B<V.length;B++)V[B](t.selectedDates,t.input.value,t,M);D==="onChange"&&(t.input.dispatchEvent(yt("change")),t.input.dispatchEvent(yt("input")))}}function yt(D){var M=document.createEvent("Event");return M.initEvent(D,!0,!0),M}function he(D){for(var M=0;M<t.selectedDates.length;M++){var V=t.selectedDates[M];if(V instanceof Date&&jt(V,D)===0)return""+M}return!1}function wt(D){return t.config.mode!=="range"||t.selectedDates.length<2?!1:jt(D,t.selectedDates[0])>=0&&jt(D,t.selectedDates[1])<=0}function ze(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(D,M){var V=new Date(t.currentYear,t.currentMonth,1);V.setMonth(t.currentMonth+M),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[M].textContent=or(V.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=V.getMonth().toString(),D.value=V.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function kt(D){var M=D||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(V){return t.formatDate(V,M)}).filter(function(V,B,ie){return t.config.mode!=="range"||t.config.enableTime||ie.indexOf(V)===B}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Zt(D){D===void 0&&(D=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=kt(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=kt(t.config.altFormat)),D!==!1&&Se("onValueUpdate")}function Zf(D){var M=qt(D),V=t.prevMonthNav.contains(M),B=t.nextMonthNav.contains(M);V||B?it(V?-1:1):t.yearElements.indexOf(M)>=0?M.select():M.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):M.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function Jf(D){D.preventDefault();var M=D.type==="keydown",V=qt(D),B=V;t.amPM!==void 0&&V===t.amPM&&(t.amPM.textContent=t.l10n.amPM[zt(t.amPM.textContent===t.l10n.amPM[0])]);var ie=parseFloat(B.getAttribute("min")),ce=parseFloat(B.getAttribute("max")),Ne=parseFloat(B.getAttribute("step")),pe=parseInt(B.value,10),Le=D.delta||(M?D.which===38?1:-1:0),me=pe+Ne*Le;if(typeof B.value<"u"&&B.value.length===2){var Ce=B===t.hourElement,Be=B===t.minuteElement;me<ie?(me=ce+me+zt(!Ce)+(zt(Ce)&&zt(!t.amPM)),Be&&S(void 0,-1,t.hourElement)):me>ce&&(me=B===t.hourElement?me-ce-zt(!t.amPM):ie,Be&&S(void 0,1,t.hourElement)),t.amPM&&Ce&&(Ne===1?me+pe===23:Math.abs(me-pe)>Ne)&&(t.amPM.textContent=t.l10n.amPM[zt(t.amPM.textContent===t.l10n.amPM[0])]),B.value=It(me)}}return r(),t}function Qn(n,e){for(var t=Array.prototype.slice.call(n).filter(function(l){return l instanceof HTMLElement}),i=[],r=0;r<t.length;r++){var s=t[r];try{if(s.getAttribute("data-fp-omit")!==null)continue;s._flatpickr!==void 0&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=U1(s,e||{}),i.push(s._flatpickr)}catch(l){console.error(l)}}return i.length===1?i[0]:i}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return Qn(this,n)},HTMLElement.prototype.flatpickr=function(n){return Qn([this],n)});var nt=function(n,e){return typeof n=="string"?Qn(window.document.querySelectorAll(n),e):n instanceof Node?Qn([n],e):Qn(n,e)};nt.defaultConfig={};nt.l10ns={en:vt({},Si),default:vt({},Si)};nt.localize=function(n){nt.l10ns.default=vt(vt({},nt.l10ns.default),n)};nt.setDefaults=function(n){nt.defaultConfig=vt(vt({},nt.defaultConfig),n)};nt.parseDate=rs({});nt.formatDate=Yf({});nt.compareDates=jt;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return Qn(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=nt);function z1(n){let e,t=[n[1]],i={};for(let r=0;r<t.length;r+=1)i=Je(i,t[r]);return{c(){e=y("input"),Xi(e,i)},m(r,s){v(r,e,s),e.autofocus&&e.focus(),n[11](e)},p(r,s){Xi(e,i=Ht(t,[s&2&&r[1]]))},d(r){r&&k(e),n[11](null)}}}function Y1(n){let e;const t=n[10].default,i=ut(t,n,n[9],null),r=i||z1(n);return{c(){r&&r.c()},m(s,l){r&&r.m(s,l),e=!0},p(s,[l]){i?i.p&&(!e||l&512)&&ct(i,t,s,s[9],e?ft(t,s[9],l,null):dt(s[9]),null):r&&r.p&&(!e||l&3)&&r.p(s,e?l:-1)},i(s){e||(O(r,s),e=!0)},o(s){N(r,s),e=!1},d(s){r&&r.d(s)}}}function B1(n){return n.charAt(2).toLowerCase()+n.substring(3)}function Qo(n,e){var i;return(((i=n==null?void 0:n.config)==null?void 0:i.mode)??"single")==="single"?e[0]:e}function Xo(n,e){return!!(n==e||n instanceof Date&&e instanceof Date&&n.valueOf()===e.valueOf()||Array.isArray(n)&&Array.isArray(e)&&n.length===e.length&&n.every((t,i)=>t===e[i]))}function K1(n,e,t){const i=["value","formattedValue","element","dateFormat","options","input","flatpickr"];let r=ln(e,i),{$$slots:s={},$$scope:l}=e;const o=new Set(["onChange","onOpen","onClose","onMonthChange","onYearChange","onReady","onValueUpdate","onDayCreate"]);let{value:a=void 0,formattedValue:u="",element:f=void 0,dateFormat:c=void 0}=e,{options:d={}}=e,m=!1,{input:g=void 0,flatpickr:p=void 0}=e;Ft(()=>{const S=f??g,E=b(d);return E.onReady.push((F,L,I)=>{a===void 0&&w(F,L,I),Xt().then(()=>{t(8,m=!0)})}),t(3,p=nt(S,Object.assign(E,f?{wrap:!0}:{}))),()=>{p.destroy()}});const _=gt();function b(S={}){S=Object.assign({},S);for(const E of o){const F=(L,I,R)=>{_(B1(E),[L,I,R])};E in S?(Array.isArray(S[E])||(S[E]=[S[E]]),S[E].push(F)):S[E]=[F]}return S.onChange&&!S.onChange.includes(w)&&S.onChange.push(w),S}function w(S,E,F){const L=Qo(F,S);!Xo(a,L)&&(a||L)&&t(2,a=L),t(4,u=E)}function T(S){ue[S?"unshift":"push"](()=>{g=S,t(0,g)})}return n.$$set=S=>{e=Je(Je({},e),Ti(S)),t(1,r=ln(e,i)),"value"in S&&t(2,a=S.value),"formattedValue"in S&&t(4,u=S.formattedValue),"element"in S&&t(5,f=S.element),"dateFormat"in S&&t(6,c=S.dateFormat),"options"in S&&t(7,d=S.options),"input"in S&&t(0,g=S.input),"flatpickr"in S&&t(3,p=S.flatpickr),"$$scope"in S&&t(9,l=S.$$scope)},n.$$.update=()=>{if(n.$$.dirty&332&&p&&m&&(Xo(a,Qo(p,p.selectedDates))||p.setDate(a,!0,c)),n.$$.dirty&392&&p&&m)for(const[S,E]of Object.entries(b(d)))p.set(S,E)},[g,r,a,p,u,f,c,d,m,l,s,T]}class Z1 extends we{constructor(e){super(),ye(this,e,K1,Y1,be,{value:2,formattedValue:4,element:5,dateFormat:6,options:7,input:0,flatpickr:3})}}function $o(n){let e,t,i,r;return{c(){e=y("div"),t=y("button"),t.innerHTML='<i class="ri-close-line"></i>',h(t,"type","button"),h(t,"class","link-hint clear-btn svelte-11df51y"),h(e,"class","form-field-addon")},m(s,l){v(s,e,l),C(e,t),i||(r=[He(Ge.call(null,t,"Clear")),x(t,"click",n[5])],i=!0)},p:$,d(s){s&&k(e),i=!1,De(r)}}}function J1(n){let e,t,i,r,s,l=n[1].name+"",o,a,u,f,c,d,m,g,p,_=n[0]&&!n[1].required&&$o(n);function b(S){n[6](S)}function w(S){n[7](S)}let T={id:n[8],options:A.defaultFlatpickrOptions()};return n[2]!==void 0&&(T.value=n[2]),n[0]!==void 0&&(T.formattedValue=n[0]),d=new Z1({props:T}),ue.push(()=>Ae(d,"value",b)),ue.push(()=>Ae(d,"formattedValue",w)),d.$on("close",n[3]),{c(){e=y("label"),t=y("i"),r=q(),s=y("span"),o=re(l),a=re(" (UTC)"),f=q(),_&&_.c(),c=q(),X(d.$$.fragment),h(t,"class",i=kn(A.getFieldTypeIcon(n[1].type))+" svelte-11df51y"),h(s,"class","txt"),h(e,"for",u=n[8])},m(S,E){v(S,e,E),C(e,t),C(e,r),C(e,s),C(s,o),C(s,a),v(S,f,E),_&&_.m(S,E),v(S,c,E),G(d,S,E),p=!0},p(S,E){(!p||E&2&&i!==(i=kn(A.getFieldTypeIcon(S[1].type))+" svelte-11df51y"))&&h(t,"class",i),(!p||E&2)&&l!==(l=S[1].name+"")&&_e(o,l),(!p||E&256&&u!==(u=S[8]))&&h(e,"for",u),S[0]&&!S[1].required?_?_.p(S,E):(_=$o(S),_.c(),_.m(c.parentNode,c)):_&&(_.d(1),_=null);const F={};E&256&&(F.id=S[8]),!m&&E&4&&(m=!0,F.value=S[2],Fe(()=>m=!1)),!g&&E&1&&(g=!0,F.formattedValue=S[0],Fe(()=>g=!1)),d.$set(F)},i(S){p||(O(d.$$.fragment,S),p=!0)},o(S){N(d.$$.fragment,S),p=!1},d(S){S&&(k(e),k(f),k(c)),_&&_.d(S),Q(d,S)}}}function G1(n){let e,t;return e=new Ze({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[J1,({uniqueId:i})=>({8:i}),({uniqueId:i})=>i?256:0]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,[r]){const s={};r&2&&(s.class="form-field "+(i[1].required?"required":"")),r&2&&(s.name=i[1].name),r&775&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function Q1(n,e,t){let{field:i}=e,{value:r=void 0}=e,s=r;function l(c){c.detail&&c.detail.length==3&&t(0,r=c.detail[1])}function o(){t(0,r="")}const a=()=>o();function u(c){s=c,t(2,s),t(0,r)}function f(c){r=c,t(0,r)}return n.$$set=c=>{"field"in c&&t(1,i=c.field),"value"in c&&t(0,r=c.value)},n.$$.update=()=>{n.$$.dirty&1&&r&&r.length>19&&t(0,r=r.substring(0,19)),n.$$.dirty&5&&s!=r&&t(2,s=r)},[r,i,s,l,o,a,u,f]}class X1 extends we{constructor(e){super(),ye(this,e,Q1,G1,be,{field:1,value:0})}}const $1=n=>({}),xo=n=>({});function ea(n,e,t){const i=n.slice();return i[48]=e[t],i}const x1=n=>({}),ta=n=>({});function na(n,e,t){const i=n.slice();return i[48]=e[t],i[52]=t,i}function ia(n){let e,t,i;return{c(){e=y("div"),t=re(n[2]),i=q(),h(e,"class","block txt-placeholder"),J(e,"link-hint",!n[5]&&!n[6])},m(r,s){v(r,e,s),C(e,t),C(e,i)},p(r,s){s[0]&4&&_e(t,r[2]),s[0]&96&&J(e,"link-hint",!r[5]&&!r[6])},d(r){r&&k(e)}}}function e_(n){let e,t=n[48]+"",i;return{c(){e=y("span"),i=re(t),h(e,"class","txt")},m(r,s){v(r,e,s),C(e,i)},p(r,s){s[0]&1&&t!==(t=r[48]+"")&&_e(i,t)},i:$,o:$,d(r){r&&k(e)}}}function t_(n){let e,t,i;const r=[{item:n[48]},n[11]];var s=n[10];function l(o,a){let u={};for(let f=0;f<r.length;f+=1)u=Je(u,r[f]);return a!==void 0&&a[0]&2049&&(u=Je(u,Ht(r,[a[0]&1&&{item:o[48]},a[0]&2048&&xt(o[11])]))),{props:u}}return s&&(e=Kt(s,l(n))),{c(){e&&X(e.$$.fragment),t=ge()},m(o,a){e&&G(e,o,a),v(o,t,a),i=!0},p(o,a){if(a[0]&1024&&s!==(s=o[10])){if(e){le();const u=e;N(u.$$.fragment,1,0,()=>{Q(u,1)}),oe()}s?(e=Kt(s,l(o,a)),X(e.$$.fragment),O(e.$$.fragment,1),G(e,t.parentNode,t)):e=null}else if(s){const u=a[0]&2049?Ht(r,[a[0]&1&&{item:o[48]},a[0]&2048&&xt(o[11])]):{};e.$set(u)}},i(o){i||(e&&O(e.$$.fragment,o),i=!0)},o(o){e&&N(e.$$.fragment,o),i=!1},d(o){o&&k(t),e&&Q(e,o)}}}function ra(n){let e,t,i;function r(){return n[36](n[48])}return{c(){e=y("span"),e.innerHTML='<i class="ri-close-line"></i>',h(e,"class","clear")},m(s,l){v(s,e,l),t||(i=[He(Ge.call(null,e,"Clear")),x(e,"click",$t(Qe(r)))],t=!0)},p(s,l){n=s},d(s){s&&k(e),t=!1,De(i)}}}function sa(n){let e,t,i,r,s,l;const o=[t_,e_],a=[];function u(c,d){return c[10]?0:1}t=u(n),i=a[t]=o[t](n);let f=(n[4]||n[8])&&ra(n);return{c(){e=y("div"),i.c(),r=q(),f&&f.c(),s=q(),h(e,"class","option")},m(c,d){v(c,e,d),a[t].m(e,null),C(e,r),f&&f.m(e,null),C(e,s),l=!0},p(c,d){let m=t;t=u(c),t===m?a[t].p(c,d):(le(),N(a[m],1,1,()=>{a[m]=null}),oe(),i=a[t],i?i.p(c,d):(i=a[t]=o[t](c),i.c()),O(i,1),i.m(e,r)),c[4]||c[8]?f?f.p(c,d):(f=ra(c),f.c(),f.m(e,s)):f&&(f.d(1),f=null)},i(c){l||(O(i),l=!0)},o(c){N(i),l=!1},d(c){c&&k(e),a[t].d(),f&&f.d()}}}function la(n){let e,t,i={class:"dropdown dropdown-block options-dropdown dropdown-left "+(n[7]?"dropdown-upside":""),trigger:n[20],$$slots:{default:[r_]},$$scope:{ctx:n}};return e=new Ni({props:i}),n[41](e),e.$on("show",n[26]),e.$on("hide",n[42]),{c(){X(e.$$.fragment)},m(r,s){G(e,r,s),t=!0},p(r,s){const l={};s[0]&128&&(l.class="dropdown dropdown-block options-dropdown dropdown-left "+(r[7]?"dropdown-upside":"")),s[0]&1048576&&(l.trigger=r[20]),s[0]&6451722|s[1]&8192&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){n[41](null),Q(e,r)}}}function oa(n){let e,t,i,r,s,l,o,a,u=n[17].length&&aa(n);return{c(){e=y("div"),t=y("label"),i=y("div"),i.innerHTML='<i class="ri-search-line"></i>',r=q(),s=y("input"),l=q(),u&&u.c(),h(i,"class","addon p-r-0"),s.autofocus=!0,h(s,"type","text"),h(s,"placeholder",n[3]),h(t,"class","input-group"),h(e,"class","form-field form-field-sm options-search")},m(f,c){v(f,e,c),C(e,t),C(t,i),C(t,r),C(t,s),Pe(s,n[17]),C(t,l),u&&u.m(t,null),s.focus(),o||(a=x(s,"input",n[38]),o=!0)},p(f,c){c[0]&8&&h(s,"placeholder",f[3]),c[0]&131072&&s.value!==f[17]&&Pe(s,f[17]),f[17].length?u?u.p(f,c):(u=aa(f),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},d(f){f&&k(e),u&&u.d(),o=!1,a()}}}function aa(n){let e,t,i,r;return{c(){e=y("div"),t=y("button"),t.innerHTML='<i class="ri-close-line"></i>',h(t,"type","button"),h(t,"class","btn btn-sm btn-circle btn-transparent clear"),h(e,"class","addon suffix p-r-5")},m(s,l){v(s,e,l),C(e,t),i||(r=x(t,"click",$t(Qe(n[23]))),i=!0)},p:$,d(s){s&&k(e),i=!1,r()}}}function ua(n){let e,t=n[1]&&fa(n);return{c(){t&&t.c(),e=ge()},m(i,r){t&&t.m(i,r),v(i,e,r)},p(i,r){i[1]?t?t.p(i,r):(t=fa(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&k(e),t&&t.d(i)}}}function fa(n){let e,t;return{c(){e=y("div"),t=re(n[1]),h(e,"class","txt-missing")},m(i,r){v(i,e,r),C(e,t)},p(i,r){r[0]&2&&_e(t,i[1])},d(i){i&&k(e)}}}function n_(n){let e=n[48]+"",t;return{c(){t=re(e)},m(i,r){v(i,t,r)},p(i,r){r[0]&4194304&&e!==(e=i[48]+"")&&_e(t,e)},i:$,o:$,d(i){i&&k(t)}}}function i_(n){let e,t,i;const r=[{item:n[48]},n[13]];var s=n[12];function l(o,a){let u={};for(let f=0;f<r.length;f+=1)u=Je(u,r[f]);return a!==void 0&&a[0]&4202496&&(u=Je(u,Ht(r,[a[0]&4194304&&{item:o[48]},a[0]&8192&&xt(o[13])]))),{props:u}}return s&&(e=Kt(s,l(n))),{c(){e&&X(e.$$.fragment),t=ge()},m(o,a){e&&G(e,o,a),v(o,t,a),i=!0},p(o,a){if(a[0]&4096&&s!==(s=o[12])){if(e){le();const u=e;N(u.$$.fragment,1,0,()=>{Q(u,1)}),oe()}s?(e=Kt(s,l(o,a)),X(e.$$.fragment),O(e.$$.fragment,1),G(e,t.parentNode,t)):e=null}else if(s){const u=a[0]&4202496?Ht(r,[a[0]&4194304&&{item:o[48]},a[0]&8192&&xt(o[13])]):{};e.$set(u)}},i(o){i||(e&&O(e.$$.fragment,o),i=!0)},o(o){e&&N(e.$$.fragment,o),i=!1},d(o){o&&k(t),e&&Q(e,o)}}}function ca(n){let e,t,i,r,s,l,o;const a=[i_,n_],u=[];function f(m,g){return m[12]?0:1}t=f(n),i=u[t]=a[t](n);function c(...m){return n[39](n[48],...m)}function d(...m){return n[40](n[48],...m)}return{c(){e=y("div"),i.c(),r=q(),h(e,"tabindex","0"),h(e,"class","dropdown-item option"),h(e,"role","menuitem"),J(e,"closable",n[9]),J(e,"selected",n[21](n[48]))},m(m,g){v(m,e,g),u[t].m(e,null),C(e,r),s=!0,l||(o=[x(e,"click",c),x(e,"keydown",d)],l=!0)},p(m,g){n=m;let p=t;t=f(n),t===p?u[t].p(n,g):(le(),N(u[p],1,1,()=>{u[p]=null}),oe(),i=u[t],i?i.p(n,g):(i=u[t]=a[t](n),i.c()),O(i,1),i.m(e,r)),(!s||g[0]&512)&&J(e,"closable",n[9]),(!s||g[0]&6291456)&&J(e,"selected",n[21](n[48]))},i(m){s||(O(i),s=!0)},o(m){N(i),s=!1},d(m){m&&k(e),u[t].d(),l=!1,De(o)}}}function r_(n){let e,t,i,r,s,l=n[14]&&oa(n);const o=n[35].beforeOptions,a=ut(o,n,n[44],ta);let u=ke(n[22]),f=[];for(let p=0;p<u.length;p+=1)f[p]=ca(ea(n,u,p));const c=p=>N(f[p],1,1,()=>{f[p]=null});let d=null;u.length||(d=ua(n));const m=n[35].afterOptions,g=ut(m,n,n[44],xo);return{c(){l&&l.c(),e=q(),a&&a.c(),t=q(),i=y("div");for(let p=0;p<f.length;p+=1)f[p].c();d&&d.c(),r=q(),g&&g.c(),h(i,"class","options-list")},m(p,_){l&&l.m(p,_),v(p,e,_),a&&a.m(p,_),v(p,t,_),v(p,i,_);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(i,null);d&&d.m(i,null),v(p,r,_),g&&g.m(p,_),s=!0},p(p,_){if(p[14]?l?l.p(p,_):(l=oa(p),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),a&&a.p&&(!s||_[1]&8192)&&ct(a,o,p,p[44],s?ft(o,p[44],_,x1):dt(p[44]),ta),_[0]&56635906){u=ke(p[22]);let b;for(b=0;b<u.length;b+=1){const w=ea(p,u,b);f[b]?(f[b].p(w,_),O(f[b],1)):(f[b]=ca(w),f[b].c(),O(f[b],1),f[b].m(i,null))}for(le(),b=u.length;b<f.length;b+=1)c(b);oe(),!u.length&&d?d.p(p,_):u.length?d&&(d.d(1),d=null):(d=ua(p),d.c(),d.m(i,null))}g&&g.p&&(!s||_[1]&8192)&&ct(g,m,p,p[44],s?ft(m,p[44],_,$1):dt(p[44]),xo)},i(p){if(!s){O(a,p);for(let _=0;_<u.length;_+=1)O(f[_]);O(g,p),s=!0}},o(p){N(a,p),f=f.filter(Boolean);for(let _=0;_<f.length;_+=1)N(f[_]);N(g,p),s=!1},d(p){p&&(k(e),k(t),k(i),k(r)),l&&l.d(p),a&&a.d(p),cn(f,p),d&&d.d(),g&&g.d(p)}}}function s_(n){let e,t,i,r,s,l,o=ke(A.toArray(n[0])),a=[];for(let d=0;d<o.length;d+=1)a[d]=sa(na(n,o,d));const u=d=>N(a[d],1,1,()=>{a[d]=null});let f=null;o.length||(f=ia(n));let c=!n[5]&&!n[6]&&la(n);return{c(){e=y("div"),t=y("div");for(let d=0;d<a.length;d+=1)a[d].c();f&&f.c(),r=q(),c&&c.c(),h(t,"tabindex",i=n[5]||n[6]?"-1":"0"),h(t,"class","selected-container"),h(t,"role","button"),J(t,"disabled",n[5]),J(t,"readonly",n[6]),h(e,"class",s="select "+n[15]),J(e,"upside",n[7]),J(e,"multiple",n[4]),J(e,"disabled",n[5]),J(e,"readonly",n[6])},m(d,m){v(d,e,m),C(e,t);for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(t,null);f&&f.m(t,null),n[37](t),C(e,r),c&&c.m(e,null),n[43](e),l=!0},p(d,m){if(m[0]&68981){o=ke(A.toArray(d[0]));let g;for(g=0;g<o.length;g+=1){const p=na(d,o,g);a[g]?(a[g].p(p,m),O(a[g],1)):(a[g]=sa(p),a[g].c(),O(a[g],1),a[g].m(t,null))}for(le(),g=o.length;g<a.length;g+=1)u(g);oe(),!o.length&&f?f.p(d,m):o.length?f&&(f.d(1),f=null):(f=ia(d),f.c(),f.m(t,null))}(!l||m[0]&96&&i!==(i=d[5]||d[6]?"-1":"0"))&&h(t,"tabindex",i),(!l||m[0]&32)&&J(t,"disabled",d[5]),(!l||m[0]&64)&&J(t,"readonly",d[6]),!d[5]&&!d[6]?c?(c.p(d,m),m[0]&96&&O(c,1)):(c=la(d),c.c(),O(c,1),c.m(e,null)):c&&(le(),N(c,1,1,()=>{c=null}),oe()),(!l||m[0]&32768&&s!==(s="select "+d[15]))&&h(e,"class",s),(!l||m[0]&32896)&&J(e,"upside",d[7]),(!l||m[0]&32784)&&J(e,"multiple",d[4]),(!l||m[0]&32800)&&J(e,"disabled",d[5]),(!l||m[0]&32832)&&J(e,"readonly",d[6])},i(d){if(!l){for(let m=0;m<o.length;m+=1)O(a[m]);O(c),l=!0}},o(d){a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)N(a[m]);N(c),l=!1},d(d){d&&k(e),cn(a,d),f&&f.d(),n[37](null),c&&c.d(),n[43](null)}}}function l_(n,e){let t=(""+e).replace(/\s+/g,"").toLowerCase(),i=n;try{typeof n=="object"&&n!==null&&(i=JSON.stringify(n))}catch{}return(""+i).replace(/\s+/g,"").toLowerCase().includes(t)}function o_(n,e,t){let i,r,{$$slots:s={},$$scope:l}=e,{id:o=""}=e,{noOptionsText:a="No options found"}=e,{selectPlaceholder:u="- Select -"}=e,{searchPlaceholder:f="Search..."}=e,{items:c=[]}=e,{multiple:d=!1}=e,{disabled:m=!1}=e,{readonly:g=!1}=e,{upside:p=!1}=e,{selected:_=d?[]:void 0}=e,{toggle:b=d}=e,{closable:w=!0}=e,{labelComponent:T=void 0}=e,{labelComponentProps:S={}}=e,{optionComponent:E=void 0}=e,{optionComponentProps:F={}}=e,{searchable:L=!1}=e,{searchFunc:I=void 0}=e,{class:R=""}=e,P,W="",K,U;function te(Z){if(A.isEmpty(_))return;let Te=A.toArray(_);A.inArray(Te,Z)&&(A.removeByValue(Te,Z),t(0,_=Te)),K==null||K.dispatchEvent(new CustomEvent("change",{detail:_,bubbles:!0}))}function ne(Z){if(d){let Te=A.toArray(_);A.inArray(Te,Z)||t(0,_=[...Te,Z])}else t(0,_=Z);K==null||K.dispatchEvent(new CustomEvent("change",{detail:_,bubbles:!0}))}function Y(Z){return r(Z)?te(Z):ne(Z)}function z(){t(0,_=d?[]:void 0)}function H(){P!=null&&P.show&&(P==null||P.show())}function j(){P!=null&&P.hide&&(P==null||P.hide())}function Ie(){if(A.isEmpty(_)||A.isEmpty(c))return;let Z=A.toArray(_),Te=[];for(const Xe of Z)A.inArray(c,Xe)||Te.push(Xe);if(Te.length){for(const Xe of Te)A.removeByValue(Z,Xe);t(0,_=d?Z:Z[0])}}function it(){t(17,W="")}function _t(Z,Te){Z=Z||[];const Xe=I||l_;return Z.filter(ot=>Xe(ot,Te))||[]}function Mt(Z,Te){Z.preventDefault(),b&&d?Y(Te):ne(Te)}function Tt(Z,Te){(Z.code==="Enter"||Z.code==="Space")&&(Mt(Z,Te),w&&j())}function bt(){it(),setTimeout(()=>{const Z=K==null?void 0:K.querySelector(".dropdown-item.option.selected");Z&&(Z.focus(),Z.scrollIntoView({block:"nearest"}))},0)}function Dt(Z){Z.stopPropagation(),!g&&!m&&(P==null||P.toggle())}Ft(()=>{const Z=document.querySelectorAll(`label[for="${o}"]`);for(const Te of Z)Te.addEventListener("click",Dt);return()=>{for(const Te of Z)Te.removeEventListener("click",Dt)}});const et=Z=>te(Z);function lt(Z){ue[Z?"unshift":"push"](()=>{U=Z,t(20,U)})}function ve(){W=this.value,t(17,W)}const qe=(Z,Te)=>Mt(Te,Z),Ue=(Z,Te)=>Tt(Te,Z);function je(Z){ue[Z?"unshift":"push"](()=>{P=Z,t(18,P)})}function rt(Z){Ct.call(this,n,Z)}function de(Z){ue[Z?"unshift":"push"](()=>{K=Z,t(19,K)})}return n.$$set=Z=>{"id"in Z&&t(27,o=Z.id),"noOptionsText"in Z&&t(1,a=Z.noOptionsText),"selectPlaceholder"in Z&&t(2,u=Z.selectPlaceholder),"searchPlaceholder"in Z&&t(3,f=Z.searchPlaceholder),"items"in Z&&t(28,c=Z.items),"multiple"in Z&&t(4,d=Z.multiple),"disabled"in Z&&t(5,m=Z.disabled),"readonly"in Z&&t(6,g=Z.readonly),"upside"in Z&&t(7,p=Z.upside),"selected"in Z&&t(0,_=Z.selected),"toggle"in Z&&t(8,b=Z.toggle),"closable"in Z&&t(9,w=Z.closable),"labelComponent"in Z&&t(10,T=Z.labelComponent),"labelComponentProps"in Z&&t(11,S=Z.labelComponentProps),"optionComponent"in Z&&t(12,E=Z.optionComponent),"optionComponentProps"in Z&&t(13,F=Z.optionComponentProps),"searchable"in Z&&t(14,L=Z.searchable),"searchFunc"in Z&&t(29,I=Z.searchFunc),"class"in Z&&t(15,R=Z.class),"$$scope"in Z&&t(44,l=Z.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&268435456&&c&&(Ie(),it()),n.$$.dirty[0]&268566528&&t(22,i=_t(c,W)),n.$$.dirty[0]&1&&t(21,r=function(Z){const Te=A.toArray(_);return A.inArray(Te,Z)})},[_,a,u,f,d,m,g,p,b,w,T,S,E,F,L,R,te,W,P,K,U,r,i,it,Mt,Tt,bt,o,c,I,ne,Y,z,H,j,s,et,lt,ve,qe,Ue,je,rt,de,l]}class Bf extends we{constructor(e){super(),ye(this,e,o_,s_,be,{id:27,noOptionsText:1,selectPlaceholder:2,searchPlaceholder:3,items:28,multiple:4,disabled:5,readonly:6,upside:7,selected:0,toggle:8,closable:9,labelComponent:10,labelComponentProps:11,optionComponent:12,optionComponentProps:13,searchable:14,searchFunc:29,class:15,deselectItem:16,selectItem:30,toggleItem:31,reset:32,showDropdown:33,hideDropdown:34},null,[-1,-1])}get deselectItem(){return this.$$.ctx[16]}get selectItem(){return this.$$.ctx[30]}get toggleItem(){return this.$$.ctx[31]}get reset(){return this.$$.ctx[32]}get showDropdown(){return this.$$.ctx[33]}get hideDropdown(){return this.$$.ctx[34]}}function da(n){let e,t,i=n[1].options.maxSelect+"",r,s;return{c(){e=y("div"),t=re("Select up to "),r=re(i),s=re(" items."),h(e,"class","help-block")},m(l,o){v(l,e,o),C(e,t),C(e,r),C(e,s)},p(l,o){o&2&&i!==(i=l[1].options.maxSelect+"")&&_e(r,i)},d(l){l&&k(e)}}}function a_(n){var w,T,S,E,F,L;let e,t,i,r,s,l=n[1].name+"",o,a,u,f,c,d,m,g;function p(I){n[3](I)}let _={id:n[4],toggle:!n[1].required||n[2],multiple:n[2],closable:!n[2]||((w=n[0])==null?void 0:w.length)>=((T=n[1].options)==null?void 0:T.maxSelect),items:(S=n[1].options)==null?void 0:S.values,searchable:((F=(E=n[1].options)==null?void 0:E.values)==null?void 0:F.length)>5};n[0]!==void 0&&(_.selected=n[0]),f=new Bf({props:_}),ue.push(()=>Ae(f,"selected",p));let b=((L=n[1].options)==null?void 0:L.maxSelect)>1&&da(n);return{c(){e=y("label"),t=y("i"),r=q(),s=y("span"),o=re(l),u=q(),X(f.$$.fragment),d=q(),b&&b.c(),m=ge(),h(t,"class",i=A.getFieldTypeIcon(n[1].type)),h(s,"class","txt"),h(e,"for",a=n[4])},m(I,R){v(I,e,R),C(e,t),C(e,r),C(e,s),C(s,o),v(I,u,R),G(f,I,R),v(I,d,R),b&&b.m(I,R),v(I,m,R),g=!0},p(I,R){var W,K,U,te,ne,Y;(!g||R&2&&i!==(i=A.getFieldTypeIcon(I[1].type)))&&h(t,"class",i),(!g||R&2)&&l!==(l=I[1].name+"")&&_e(o,l),(!g||R&16&&a!==(a=I[4]))&&h(e,"for",a);const P={};R&16&&(P.id=I[4]),R&6&&(P.toggle=!I[1].required||I[2]),R&4&&(P.multiple=I[2]),R&7&&(P.closable=!I[2]||((W=I[0])==null?void 0:W.length)>=((K=I[1].options)==null?void 0:K.maxSelect)),R&2&&(P.items=(U=I[1].options)==null?void 0:U.values),R&2&&(P.searchable=((ne=(te=I[1].options)==null?void 0:te.values)==null?void 0:ne.length)>5),!c&&R&1&&(c=!0,P.selected=I[0],Fe(()=>c=!1)),f.$set(P),((Y=I[1].options)==null?void 0:Y.maxSelect)>1?b?b.p(I,R):(b=da(I),b.c(),b.m(m.parentNode,m)):b&&(b.d(1),b=null)},i(I){g||(O(f.$$.fragment,I),g=!0)},o(I){N(f.$$.fragment,I),g=!1},d(I){I&&(k(e),k(u),k(d),k(m)),Q(f,I),b&&b.d(I)}}}function u_(n){let e,t;return e=new Ze({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[a_,({uniqueId:i})=>({4:i}),({uniqueId:i})=>i?16:0]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,[r]){const s={};r&2&&(s.class="form-field "+(i[1].required?"required":"")),r&2&&(s.name=i[1].name),r&55&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function f_(n,e,t){let i,{field:r}=e,{value:s=void 0}=e;function l(o){s=o,t(0,s),t(2,i),t(1,r)}return n.$$set=o=>{"field"in o&&t(1,r=o.field),"value"in o&&t(0,s=o.value)},n.$$.update=()=>{var o;n.$$.dirty&2&&t(2,i=((o=r.options)==null?void 0:o.maxSelect)>1),n.$$.dirty&5&&typeof s>"u"&&t(0,s=i?[]:""),n.$$.dirty&7&&i&&Array.isArray(s)&&s.length>r.options.maxSelect&&t(0,s=s.slice(s.length-r.options.maxSelect))},[s,r,i,l]}class c_ extends we{constructor(e){super(),ye(this,e,f_,u_,be,{field:1,value:0})}}function d_(n){let e;return{c(){e=y("i"),h(e,"class","ri-error-warning-fill txt-danger")},m(t,i){v(t,e,i)},d(t){t&&k(e)}}}function m_(n){let e;return{c(){e=y("i"),h(e,"class","ri-checkbox-circle-fill txt-success")},m(t,i){v(t,e,i)},d(t){t&&k(e)}}}function h_(n){let e;return{c(){e=y("input"),h(e,"type","text"),h(e,"class","txt-mono"),e.value="Loading...",e.disabled=!0},m(t,i){v(t,e,i)},p:$,i:$,o:$,d(t){t&&k(e)}}}function p_(n){let e,t,i;var r=n[3];function s(l,o){return{props:{id:l[6],maxHeight:"500",language:"json",value:l[2]}}}return r&&(e=Kt(r,s(n)),e.$on("change",n[5])),{c(){e&&X(e.$$.fragment),t=ge()},m(l,o){e&&G(e,l,o),v(l,t,o),i=!0},p(l,o){if(o&8&&r!==(r=l[3])){if(e){le();const a=e;N(a.$$.fragment,1,0,()=>{Q(a,1)}),oe()}r?(e=Kt(r,s(l)),e.$on("change",l[5]),X(e.$$.fragment),O(e.$$.fragment,1),G(e,t.parentNode,t)):e=null}else if(r){const a={};o&64&&(a.id=l[6]),o&4&&(a.value=l[2]),e.$set(a)}},i(l){i||(e&&O(e.$$.fragment,l),i=!0)},o(l){e&&N(e.$$.fragment,l),i=!1},d(l){l&&k(t),e&&Q(e,l)}}}function g_(n){let e,t,i,r,s,l=n[1].name+"",o,a,u,f,c,d,m,g,p,_,b,w;function T(R,P){return R[4]?m_:d_}let S=T(n),E=S(n);const F=[p_,h_],L=[];function I(R,P){return R[3]?0:1}return m=I(n),g=L[m]=F[m](n),{c(){e=y("label"),t=y("i"),r=q(),s=y("span"),o=re(l),a=q(),u=y("span"),E.c(),d=q(),g.c(),p=ge(),h(t,"class",i=kn(A.getFieldTypeIcon(n[1].type))+" svelte-p6ecb8"),h(s,"class","txt"),h(u,"class","json-state svelte-p6ecb8"),h(e,"for",c=n[6])},m(R,P){v(R,e,P),C(e,t),C(e,r),C(e,s),C(s,o),C(e,a),C(e,u),E.m(u,null),v(R,d,P),L[m].m(R,P),v(R,p,P),_=!0,b||(w=He(f=Ge.call(null,u,{position:"left",text:n[4]?"Valid JSON":"Invalid JSON"})),b=!0)},p(R,P){(!_||P&2&&i!==(i=kn(A.getFieldTypeIcon(R[1].type))+" svelte-p6ecb8"))&&h(t,"class",i),(!_||P&2)&&l!==(l=R[1].name+"")&&_e(o,l),S!==(S=T(R))&&(E.d(1),E=S(R),E&&(E.c(),E.m(u,null))),f&&st(f.update)&&P&16&&f.update.call(null,{position:"left",text:R[4]?"Valid JSON":"Invalid JSON"}),(!_||P&64&&c!==(c=R[6]))&&h(e,"for",c);let W=m;m=I(R),m===W?L[m].p(R,P):(le(),N(L[W],1,1,()=>{L[W]=null}),oe(),g=L[m],g?g.p(R,P):(g=L[m]=F[m](R),g.c()),O(g,1),g.m(p.parentNode,p))},i(R){_||(O(g),_=!0)},o(R){N(g),_=!1},d(R){R&&(k(e),k(d),k(p)),E.d(),L[m].d(R),b=!1,w()}}}function __(n){let e,t;return e=new Ze({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[g_,({uniqueId:i})=>({6:i}),({uniqueId:i})=>i?64:0]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,[r]){const s={};r&2&&(s.class="form-field "+(i[1].required?"required":"")),r&2&&(s.name=i[1].name),r&223&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function ma(n){return typeof n=="string"&&Kf(n)?n:JSON.stringify(typeof n>"u"?null:n,null,2)}function Kf(n){try{return JSON.parse(n===""?null:n),!0}catch{}return!1}function b_(n,e,t){let i,{field:r}=e,{value:s=void 0}=e,l,o=ma(s);Ft(async()=>{try{t(3,l=(await Uf(()=>import("./CodeEditor-CxQW0jbb.js"),__vite__mapDeps([2,1]),import.meta.url)).default)}catch(u){console.warn(u)}});const a=u=>{t(2,o=u.detail),t(0,s=o.trim())};return n.$$set=u=>{"field"in u&&t(1,r=u.field),"value"in u&&t(0,s=u.value)},n.$$.update=()=>{n.$$.dirty&5&&s!==(o==null?void 0:o.trim())&&(t(2,o=ma(s)),t(0,s=o)),n.$$.dirty&4&&t(4,i=Kf(o))},[s,r,o,l,i,a]}class y_ extends we{constructor(e){super(),ye(this,e,b_,__,be,{field:1,value:0})}}const w_=n=>({dragging:n&4,dragover:n&8}),ha=n=>({dragging:n[2],dragover:n[3]});function k_(n){let e,t,i,r,s;const l=n[10].default,o=ut(l,n,n[9],ha);return{c(){e=y("div"),o&&o.c(),h(e,"draggable",t=!n[1]),h(e,"class","draggable svelte-28orm4"),J(e,"dragging",n[2]),J(e,"dragover",n[3])},m(a,u){v(a,e,u),o&&o.m(e,null),i=!0,r||(s=[x(e,"dragover",Qe(n[11])),x(e,"dragleave",Qe(n[12])),x(e,"dragend",n[13]),x(e,"dragstart",n[14]),x(e,"drop",n[15])],r=!0)},p(a,[u]){o&&o.p&&(!i||u&524)&&ct(o,l,a,a[9],i?ft(l,a[9],u,w_):dt(a[9]),ha),(!i||u&2&&t!==(t=!a[1]))&&h(e,"draggable",t),(!i||u&4)&&J(e,"dragging",a[2]),(!i||u&8)&&J(e,"dragover",a[3])},i(a){i||(O(o,a),i=!0)},o(a){N(o,a),i=!1},d(a){a&&k(e),o&&o.d(a),r=!1,De(s)}}}function v_(n,e,t){let{$$slots:i={},$$scope:r}=e;const s=gt();let{index:l}=e,{list:o=[]}=e,{group:a="default"}=e,{disabled:u=!1}=e,{dragHandleClass:f=""}=e,c=!1,d=!1;function m(S,E){if(!(!S||u)){if(f&&!S.target.classList.contains(f)){t(3,d=!1),t(2,c=!1),S.preventDefault();return}t(2,c=!0),S.dataTransfer.effectAllowed="move",S.dataTransfer.dropEffect="move",S.dataTransfer.setData("text/plain",JSON.stringify({index:E,group:a})),s("drag",S)}}function g(S,E){if(t(3,d=!1),t(2,c=!1),!S||u)return;S.dataTransfer.dropEffect="move";let F={};try{F=JSON.parse(S.dataTransfer.getData("text/plain"))}catch{}if(F.group!=a)return;const L=F.index<<0;L<E?(o.splice(E+1,0,o[L]),o.splice(L,1)):(o.splice(E,0,o[L]),o.splice(L+1,1)),t(6,o),s("sort",{oldIndex:L,newIndex:E,list:o})}const p=()=>{t(3,d=!0)},_=()=>{t(3,d=!1)},b=()=>{t(3,d=!1),t(2,c=!1)},w=S=>m(S,l),T=S=>g(S,l);return n.$$set=S=>{"index"in S&&t(0,l=S.index),"list"in S&&t(6,o=S.list),"group"in S&&t(7,a=S.group),"disabled"in S&&t(1,u=S.disabled),"dragHandleClass"in S&&t(8,f=S.dragHandleClass),"$$scope"in S&&t(9,r=S.$$scope)},[l,u,c,d,m,g,o,a,f,r,i,p,_,b,w,T]}class Sr extends we{constructor(e){super(),ye(this,e,v_,k_,be,{index:0,list:6,group:7,disabled:1,dragHandleClass:8})}}function S_(n){let e,t;return{c(){e=y("i"),h(e,"class","ri-file-line"),h(e,"alt",t=n[0].name)},m(i,r){v(i,e,r)},p(i,r){r&1&&t!==(t=i[0].name)&&h(e,"alt",t)},d(i){i&&k(e)}}}function C_(n){let e,t,i;return{c(){e=y("img"),h(e,"draggable",!1),sn(e.src,t=n[2])||h(e,"src",t),h(e,"width",n[1]),h(e,"height",n[1]),h(e,"alt",i=n[0].name)},m(r,s){v(r,e,s)},p(r,s){s&4&&!sn(e.src,t=r[2])&&h(e,"src",t),s&2&&h(e,"width",r[1]),s&2&&h(e,"height",r[1]),s&1&&i!==(i=r[0].name)&&h(e,"alt",i)},d(r){r&&k(e)}}}function T_(n){let e;function t(s,l){return s[2]?C_:S_}let i=t(n),r=i(n);return{c(){r.c(),e=ge()},m(s,l){r.m(s,l),v(s,e,l)},p(s,[l]){i===(i=t(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(e.parentNode,e)))},i:$,o:$,d(s){s&&k(e),r.d(s)}}}function D_(n,e,t){let i,{file:r}=e,{size:s=50}=e;function l(){A.hasImageExtension(r==null?void 0:r.name)?A.generateThumb(r,s,s).then(o=>{t(2,i=o)}).catch(o=>{t(2,i=""),console.warn("Unable to generate thumb: ",o)}):t(2,i="")}return n.$$set=o=>{"file"in o&&t(0,r=o.file),"size"in o&&t(1,s=o.size)},n.$$.update=()=>{n.$$.dirty&1&&typeof r<"u"&&l()},t(2,i=""),[r,s,i]}class O_ extends we{constructor(e){super(),ye(this,e,D_,T_,be,{file:0,size:1})}}function pa(n,e,t){const i=n.slice();return i[29]=e[t],i[31]=t,i}function ga(n,e,t){const i=n.slice();i[34]=e[t],i[31]=t;const r=i[2].includes(i[34]);return i[35]=r,i}function E_(n){let e,t,i;function r(){return n[17](n[34])}return{c(){e=y("button"),e.innerHTML='<i class="ri-close-line"></i>',h(e,"type","button"),h(e,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove")},m(s,l){v(s,e,l),t||(i=[He(Ge.call(null,e,"Remove file")),x(e,"click",r)],t=!0)},p(s,l){n=s},d(s){s&&k(e),t=!1,De(i)}}}function M_(n){let e,t,i;function r(){return n[16](n[34])}return{c(){e=y("button"),e.innerHTML='<span class="txt">Restore</span>',h(e,"type","button"),h(e,"class","btn btn-sm btn-danger btn-transparent")},m(s,l){v(s,e,l),t||(i=x(e,"click",r),t=!0)},p(s,l){n=s},d(s){s&&k(e),t=!1,i()}}}function I_(n){let e,t,i,r,s,l,o=n[34]+"",a,u,f,c,d,m;i=new Es({props:{record:n[3],filename:n[34]}});function g(b,w){return b[35]?M_:E_}let p=g(n),_=p(n);return{c(){e=y("div"),t=y("div"),X(i.$$.fragment),r=q(),s=y("div"),l=y("a"),a=re(o),c=q(),d=y("div"),_.c(),J(t,"fade",n[35]),h(l,"draggable",!1),h(l,"href",u=Me.files.getUrl(n[3],n[34],{token:n[10]})),h(l,"class",f="txt-ellipsis "+(n[35]?"txt-strikethrough txt-hint":"link-primary")),h(l,"title","Download"),h(l,"target","_blank"),h(l,"rel","noopener noreferrer"),h(s,"class","content"),h(d,"class","actions"),h(e,"class","list-item"),J(e,"dragging",n[32]),J(e,"dragover",n[33])},m(b,w){v(b,e,w),C(e,t),G(i,t,null),C(e,r),C(e,s),C(s,l),C(l,a),C(e,c),C(e,d),_.m(d,null),m=!0},p(b,w){const T={};w[0]&8&&(T.record=b[3]),w[0]&32&&(T.filename=b[34]),i.$set(T),(!m||w[0]&36)&&J(t,"fade",b[35]),(!m||w[0]&32)&&o!==(o=b[34]+"")&&_e(a,o),(!m||w[0]&1064&&u!==(u=Me.files.getUrl(b[3],b[34],{token:b[10]})))&&h(l,"href",u),(!m||w[0]&36&&f!==(f="txt-ellipsis "+(b[35]?"txt-strikethrough txt-hint":"link-primary")))&&h(l,"class",f),p===(p=g(b))&&_?_.p(b,w):(_.d(1),_=p(b),_&&(_.c(),_.m(d,null))),(!m||w[1]&2)&&J(e,"dragging",b[32]),(!m||w[1]&4)&&J(e,"dragover",b[33])},i(b){m||(O(i.$$.fragment,b),m=!0)},o(b){N(i.$$.fragment,b),m=!1},d(b){b&&k(e),Q(i),_.d()}}}function _a(n,e){let t,i,r,s;function l(a){e[18](a)}let o={group:e[4].name+"_uploaded",index:e[31],disabled:!e[6],$$slots:{default:[I_,({dragging:a,dragover:u})=>({32:a,33:u}),({dragging:a,dragover:u})=>[0,(a?2:0)|(u?4:0)]]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.list=e[0]),i=new Sr({props:o}),ue.push(()=>Ae(i,"list",l)),{key:n,first:null,c(){t=ge(),X(i.$$.fragment),this.first=t},m(a,u){v(a,t,u),G(i,a,u),s=!0},p(a,u){e=a;const f={};u[0]&16&&(f.group=e[4].name+"_uploaded"),u[0]&32&&(f.index=e[31]),u[0]&64&&(f.disabled=!e[6]),u[0]&1068|u[1]&70&&(f.$$scope={dirty:u,ctx:e}),!r&&u[0]&1&&(r=!0,f.list=e[0],Fe(()=>r=!1)),i.$set(f)},i(a){s||(O(i.$$.fragment,a),s=!0)},o(a){N(i.$$.fragment,a),s=!1},d(a){a&&k(t),Q(i,a)}}}function N_(n){let e,t,i,r,s,l,o,a,u=n[29].name+"",f,c,d,m,g,p,_;i=new O_({props:{file:n[29]}});function b(){return n[19](n[31])}return{c(){e=y("div"),t=y("figure"),X(i.$$.fragment),r=q(),s=y("div"),l=y("small"),l.textContent="New",o=q(),a=y("span"),f=re(u),d=q(),m=y("button"),m.innerHTML='<i class="ri-close-line"></i>',h(t,"class","thumb"),h(l,"class","label label-success m-r-5"),h(a,"class","txt"),h(s,"class","filename m-r-auto"),h(s,"title",c=n[29].name),h(m,"type","button"),h(m,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove"),h(e,"class","list-item"),J(e,"dragging",n[32]),J(e,"dragover",n[33])},m(w,T){v(w,e,T),C(e,t),G(i,t,null),C(e,r),C(e,s),C(s,l),C(s,o),C(s,a),C(a,f),C(e,d),C(e,m),g=!0,p||(_=[He(Ge.call(null,m,"Remove file")),x(m,"click",b)],p=!0)},p(w,T){n=w;const S={};T[0]&2&&(S.file=n[29]),i.$set(S),(!g||T[0]&2)&&u!==(u=n[29].name+"")&&_e(f,u),(!g||T[0]&2&&c!==(c=n[29].name))&&h(s,"title",c),(!g||T[1]&2)&&J(e,"dragging",n[32]),(!g||T[1]&4)&&J(e,"dragover",n[33])},i(w){g||(O(i.$$.fragment,w),g=!0)},o(w){N(i.$$.fragment,w),g=!1},d(w){w&&k(e),Q(i),p=!1,De(_)}}}function ba(n,e){let t,i,r,s;function l(a){e[20](a)}let o={group:e[4].name+"_new",index:e[31],disabled:!e[6],$$slots:{default:[N_,({dragging:a,dragover:u})=>({32:a,33:u}),({dragging:a,dragover:u})=>[0,(a?2:0)|(u?4:0)]]},$$scope:{ctx:e}};return e[1]!==void 0&&(o.list=e[1]),i=new Sr({props:o}),ue.push(()=>Ae(i,"list",l)),{key:n,first:null,c(){t=ge(),X(i.$$.fragment),this.first=t},m(a,u){v(a,t,u),G(i,a,u),s=!0},p(a,u){e=a;const f={};u[0]&16&&(f.group=e[4].name+"_new"),u[0]&2&&(f.index=e[31]),u[0]&64&&(f.disabled=!e[6]),u[0]&2|u[1]&70&&(f.$$scope={dirty:u,ctx:e}),!r&&u[0]&2&&(r=!0,f.list=e[1],Fe(()=>r=!1)),i.$set(f)},i(a){s||(O(i.$$.fragment,a),s=!0)},o(a){N(i.$$.fragment,a),s=!1},d(a){a&&k(t),Q(i,a)}}}function A_(n){let e,t,i,r,s,l=n[4].name+"",o,a,u,f,c=[],d=new Map,m,g=[],p=new Map,_,b,w,T,S,E,F,L,I,R,P,W,K=ke(n[5]);const U=Y=>Y[34]+Y[3].id;for(let Y=0;Y<K.length;Y+=1){let z=ga(n,K,Y),H=U(z);d.set(H,c[Y]=_a(H,z))}let te=ke(n[1]);const ne=Y=>Y[29].name+Y[31];for(let Y=0;Y<te.length;Y+=1){let z=pa(n,te,Y),H=ne(z);p.set(H,g[Y]=ba(H,z))}return{c(){var Y,z;e=y("label"),t=y("i"),r=q(),s=y("span"),o=re(l),u=q(),f=y("div");for(let H=0;H<c.length;H+=1)c[H].c();m=q();for(let H=0;H<g.length;H+=1)g[H].c();_=q(),b=y("div"),w=y("input"),S=q(),E=y("button"),F=y("i"),L=q(),I=y("span"),I.textContent="Upload new file",h(t,"class",i=A.getFieldTypeIcon(n[4].type)),h(s,"class","txt"),h(e,"for",a=n[28]),h(w,"type","file"),h(w,"class","hidden"),h(w,"accept",T=((z=(Y=n[4].options)==null?void 0:Y.mimeTypes)==null?void 0:z.join(","))||null),w.multiple=n[6],h(F,"class","ri-upload-cloud-line"),h(I,"class","txt"),h(E,"type","button"),h(E,"class","btn btn-transparent btn-sm btn-block"),E.disabled=n[11],h(b,"class","list-item list-item-btn"),h(f,"class","list")},m(Y,z){v(Y,e,z),C(e,t),C(e,r),C(e,s),C(s,o),v(Y,u,z),v(Y,f,z);for(let H=0;H<c.length;H+=1)c[H]&&c[H].m(f,null);C(f,m);for(let H=0;H<g.length;H+=1)g[H]&&g[H].m(f,null);C(f,_),C(f,b),C(b,w),n[21](w),C(b,S),C(b,E),C(E,F),C(E,L),C(E,I),n[24](f),R=!0,P||(W=[x(w,"change",n[22]),x(E,"click",n[23])],P=!0)},p(Y,z){var H,j;(!R||z[0]&16&&i!==(i=A.getFieldTypeIcon(Y[4].type)))&&h(t,"class",i),(!R||z[0]&16)&&l!==(l=Y[4].name+"")&&_e(o,l),(!R||z[0]&268435456&&a!==(a=Y[28]))&&h(e,"for",a),z[0]&13437|z[1]&6&&(K=ke(Y[5]),le(),c=pt(c,z,U,1,Y,K,d,f,Lt,_a,m,ga),oe()),z[0]&16466|z[1]&6&&(te=ke(Y[1]),le(),g=pt(g,z,ne,1,Y,te,p,f,Lt,ba,_,pa),oe()),(!R||z[0]&16&&T!==(T=((j=(H=Y[4].options)==null?void 0:H.mimeTypes)==null?void 0:j.join(","))||null))&&h(w,"accept",T),(!R||z[0]&64)&&(w.multiple=Y[6]),(!R||z[0]&2048)&&(E.disabled=Y[11])},i(Y){if(!R){for(let z=0;z<K.length;z+=1)O(c[z]);for(let z=0;z<te.length;z+=1)O(g[z]);R=!0}},o(Y){for(let z=0;z<c.length;z+=1)N(c[z]);for(let z=0;z<g.length;z+=1)N(g[z]);R=!1},d(Y){Y&&(k(e),k(u),k(f));for(let z=0;z<c.length;z+=1)c[z].d();for(let z=0;z<g.length;z+=1)g[z].d();n[21](null),n[24](null),P=!1,De(W)}}}function L_(n){let e,t,i,r,s;return t=new Ze({props:{class:`
            form-field form-field-list form-field-file
            `+(n[4].required?"required":"")+`
            `+(n[9]?"dragover":"")+`
        `,name:n[4].name,$$slots:{default:[A_,({uniqueId:l})=>({28:l}),({uniqueId:l})=>[l?268435456:0]]},$$scope:{ctx:n}}}),{c(){e=y("div"),X(t.$$.fragment),h(e,"class","block")},m(l,o){v(l,e,o),G(t,e,null),i=!0,r||(s=[x(e,"dragover",Qe(n[25])),x(e,"dragleave",n[26]),x(e,"drop",n[15])],r=!0)},p(l,o){const a={};o[0]&528&&(a.class=`
            form-field form-field-list form-field-file
            `+(l[4].required?"required":"")+`
            `+(l[9]?"dragover":"")+`
        `),o[0]&16&&(a.name=l[4].name),o[0]&268439039|o[1]&64&&(a.$$scope={dirty:o,ctx:l}),t.$set(a)},i(l){i||(O(t.$$.fragment,l),i=!0)},o(l){N(t.$$.fragment,l),i=!1},d(l){l&&k(e),Q(t),r=!1,De(s)}}}function F_(n,e,t){let i,r,s,{record:l}=e,{field:o}=e,{value:a=""}=e,{uploadedFiles:u=[]}=e,{deletedFileNames:f=[]}=e,c,d,m=!1,g="";function p(ne){A.removeByValue(f,ne),t(2,f)}function _(ne){A.pushUnique(f,ne),t(2,f)}function b(ne){A.isEmpty(u[ne])||u.splice(ne,1),t(1,u)}function w(){d==null||d.dispatchEvent(new CustomEvent("change",{detail:{value:a,uploadedFiles:u,deletedFileNames:f},bubbles:!0}))}function T(ne){var z,H;ne.preventDefault(),t(9,m=!1);const Y=((z=ne.dataTransfer)==null?void 0:z.files)||[];if(!(s||!Y.length)){for(const j of Y){const Ie=r.length+u.length-f.length;if(((H=o.options)==null?void 0:H.maxSelect)<=Ie)break;u.push(j)}t(1,u)}}Ft(async()=>{t(10,g=await Me.getAdminFileToken(l.collectionId))});const S=ne=>p(ne),E=ne=>_(ne);function F(ne){a=ne,t(0,a),t(6,i),t(4,o)}const L=ne=>b(ne);function I(ne){u=ne,t(1,u)}function R(ne){ue[ne?"unshift":"push"](()=>{c=ne,t(7,c)})}const P=()=>{for(let ne of c.files)u.push(ne);t(1,u),t(7,c.value=null,c)},W=()=>c==null?void 0:c.click();function K(ne){ue[ne?"unshift":"push"](()=>{d=ne,t(8,d)})}const U=()=>{t(9,m=!0)},te=()=>{t(9,m=!1)};return n.$$set=ne=>{"record"in ne&&t(3,l=ne.record),"field"in ne&&t(4,o=ne.field),"value"in ne&&t(0,a=ne.value),"uploadedFiles"in ne&&t(1,u=ne.uploadedFiles),"deletedFileNames"in ne&&t(2,f=ne.deletedFileNames)},n.$$.update=()=>{var ne,Y;n.$$.dirty[0]&2&&(Array.isArray(u)||t(1,u=A.toArray(u))),n.$$.dirty[0]&4&&(Array.isArray(f)||t(2,f=A.toArray(f))),n.$$.dirty[0]&16&&t(6,i=((ne=o.options)==null?void 0:ne.maxSelect)>1),n.$$.dirty[0]&65&&A.isEmpty(a)&&t(0,a=i?[]:""),n.$$.dirty[0]&1&&t(5,r=A.toArray(a)),n.$$.dirty[0]&54&&t(11,s=(r.length||u.length)&&((Y=o.options)==null?void 0:Y.maxSelect)<=r.length+u.length-f.length),n.$$.dirty[0]&6&&(u!==-1||f!==-1)&&w()},[a,u,f,l,o,r,i,c,d,m,g,s,p,_,b,T,S,E,F,L,I,R,P,W,K,U,te]}class P_ extends we{constructor(e){super(),ye(this,e,F_,L_,be,{record:3,field:4,value:0,uploadedFiles:1,deletedFileNames:2},null,[-1,-1])}}function ya(n){return typeof n=="function"?{threshold:100,callback:n}:n||{}}function R_(n,e){e=ya(e),e!=null&&e.callback&&e.callback();function t(i){if(!(e!=null&&e.callback))return;i.target.scrollHeight-i.target.clientHeight-i.target.scrollTop<=e.threshold&&e.callback()}return n.addEventListener("scroll",t),n.addEventListener("resize",t),{update(i){e=ya(i)},destroy(){n.removeEventListener("scroll",t),n.removeEventListener("resize",t)}}}function wa(n,e,t){const i=n.slice();return i[46]=e[t],i[48]=t,i}function ka(n,e,t){const i=n.slice();i[46]=e[t];const r=i[8](i[46]);return i[6]=r,i}function va(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<div class="txt">New record</div>',h(e,"type","button"),h(e,"class","btn btn-pill btn-transparent btn-hint p-l-xs p-r-xs")},m(r,s){v(r,e,s),t||(i=x(e,"click",n[30]),t=!0)},p:$,d(r){r&&k(e),t=!1,i()}}}function Sa(n){let e,t=!n[12]&&Ca(n);return{c(){t&&t.c(),e=ge()},m(i,r){t&&t.m(i,r),v(i,e,r)},p(i,r){i[12]?t&&(t.d(1),t=null):t?t.p(i,r):(t=Ca(i),t.c(),t.m(e.parentNode,e))},d(i){i&&k(e),t&&t.d(i)}}}function Ca(n){var s;let e,t,i,r=((s=n[2])==null?void 0:s.length)&&Ta(n);return{c(){e=y("div"),t=y("span"),t.textContent="No records found.",i=q(),r&&r.c(),h(t,"class","txt txt-hint"),h(e,"class","list-item")},m(l,o){v(l,e,o),C(e,t),C(e,i),r&&r.m(e,null)},p(l,o){var a;(a=l[2])!=null&&a.length?r?r.p(l,o):(r=Ta(l),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(l){l&&k(e),r&&r.d()}}}function Ta(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<span class="txt">Clear filters</span>',h(e,"type","button"),h(e,"class","btn btn-hint btn-sm")},m(r,s){v(r,e,s),t||(i=x(e,"click",n[34]),t=!0)},p:$,d(r){r&&k(e),t=!1,i()}}}function q_(n){let e;return{c(){e=y("i"),h(e,"class","ri-checkbox-blank-circle-line txt-disabled")},m(t,i){v(t,e,i)},d(t){t&&k(e)}}}function j_(n){let e;return{c(){e=y("i"),h(e,"class","ri-checkbox-circle-fill txt-success")},m(t,i){v(t,e,i)},d(t){t&&k(e)}}}function Da(n){let e,t,i,r;function s(){return n[31](n[46])}return{c(){e=y("div"),t=y("button"),t.innerHTML='<i class="ri-pencil-line"></i>',h(t,"type","button"),h(t,"class","btn btn-sm btn-circle btn-transparent btn-hint m-l-auto"),h(e,"class","actions nonintrusive")},m(l,o){v(l,e,o),C(e,t),i||(r=[He(Ge.call(null,t,"Edit")),x(t,"keydown",$t(n[26])),x(t,"click",$t(s))],i=!0)},p(l,o){n=l},d(l){l&&k(e),i=!1,De(r)}}}function Oa(n,e){let t,i,r,s,l,o,a,u;function f(_,b){return _[6]?j_:q_}let c=f(e),d=c(e);s=new vr({props:{record:e[46]}});let m=!e[10]&&Da(e);function g(){return e[32](e[46])}function p(..._){return e[33](e[46],..._)}return{key:n,first:null,c(){t=y("div"),d.c(),i=q(),r=y("div"),X(s.$$.fragment),l=q(),m&&m.c(),h(r,"class","content"),h(t,"tabindex","0"),h(t,"class","list-item handle"),J(t,"selected",e[6]),J(t,"disabled",!e[6]&&e[4]>1&&!e[9]),this.first=t},m(_,b){v(_,t,b),d.m(t,null),C(t,i),C(t,r),G(s,r,null),C(t,l),m&&m.m(t,null),o=!0,a||(u=[x(t,"click",g),x(t,"keydown",p)],a=!0)},p(_,b){e=_,c!==(c=f(e))&&(d.d(1),d=c(e),d&&(d.c(),d.m(t,i)));const w={};b[0]&128&&(w.record=e[46]),s.$set(w),e[10]?m&&(m.d(1),m=null):m?m.p(e,b):(m=Da(e),m.c(),m.m(t,null)),(!o||b[0]&384)&&J(t,"selected",e[6]),(!o||b[0]&912)&&J(t,"disabled",!e[6]&&e[4]>1&&!e[9])},i(_){o||(O(s.$$.fragment,_),o=!0)},o(_){N(s.$$.fragment,_),o=!1},d(_){_&&k(t),d.d(),Q(s),m&&m.d(),a=!1,De(u)}}}function Ea(n){let e;return{c(){e=y("div"),e.innerHTML='<div class="block txt-center"><span class="loader loader-sm active"></span></div>',h(e,"class","list-item")},m(t,i){v(t,e,i)},d(t){t&&k(e)}}}function Ma(n){let e,t=n[6].length+"",i,r,s,l;return{c(){e=re("("),i=re(t),r=re(" of MAX "),s=re(n[4]),l=re(")")},m(o,a){v(o,e,a),v(o,i,a),v(o,r,a),v(o,s,a),v(o,l,a)},p(o,a){a[0]&64&&t!==(t=o[6].length+"")&&_e(i,t),a[0]&16&&_e(s,o[4])},d(o){o&&(k(e),k(i),k(r),k(s),k(l))}}}function V_(n){let e;return{c(){e=y("p"),e.textContent="No selected records.",h(e,"class","txt-hint")},m(t,i){v(t,e,i)},p:$,i:$,o:$,d(t){t&&k(e)}}}function W_(n){let e,t,i=ke(n[6]),r=[];for(let l=0;l<i.length;l+=1)r[l]=Ia(wa(n,i,l));const s=l=>N(r[l],1,1,()=>{r[l]=null});return{c(){e=y("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","selected-list svelte-1u8jhky")},m(l,o){v(l,e,o);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);t=!0},p(l,o){if(o[0]&32832|o[1]&786432){i=ke(l[6]);let a;for(a=0;a<i.length;a+=1){const u=wa(l,i,a);r[a]?(r[a].p(u,o),O(r[a],1)):(r[a]=Ia(u),r[a].c(),O(r[a],1),r[a].m(e,null))}for(le(),a=i.length;a<r.length;a+=1)s(a);oe()}},i(l){if(!t){for(let o=0;o<i.length;o+=1)O(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)N(r[o]);t=!1},d(l){l&&k(e),cn(r,l)}}}function H_(n){let e,t,i,r,s,l,o,a;t=new vr({props:{record:n[46]}});function u(){return n[36](n[46])}return{c(){e=y("span"),X(t.$$.fragment),i=q(),r=y("button"),r.innerHTML='<i class="ri-close-line"></i>',s=q(),h(r,"type","button"),h(r,"title","Remove"),h(r,"class","btn btn-circle btn-transparent btn-hint btn-xs"),h(e,"class","label"),J(e,"label-danger",n[49]),J(e,"label-warning",n[50])},m(f,c){v(f,e,c),G(t,e,null),C(e,i),C(e,r),v(f,s,c),l=!0,o||(a=x(r,"click",u),o=!0)},p(f,c){n=f;const d={};c[0]&64&&(d.record=n[46]),t.$set(d),(!l||c[1]&262144)&&J(e,"label-danger",n[49]),(!l||c[1]&524288)&&J(e,"label-warning",n[50])},i(f){l||(O(t.$$.fragment,f),l=!0)},o(f){N(t.$$.fragment,f),l=!1},d(f){f&&(k(e),k(s)),Q(t),o=!1,a()}}}function Ia(n){let e,t,i;function r(l){n[37](l)}let s={index:n[48],$$slots:{default:[H_,({dragging:l,dragover:o})=>({49:l,50:o}),({dragging:l,dragover:o})=>[0,(l?262144:0)|(o?524288:0)]]},$$scope:{ctx:n}};return n[6]!==void 0&&(s.list=n[6]),e=new Sr({props:s}),ue.push(()=>Ae(e,"list",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){const a={};o[0]&64|o[1]&4980736&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&64&&(t=!0,a.list=l[6],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function U_(n){let e,t,i,r,s,l=[],o=new Map,a,u,f,c,d,m,g,p,_,b,w,T;t=new Ms({props:{value:n[2],autocompleteCollection:n[5]}}),t.$on("submit",n[29]);let S=!n[10]&&va(n),E=ke(n[7]);const F=U=>U[46].id;for(let U=0;U<E.length;U+=1){let te=ka(n,E,U),ne=F(te);o.set(ne,l[U]=Oa(ne,te))}let L=null;E.length||(L=Sa(n));let I=n[12]&&Ea(),R=n[4]>1&&Ma(n);const P=[W_,V_],W=[];function K(U,te){return U[6].length?0:1}return g=K(n),p=W[g]=P[g](n),{c(){e=y("div"),X(t.$$.fragment),i=q(),S&&S.c(),r=q(),s=y("div");for(let U=0;U<l.length;U+=1)l[U].c();L&&L.c(),a=q(),I&&I.c(),f=q(),c=y("h5"),d=re(`Selected
        `),R&&R.c(),m=q(),p.c(),_=ge(),h(e,"class","flex m-b-base flex-gap-10"),h(s,"class","list picker-list m-b-base svelte-1u8jhky"),h(c,"class","section-title")},m(U,te){v(U,e,te),G(t,e,null),C(e,i),S&&S.m(e,null),v(U,r,te),v(U,s,te);for(let ne=0;ne<l.length;ne+=1)l[ne]&&l[ne].m(s,null);L&&L.m(s,null),C(s,a),I&&I.m(s,null),v(U,f,te),v(U,c,te),C(c,d),R&&R.m(c,null),v(U,m,te),W[g].m(U,te),v(U,_,te),b=!0,w||(T=He(u=R_.call(null,s,n[35])),w=!0)},p(U,te){const ne={};te[0]&4&&(ne.value=U[2]),te[0]&32&&(ne.autocompleteCollection=U[5]),t.$set(ne),U[10]?S&&(S.d(1),S=null):S?S.p(U,te):(S=va(U),S.c(),S.m(e,null)),te[0]&79764&&(E=ke(U[7]),le(),l=pt(l,te,F,1,U,E,o,s,Lt,Oa,a,ka),oe(),!E.length&&L?L.p(U,te):E.length?L&&(L.d(1),L=null):(L=Sa(U),L.c(),L.m(s,a))),U[12]?I||(I=Ea(),I.c(),I.m(s,null)):I&&(I.d(1),I=null),u&&st(u.update)&&te[0]&2056&&u.update.call(null,U[35]),U[4]>1?R?R.p(U,te):(R=Ma(U),R.c(),R.m(c,null)):R&&(R.d(1),R=null);let Y=g;g=K(U),g===Y?W[g].p(U,te):(le(),N(W[Y],1,1,()=>{W[Y]=null}),oe(),p=W[g],p?p.p(U,te):(p=W[g]=P[g](U),p.c()),O(p,1),p.m(_.parentNode,_))},i(U){if(!b){O(t.$$.fragment,U);for(let te=0;te<E.length;te+=1)O(l[te]);O(p),b=!0}},o(U){N(t.$$.fragment,U);for(let te=0;te<l.length;te+=1)N(l[te]);N(p),b=!1},d(U){U&&(k(e),k(r),k(s),k(f),k(c),k(m),k(_)),Q(t),S&&S.d();for(let te=0;te<l.length;te+=1)l[te].d();L&&L.d(),I&&I.d(),R&&R.d(),W[g].d(U),w=!1,T()}}}function z_(n){var o;let e,t,i,r=(((o=n[5])==null?void 0:o.name)||"")+"",s,l;return{c(){e=y("h4"),t=re("Select "),i=y("strong"),s=re(r),l=re(" records")},m(a,u){v(a,e,u),C(e,t),C(e,i),C(i,s),C(e,l)},p(a,u){var f;u[0]&32&&r!==(r=(((f=a[5])==null?void 0:f.name)||"")+"")&&_e(s,r)},d(a){a&&k(e)}}}function Y_(n){let e,t,i,r,s;return{c(){e=y("button"),e.innerHTML='<span class="txt">Cancel</span>',t=q(),i=y("button"),i.innerHTML='<span class="txt">Set selection</span>',h(e,"type","button"),h(e,"class","btn btn-transparent"),h(i,"type","button"),h(i,"class","btn")},m(l,o){v(l,e,o),v(l,t,o),v(l,i,o),r||(s=[x(e,"click",n[27]),x(i,"click",n[28])],r=!0)},p:$,d(l){l&&(k(e),k(t),k(i)),r=!1,De(s)}}}function B_(n){let e,t;const i=[{popup:!0},{class:"overlay-panel-xl"},n[18]];let r={$$slots:{footer:[Y_],header:[z_],default:[U_]},$$scope:{ctx:n}};for(let s=0;s<i.length;s+=1)r=Je(r,i[s]);return e=new yr({props:r}),n[38](e),e.$on("hide",n[39]),e.$on("show",n[40]),{c(){X(e.$$.fragment)},m(s,l){G(e,s,l),t=!0},p(s,l){const o=l[0]&262144?Ht(i,[i[0],i[1],xt(s[18])]):{};l[0]&8188|l[1]&4194304&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){N(e.$$.fragment,s),t=!1},d(s){n[38](null),Q(e,s)}}}const Yi=50;function K_(n,e,t){let i,r,s,l,o,a,u,f;const c=["value","field","show","hide"];let d=ln(e,c),m;Ke(n,dn,de=>t(25,m=de));const g=gt(),p="picker_"+A.randomString(5);let{value:_}=e,{field:b}=e,w,T,S="",E=[],F=[],L=1,I=0,R=!1,P=!1;function W(){return t(2,S=""),t(7,E=[]),t(6,F=[]),U(),te(!0),w==null?void 0:w.show()}function K(){return w==null?void 0:w.hide()}async function U(){const de=A.toArray(_);if(!r||!de.length)return;t(23,P=!0);let Z=[];const Te=de.slice(),Xe=[];for(;Te.length>0;){const ot=[];for(const Pt of Te.splice(0,Yi))ot.push(`id="${Pt}"`);Xe.push(Me.collection(r).getFullList({batch:Yi,filter:ot.join("||"),fields:"*:excerpt(200)",requestKey:null}))}try{await Promise.all(Xe).then(ot=>{Z=Z.concat(...ot)}),t(6,F=[]);for(const ot of de){const Pt=A.findByKey(Z,"id",ot);Pt&&F.push(Pt)}S.trim()||t(7,E=A.filterDuplicatesByKey(F.concat(E))),t(23,P=!1)}catch(ot){ot.isAbort||(Me.error(ot),t(23,P=!1))}}async function te(de=!1){if(r){t(3,R=!0),de&&(S.trim()?t(7,E=[]):t(7,E=A.toArray(F).slice()));try{const Z=de?1:L+1,Te=A.getAllCollectionIdentifiers(s),Xe=await Me.collection(r).getList(Z,Yi,{filter:A.normalizeSearchFilter(S,Te),sort:l?"":"-created",fields:"*:excerpt(200)",skipTotal:1,requestKey:p+"loadList"});t(7,E=A.filterDuplicatesByKey(E.concat(Xe.items))),L=Xe.page,t(22,I=Xe.items.length),t(3,R=!1)}catch(Z){Z.isAbort||(Me.error(Z),t(3,R=!1))}}}function ne(de){i==1?t(6,F=[de]):u&&(A.pushOrReplaceByKey(F,de),t(6,F))}function Y(de){A.removeByKey(F,"id",de.id),t(6,F)}function z(de){f(de)?Y(de):ne(de)}function H(){var de;i!=1?t(19,_=F.map(Z=>Z.id)):t(19,_=((de=F==null?void 0:F[0])==null?void 0:de.id)||""),g("save",F),K()}function j(de){Ct.call(this,n,de)}const Ie=()=>K(),it=()=>H(),_t=de=>t(2,S=de.detail),Mt=()=>T==null?void 0:T.show(),Tt=de=>T==null?void 0:T.show(de),bt=de=>z(de),Dt=(de,Z)=>{(Z.code==="Enter"||Z.code==="Space")&&(Z.preventDefault(),Z.stopPropagation(),z(de))},et=()=>t(2,S=""),lt=()=>{a&&!R&&te()},ve=de=>Y(de);function qe(de){F=de,t(6,F)}function Ue(de){ue[de?"unshift":"push"](()=>{w=de,t(1,w)})}function je(de){Ct.call(this,n,de)}function rt(de){Ct.call(this,n,de)}return n.$$set=de=>{e=Je(Je({},e),Ti(de)),t(18,d=ln(e,c)),"value"in de&&t(19,_=de.value),"field"in de&&t(20,b=de.field)},n.$$.update=()=>{var de,Z;n.$$.dirty[0]&1048576&&t(4,i=((de=b==null?void 0:b.options)==null?void 0:de.maxSelect)||null),n.$$.dirty[0]&1048576&&t(24,r=(Z=b==null?void 0:b.options)==null?void 0:Z.collectionId),n.$$.dirty[0]&50331648&&t(5,s=m.find(Te=>Te.id==r)||null),n.$$.dirty[0]&6&&typeof S<"u"&&w!=null&&w.isActive()&&te(!0),n.$$.dirty[0]&32&&t(10,l=(s==null?void 0:s.type)==="view"),n.$$.dirty[0]&8388616&&t(12,o=R||P),n.$$.dirty[0]&4194304&&t(11,a=I==Yi),n.$$.dirty[0]&80&&t(9,u=i===null||i>F.length),n.$$.dirty[0]&64&&t(8,f=function(Te){return A.findByKey(F,"id",Te.id)})},[K,w,S,R,i,s,F,E,f,u,l,a,o,T,te,Y,z,H,d,_,b,W,I,P,r,m,j,Ie,it,_t,Mt,Tt,bt,Dt,et,lt,ve,qe,Ue,je,rt]}class Z_ extends we{constructor(e){super(),ye(this,e,K_,B_,be,{value:19,field:20,show:21,hide:0},null,[-1,-1])}get show(){return this.$$.ctx[21]}get hide(){return this.$$.ctx[0]}}function Na(n,e,t){const i=n.slice();return i[21]=e[t],i[23]=t,i}function Aa(n,e,t){const i=n.slice();return i[26]=e[t],i}function La(n){let e,t,i,r;return{c(){e=y("i"),h(e,"class","ri-error-warning-line link-hint m-l-auto flex-order-10")},m(s,l){v(s,e,l),i||(r=He(t=Ge.call(null,e,{position:"left",text:"The following relation ids were removed from the list because they are missing or invalid: "+n[6].join(", ")})),i=!0)},p(s,l){t&&st(t.update)&&l&64&&t.update.call(null,{position:"left",text:"The following relation ids were removed from the list because they are missing or invalid: "+s[6].join(", ")})},d(s){s&&k(e),i=!1,r()}}}function Fa(n){let e,t=n[5]&&Pa(n);return{c(){t&&t.c(),e=ge()},m(i,r){t&&t.m(i,r),v(i,e,r)},p(i,r){i[5]?t?t.p(i,r):(t=Pa(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&k(e),t&&t.d(i)}}}function Pa(n){let e,t=ke(A.toArray(n[0]).slice(0,10)),i=[];for(let r=0;r<t.length;r+=1)i[r]=Ra(Aa(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ge()},m(r,s){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(r,s);v(r,e,s)},p(r,s){if(s&1){t=ke(A.toArray(r[0]).slice(0,10));let l;for(l=0;l<t.length;l+=1){const o=Aa(r,t,l);i[l]?i[l].p(o,s):(i[l]=Ra(),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},d(r){r&&k(e),cn(i,r)}}}function Ra(n){let e;return{c(){e=y("div"),e.innerHTML='<div class="skeleton-loader"></div> ',h(e,"class","list-item")},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function J_(n){let e,t,i,r,s,l,o,a,u,f;i=new vr({props:{record:n[21]}});function c(){return n[11](n[21])}return{c(){e=y("div"),t=y("div"),X(i.$$.fragment),r=q(),s=y("div"),l=y("button"),l.innerHTML='<i class="ri-close-line"></i>',o=q(),h(t,"class","content"),h(l,"type","button"),h(l,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove"),h(s,"class","actions"),h(e,"class","list-item"),J(e,"dragging",n[24]),J(e,"dragover",n[25])},m(d,m){v(d,e,m),C(e,t),G(i,t,null),C(e,r),C(e,s),C(s,l),v(d,o,m),a=!0,u||(f=[He(Ge.call(null,l,"Remove")),x(l,"click",c)],u=!0)},p(d,m){n=d;const g={};m&16&&(g.record=n[21]),i.$set(g),(!a||m&16777216)&&J(e,"dragging",n[24]),(!a||m&33554432)&&J(e,"dragover",n[25])},i(d){a||(O(i.$$.fragment,d),a=!0)},o(d){N(i.$$.fragment,d),a=!1},d(d){d&&(k(e),k(o)),Q(i),u=!1,De(f)}}}function qa(n,e){let t,i,r,s;function l(a){e[12](a)}let o={group:e[2].name+"_relation",index:e[23],disabled:!e[7],$$slots:{default:[J_,({dragging:a,dragover:u})=>({24:a,25:u}),({dragging:a,dragover:u})=>(a?16777216:0)|(u?33554432:0)]},$$scope:{ctx:e}};return e[4]!==void 0&&(o.list=e[4]),i=new Sr({props:o}),ue.push(()=>Ae(i,"list",l)),i.$on("sort",e[13]),{key:n,first:null,c(){t=ge(),X(i.$$.fragment),this.first=t},m(a,u){v(a,t,u),G(i,a,u),s=!0},p(a,u){e=a;const f={};u&4&&(f.group=e[2].name+"_relation"),u&16&&(f.index=e[23]),u&128&&(f.disabled=!e[7]),u&587202576&&(f.$$scope={dirty:u,ctx:e}),!r&&u&16&&(r=!0,f.list=e[4],Fe(()=>r=!1)),i.$set(f)},i(a){s||(O(i.$$.fragment,a),s=!0)},o(a){N(i.$$.fragment,a),s=!1},d(a){a&&k(t),Q(i,a)}}}function G_(n){let e,t,i,r,s,l=n[2].name+"",o,a,u,f,c,d,m=[],g=new Map,p,_,b,w,T,S,E=n[6].length&&La(n),F=ke(n[4]);const L=R=>R[21].id;for(let R=0;R<F.length;R+=1){let P=Na(n,F,R),W=L(P);g.set(W,m[R]=qa(W,P))}let I=null;return F.length||(I=Fa(n)),{c(){e=y("label"),t=y("i"),r=q(),s=y("span"),o=re(l),a=q(),E&&E.c(),f=q(),c=y("div"),d=y("div");for(let R=0;R<m.length;R+=1)m[R].c();I&&I.c(),p=q(),_=y("div"),b=y("button"),b.innerHTML='<i class="ri-magic-line"></i> <span class="txt">Open picker</span>',h(t,"class",i=kn(A.getFieldTypeIcon(n[2].type))+" svelte-1ynw0pc"),h(s,"class","txt"),h(e,"for",u=n[20]),h(d,"class","relations-list svelte-1ynw0pc"),h(b,"type","button"),h(b,"class","btn btn-transparent btn-sm btn-block"),h(_,"class","list-item list-item-btn"),h(c,"class","list")},m(R,P){v(R,e,P),C(e,t),C(e,r),C(e,s),C(s,o),C(e,a),E&&E.m(e,null),v(R,f,P),v(R,c,P),C(c,d);for(let W=0;W<m.length;W+=1)m[W]&&m[W].m(d,null);I&&I.m(d,null),C(c,p),C(c,_),C(_,b),w=!0,T||(S=x(b,"click",n[14]),T=!0)},p(R,P){(!w||P&4&&i!==(i=kn(A.getFieldTypeIcon(R[2].type))+" svelte-1ynw0pc"))&&h(t,"class",i),(!w||P&4)&&l!==(l=R[2].name+"")&&_e(o,l),R[6].length?E?E.p(R,P):(E=La(R),E.c(),E.m(e,null)):E&&(E.d(1),E=null),(!w||P&1048576&&u!==(u=R[20]))&&h(e,"for",u),P&50332597&&(F=ke(R[4]),le(),m=pt(m,P,L,1,R,F,g,d,Lt,qa,null,Na),oe(),!F.length&&I?I.p(R,P):F.length?I&&(I.d(1),I=null):(I=Fa(R),I.c(),I.m(d,null)))},i(R){if(!w){for(let P=0;P<F.length;P+=1)O(m[P]);w=!0}},o(R){for(let P=0;P<m.length;P+=1)N(m[P]);w=!1},d(R){R&&(k(e),k(f),k(c)),E&&E.d();for(let P=0;P<m.length;P+=1)m[P].d();I&&I.d(),T=!1,S()}}}function Q_(n){let e,t,i,r,s={class:"form-field form-field-list "+(n[2].required?"required":""),name:n[2].name,$$slots:{default:[G_,({uniqueId:o})=>({20:o}),({uniqueId:o})=>o?1048576:0]},$$scope:{ctx:n}};e=new Ze({props:s}),n[15](e);let l={value:n[0],field:n[2]};return i=new Z_({props:l}),n[16](i),i.$on("save",n[17]),{c(){X(e.$$.fragment),t=q(),X(i.$$.fragment)},m(o,a){G(e,o,a),v(o,t,a),G(i,o,a),r=!0},p(o,[a]){const u={};a&4&&(u.class="form-field form-field-list "+(o[2].required?"required":"")),a&4&&(u.name=o[2].name),a&537919735&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const f={};a&1&&(f.value=o[0]),a&4&&(f.field=o[2]),i.$set(f)},i(o){r||(O(e.$$.fragment,o),O(i.$$.fragment,o),r=!0)},o(o){N(e.$$.fragment,o),N(i.$$.fragment,o),r=!1},d(o){o&&k(t),n[15](null),Q(e,o),n[16](null),Q(i,o)}}}const ja=100;function X_(n,e,t){let i,{field:r}=e,{value:s}=e,{picker:l}=e,o,a=[],u=!1,f,c=[];function d(){if(u)return!1;const L=A.toArray(s);return t(4,a=a.filter(I=>L.includes(I.id))),L.length!=a.length}async function m(){var P,W;const L=A.toArray(s);if(t(4,a=[]),t(6,c=[]),!((P=r==null?void 0:r.options)!=null&&P.collectionId)||!L.length){t(5,u=!1);return}t(5,u=!0);const I=L.slice(),R=[];for(;I.length>0;){const K=[];for(const U of I.splice(0,ja))K.push(`id="${U}"`);R.push(Me.collection((W=r==null?void 0:r.options)==null?void 0:W.collectionId).getFullList(ja,{filter:K.join("||"),fields:"*:excerpt(200)",requestKey:null}))}try{let K=[];await Promise.all(R).then(U=>{K=K.concat(...U)});for(const U of L){const te=A.findByKey(K,"id",U);te?a.push(te):c.push(U)}t(4,a),p()}catch(K){Me.error(K)}t(5,u=!1)}function g(L){A.removeByKey(a,"id",L.id),t(4,a),p()}function p(){var L;i?t(0,s=a.map(I=>I.id)):t(0,s=((L=a[0])==null?void 0:L.id)||"")}gu(()=>{clearTimeout(f)});const _=L=>g(L);function b(L){a=L,t(4,a)}const w=()=>{p()},T=()=>l==null?void 0:l.show();function S(L){ue[L?"unshift":"push"](()=>{o=L,t(3,o)})}function E(L){ue[L?"unshift":"push"](()=>{l=L,t(1,l)})}const F=L=>{var I;t(4,a=L.detail||[]),t(0,s=i?a.map(R=>R.id):((I=a[0])==null?void 0:I.id)||"")};return n.$$set=L=>{"field"in L&&t(2,r=L.field),"value"in L&&t(0,s=L.value),"picker"in L&&t(1,l=L.picker)},n.$$.update=()=>{var L;n.$$.dirty&4&&t(7,i=((L=r.options)==null?void 0:L.maxSelect)!=1),n.$$.dirty&9&&typeof s<"u"&&(o==null||o.changed()),n.$$.dirty&1041&&d()&&(t(5,u=!0),clearTimeout(f),t(10,f=setTimeout(m,0)))},[s,l,r,o,a,u,c,i,g,p,f,_,b,w,T,S,E,F]}class $_ extends we{constructor(e){super(),ye(this,e,X_,Q_,be,{field:2,value:0,picker:1})}}function Va(n){let e,t;return{c(){e=y("i"),h(e,"class",t="icon "+n[0].icon)},m(i,r){v(i,e,r)},p(i,r){r&1&&t!==(t="icon "+i[0].icon)&&h(e,"class",t)},d(i){i&&k(e)}}}function x_(n){let e,t,i=(n[0].label||n[0].name||n[0].title||n[0].id||n[0].value)+"",r,s=n[0].icon&&Va(n);return{c(){s&&s.c(),e=q(),t=y("span"),r=re(i),h(t,"class","txt")},m(l,o){s&&s.m(l,o),v(l,e,o),v(l,t,o),C(t,r)},p(l,[o]){l[0].icon?s?s.p(l,o):(s=Va(l),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),o&1&&i!==(i=(l[0].label||l[0].name||l[0].title||l[0].id||l[0].value)+"")&&_e(r,i)},i:$,o:$,d(l){l&&(k(e),k(t)),s&&s.d(l)}}}function e0(n,e,t){let{item:i={}}=e;return n.$$set=r=>{"item"in r&&t(0,i=r.item)},[i]}class Wa extends we{constructor(e){super(),ye(this,e,e0,x_,be,{item:0})}}const t0=n=>({}),Ha=n=>({});function n0(n){let e;const t=n[8].afterOptions,i=ut(t,n,n[12],Ha);return{c(){i&&i.c()},m(r,s){i&&i.m(r,s),e=!0},p(r,s){i&&i.p&&(!e||s&4096)&&ct(i,t,r,r[12],e?ft(t,r[12],s,t0):dt(r[12]),Ha)},i(r){e||(O(i,r),e=!0)},o(r){N(i,r),e=!1},d(r){i&&i.d(r)}}}function i0(n){let e,t,i;const r=[{items:n[1]},{multiple:n[2]},{labelComponent:n[3]},{optionComponent:n[4]},n[5]];function s(o){n[9](o)}let l={$$slots:{afterOptions:[n0]},$$scope:{ctx:n}};for(let o=0;o<r.length;o+=1)l=Je(l,r[o]);return n[0]!==void 0&&(l.selected=n[0]),e=new Bf({props:l}),ue.push(()=>Ae(e,"selected",s)),e.$on("show",n[10]),e.$on("hide",n[11]),{c(){X(e.$$.fragment)},m(o,a){G(e,o,a),i=!0},p(o,[a]){const u=a&62?Ht(r,[a&2&&{items:o[1]},a&4&&{multiple:o[2]},a&8&&{labelComponent:o[3]},a&16&&{optionComponent:o[4]},a&32&&xt(o[5])]):{};a&4096&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.selected=o[0],Fe(()=>t=!1)),e.$set(u)},i(o){i||(O(e.$$.fragment,o),i=!0)},o(o){N(e.$$.fragment,o),i=!1},d(o){Q(e,o)}}}function r0(n,e,t){const i=["items","multiple","selected","labelComponent","optionComponent","selectionKey","keyOfSelected"];let r=ln(e,i),{$$slots:s={},$$scope:l}=e,{items:o=[]}=e,{multiple:a=!1}=e,{selected:u=a?[]:void 0}=e,{labelComponent:f=Wa}=e,{optionComponent:c=Wa}=e,{selectionKey:d="value"}=e,{keyOfSelected:m=a?[]:void 0}=e;function g(T){T=A.toArray(T,!0);let S=[];for(let E of T){const F=A.findByKey(o,d,E);F&&S.push(F)}T.length&&!S.length||t(0,u=a?S:S[0])}async function p(T){let S=A.toArray(T,!0).map(E=>E[d]);o.length&&t(6,m=a?S:S[0])}function _(T){u=T,t(0,u)}function b(T){Ct.call(this,n,T)}function w(T){Ct.call(this,n,T)}return n.$$set=T=>{e=Je(Je({},e),Ti(T)),t(5,r=ln(e,i)),"items"in T&&t(1,o=T.items),"multiple"in T&&t(2,a=T.multiple),"selected"in T&&t(0,u=T.selected),"labelComponent"in T&&t(3,f=T.labelComponent),"optionComponent"in T&&t(4,c=T.optionComponent),"selectionKey"in T&&t(7,d=T.selectionKey),"keyOfSelected"in T&&t(6,m=T.keyOfSelected),"$$scope"in T&&t(12,l=T.$$scope)},n.$$.update=()=>{n.$$.dirty&66&&o&&g(m),n.$$.dirty&1&&p(u)},[u,o,a,f,c,r,m,d,s,_,b,w,l]}class s0 extends we{constructor(e){super(),ye(this,e,r0,i0,be,{items:1,multiple:2,selected:0,labelComponent:3,optionComponent:4,selectionKey:7,keyOfSelected:6})}}function Ua(n,e,t){const i=n.slice();i[41]=e[t];const r=i[19](i[41]);return i[42]=r,i}function za(n,e,t){const i=n.slice();return i[45]=e[t],i}function Ya(n,e,t){const i=n.slice();return i[48]=e[t],i}function l0(n){let e,t,i=[],r=new Map,s,l,o,a,u,f,c,d,m,g,p,_=ke(n[7]);const b=w=>w[48].id;for(let w=0;w<_.length;w+=1){let T=Ya(n,_,w),S=b(T);r.set(S,i[w]=Ba(S,T))}return a=new Ms({props:{value:n[4],placeholder:"Record search term or filter...",autocompleteCollection:n[8]}}),a.$on("submit",n[30]),d=new Wf({props:{class:"files-list",vThreshold:100,$$slots:{default:[d0]},$$scope:{ctx:n}}}),d.$on("vScrollEnd",n[32]),{c(){e=y("div"),t=y("aside");for(let w=0;w<i.length;w+=1)i[w].c();s=q(),l=y("div"),o=y("div"),X(a.$$.fragment),u=q(),f=y("button"),f.innerHTML='<div class="txt">New record</div>',c=q(),X(d.$$.fragment),h(t,"class","file-picker-sidebar"),h(f,"type","button"),h(f,"class","btn btn-pill btn-transparent btn-hint p-l-xs p-r-xs"),h(o,"class","flex m-b-base flex-gap-10"),h(l,"class","file-picker-content"),h(e,"class","file-picker")},m(w,T){v(w,e,T),C(e,t);for(let S=0;S<i.length;S+=1)i[S]&&i[S].m(t,null);C(e,s),C(e,l),C(l,o),G(a,o,null),C(o,u),C(o,f),C(l,c),G(d,l,null),m=!0,g||(p=x(f,"click",n[31]),g=!0)},p(w,T){T[0]&384&&(_=ke(w[7]),i=pt(i,T,b,1,w,_,r,t,fs,Ba,null,Ya));const S={};T[0]&16&&(S.value=w[4]),T[0]&256&&(S.autocompleteCollection=w[8]),a.$set(S);const E={};T[0]&49264|T[1]&1048576&&(E.$$scope={dirty:T,ctx:w}),d.$set(E)},i(w){m||(O(a.$$.fragment,w),O(d.$$.fragment,w),m=!0)},o(w){N(a.$$.fragment,w),N(d.$$.fragment,w),m=!1},d(w){w&&k(e);for(let T=0;T<i.length;T+=1)i[T].d();Q(a),Q(d),g=!1,p()}}}function o0(n){let e;return{c(){e=y("h6"),e.innerHTML="You currently don&#39;t have any collection with <code>file</code> field.",h(e,"class","txt-center txt-hint")},m(t,i){v(t,e,i)},p:$,i:$,o:$,d(t){t&&k(e)}}}function Ba(n,e){let t,i=e[48].name+"",r,s,l,o;function a(){return e[29](e[48])}return{key:n,first:null,c(){var u;t=y("button"),r=re(i),s=q(),h(t,"type","button"),h(t,"class","sidebar-item"),J(t,"active",((u=e[8])==null?void 0:u.id)==e[48].id),this.first=t},m(u,f){v(u,t,f),C(t,r),C(t,s),l||(o=x(t,"click",Qe(a)),l=!0)},p(u,f){var c;e=u,f[0]&128&&i!==(i=e[48].name+"")&&_e(r,i),f[0]&384&&J(t,"active",((c=e[8])==null?void 0:c.id)==e[48].id)},d(u){u&&k(t),l=!1,o()}}}function a0(n){var s;let e,t,i,r=((s=n[4])==null?void 0:s.length)&&Ka(n);return{c(){e=y("div"),t=y("span"),t.textContent="No records with images found.",i=q(),r&&r.c(),h(t,"class","txt txt-hint"),h(e,"class","inline-flex")},m(l,o){v(l,e,o),C(e,t),C(e,i),r&&r.m(e,null)},p(l,o){var a;(a=l[4])!=null&&a.length?r?r.p(l,o):(r=Ka(l),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(l){l&&k(e),r&&r.d()}}}function u0(n){let e=[],t=new Map,i,r=ke(n[5]);const s=l=>l[41].id;for(let l=0;l<r.length;l+=1){let o=Ua(n,r,l),a=s(o);t.set(a,e[l]=Ja(a,o))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();i=ge()},m(l,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(l,o);v(l,i,o)},p(l,o){o[0]&1605664&&(r=ke(l[5]),e=pt(e,o,s,1,l,r,t,i.parentNode,fs,Ja,i,Ua))},d(l){l&&k(i);for(let o=0;o<e.length;o+=1)e[o].d(l)}}}function Ka(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<span class="txt">Clear filter</span>',h(e,"type","button"),h(e,"class","btn btn-hint btn-sm")},m(r,s){v(r,e,s),t||(i=x(e,"click",Qe(n[17])),t=!0)},p:$,d(r){r&&k(e),t=!1,i()}}}function f0(n){let e;return{c(){e=y("i"),h(e,"class","ri-file-3-line")},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function c0(n){let e,t,i;return{c(){e=y("img"),h(e,"loading","lazy"),sn(e.src,t=Me.files.getUrl(n[41],n[45],{thumb:"100x100"}))||h(e,"src",t),h(e,"alt",i=n[45])},m(r,s){v(r,e,s)},p(r,s){s[0]&32&&!sn(e.src,t=Me.files.getUrl(r[41],r[45],{thumb:"100x100"}))&&h(e,"src",t),s[0]&32&&i!==(i=r[45])&&h(e,"alt",i)},d(r){r&&k(e)}}}function Za(n){let e,t,i,r,s,l;function o(f,c){return c[0]&32&&(t=null),t==null&&(t=!!A.hasImageExtension(f[45])),t?c0:f0}let a=o(n,[-1,-1]),u=a(n);return{c(){e=y("button"),u.c(),i=q(),h(e,"type","button"),h(e,"class","thumb handle"),J(e,"thumb-warning",n[15](n[41],n[45]))},m(f,c){v(f,e,c),u.m(e,null),C(e,i),s||(l=[He(r=Ge.call(null,e,n[45]+`
(record: `+n[41].id+")")),x(e,"click",Qe(function(){st(n[20](n[41],n[45]))&&n[20](n[41],n[45]).apply(this,arguments)}))],s=!0)},p(f,c){n=f,a===(a=o(n,c))&&u?u.p(n,c):(u.d(1),u=a(n),u&&(u.c(),u.m(e,i))),r&&st(r.update)&&c[0]&32&&r.update.call(null,n[45]+`
(record: `+n[41].id+")"),c[0]&557088&&J(e,"thumb-warning",n[15](n[41],n[45]))},d(f){f&&k(e),u.d(),s=!1,De(l)}}}function Ja(n,e){let t,i,r=ke(e[42]),s=[];for(let l=0;l<r.length;l+=1)s[l]=Za(za(e,r,l));return{key:n,first:null,c(){t=ge();for(let l=0;l<s.length;l+=1)s[l].c();i=ge(),this.first=t},m(l,o){v(l,t,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(l,o);v(l,i,o)},p(l,o){if(e=l,o[0]&1605664){r=ke(e[42]);let a;for(a=0;a<r.length;a+=1){const u=za(e,r,a);s[a]?s[a].p(u,o):(s[a]=Za(u),s[a].c(),s[a].m(i.parentNode,i))}for(;a<s.length;a+=1)s[a].d(1);s.length=r.length}},d(l){l&&(k(t),k(i)),cn(s,l)}}}function Ga(n){let e;return{c(){e=y("div"),e.innerHTML='<span class="loader loader-sm active"></span>',h(e,"class","block txt-center")},m(t,i){v(t,e,i)},d(t){t&&k(e)}}}function d0(n){let e,t;function i(o,a){if(o[14])return u0;if(!o[6])return a0}let r=i(n),s=r&&r(n),l=n[6]&&Ga();return{c(){s&&s.c(),e=q(),l&&l.c(),t=ge()},m(o,a){s&&s.m(o,a),v(o,e,a),l&&l.m(o,a),v(o,t,a)},p(o,a){r===(r=i(o))&&s?s.p(o,a):(s&&s.d(1),s=r&&r(o),s&&(s.c(),s.m(e.parentNode,e))),o[6]?l||(l=Ga(),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(o){o&&(k(e),k(t)),s&&s.d(o),l&&l.d(o)}}}function m0(n){let e,t,i,r;const s=[o0,l0],l=[];function o(a,u){return a[7].length?1:0}return e=o(n),t=l[e]=s[e](n),{c(){t.c(),i=ge()},m(a,u){l[e].m(a,u),v(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?l[e].p(a,u):(le(),N(l[f],1,1,()=>{l[f]=null}),oe(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&k(i),l[e].d(a)}}}function h0(n){let e,t;return{c(){e=y("h4"),t=re(n[0])},m(i,r){v(i,e,r),C(e,t)},p(i,r){r[0]&1&&_e(t,i[0])},d(i){i&&k(e)}}}function Qa(n){let e,t;return e=new Ze({props:{class:"form-field file-picker-size-select",$$slots:{default:[p0,({uniqueId:i})=>({23:i}),({uniqueId:i})=>[i?8388608:0]]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,r){const s={};r[0]&8395776|r[1]&1048576&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function p0(n){let e,t,i;function r(l){n[28](l)}let s={upside:!0,id:n[23],items:n[10],disabled:!n[12],selectPlaceholder:"Select size"};return n[11]!==void 0&&(s.keyOfSelected=n[11]),e=new s0({props:s}),ue.push(()=>Ae(e,"keyOfSelected",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){const a={};o[0]&8388608&&(a.id=l[23]),o[0]&1024&&(a.items=l[10]),o[0]&4096&&(a.disabled=!l[12]),!t&&o[0]&2048&&(t=!0,a.keyOfSelected=l[11],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function g0(n){var g;let e,t,i,r=A.hasImageExtension((g=n[9])==null?void 0:g.name),s,l,o,a,u,f,c,d,m=r&&Qa(n);return{c(){e=y("button"),t=y("span"),t.textContent="Cancel",i=q(),m&&m.c(),s=q(),l=y("button"),o=y("span"),a=re(n[1]),h(t,"class","txt"),h(e,"type","button"),h(e,"class","btn btn-transparent m-r-auto"),e.disabled=n[6],h(o,"class","txt"),h(l,"type","button"),h(l,"class","btn btn-expanded"),l.disabled=u=!n[12]},m(p,_){v(p,e,_),C(e,t),v(p,i,_),m&&m.m(p,_),v(p,s,_),v(p,l,_),C(l,o),C(o,a),f=!0,c||(d=[x(e,"click",n[2]),x(l,"click",n[21])],c=!0)},p(p,_){var b;(!f||_[0]&64)&&(e.disabled=p[6]),_[0]&512&&(r=A.hasImageExtension((b=p[9])==null?void 0:b.name)),r?m?(m.p(p,_),_[0]&512&&O(m,1)):(m=Qa(p),m.c(),O(m,1),m.m(s.parentNode,s)):m&&(le(),N(m,1,1,()=>{m=null}),oe()),(!f||_[0]&2)&&_e(a,p[1]),(!f||_[0]&4096&&u!==(u=!p[12]))&&(l.disabled=u)},i(p){f||(O(m),f=!0)},o(p){N(m),f=!1},d(p){p&&(k(e),k(i),k(s),k(l)),m&&m.d(p),c=!1,De(d)}}}function _0(n){let e,t;const i=[{popup:!0},{class:"file-picker-popup"},n[22]];let r={$$slots:{footer:[g0],header:[h0],default:[m0]},$$scope:{ctx:n}};for(let s=0;s<i.length;s+=1)r=Je(r,i[s]);return e=new yr({props:r}),n[33](e),e.$on("hide",n[34]),e.$on("show",n[35]),{c(){X(e.$$.fragment)},m(s,l){G(e,s,l),t=!0},p(s,l){const o=l[0]&4194304?Ht(i,[i[0],i[1],xt(s[22])]):{};l[0]&65523|l[1]&1048576&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){N(e.$$.fragment,s),t=!1},d(s){n[33](null),Q(e,s)}}}const Xa=50;function b0(n,e,t){let i,r,s,l;const o=["title","submitText","fileTypes","show","hide"];let a=ln(e,o),u;Ke(n,dn,ve=>t(27,u=ve));const f=gt(),c="file_picker_"+A.randomString(5);let{title:d="Select a file"}=e,{submitText:m="Insert"}=e,{fileTypes:g=["image","document","video","audio","file"]}=e,p,_,b="",w=[],T=1,S=0,E=!1,F=[],L=[],I=[],R={},P={},W="";function K(){return Y(!0),p==null?void 0:p.show()}function U(){return p==null?void 0:p.hide()}function te(){t(5,w=[]),t(9,P={}),t(11,W="")}function ne(){t(4,b="")}async function Y(ve=!1){if(R!=null&&R.id){t(6,E=!0),ve&&te();try{const qe=ve?1:T+1,Ue=A.getAllCollectionIdentifiers(R);let je=A.normalizeSearchFilter(b,Ue)||"";je&&(je+=" && "),je+="("+L.map(de=>`${de.name}:length>0`).join("||")+")";const rt=await Me.collection(R.id).getList(qe,Xa,{filter:je,sort:"-created",fields:"*:excerpt(100)",skipTotal:1,requestKey:c+"loadImagePicker"});t(5,w=A.filterDuplicatesByKey(w.concat(rt.items))),T=rt.page,t(26,S=rt.items.length),t(6,E=!1)}catch(qe){qe.isAbort||(Me.error(qe),t(6,E=!1))}}}function z(){var qe,Ue;let ve=["100x100"];if((qe=P==null?void 0:P.record)!=null&&qe.id){for(const je of L)if(A.toArray(P.record[je.name]).includes(P.name)){ve=ve.concat(A.toArray((Ue=je.options)==null?void 0:Ue.thumbs));break}}t(10,I=[{label:"Original size",value:""}]);for(const je of ve)I.push({label:`${je} thumb`,value:je});W&&!ve.includes(W)&&t(11,W="")}function H(ve){let qe=[];for(const Ue of L){const je=A.toArray(ve[Ue.name]);for(const rt of je)g.includes(A.getFileType(rt))&&qe.push(rt)}return qe}function j(ve,qe){t(9,P={record:ve,name:qe})}function Ie(){l&&(f("submit",Object.assign({size:W},P)),U())}function it(ve){W=ve,t(11,W)}const _t=ve=>{t(8,R=ve)},Mt=ve=>t(4,b=ve.detail),Tt=()=>_==null?void 0:_.show(),bt=()=>{s&&Y()};function Dt(ve){ue[ve?"unshift":"push"](()=>{p=ve,t(3,p)})}function et(ve){Ct.call(this,n,ve)}function lt(ve){Ct.call(this,n,ve)}return n.$$set=ve=>{e=Je(Je({},e),Ti(ve)),t(22,a=ln(e,o)),"title"in ve&&t(0,d=ve.title),"submitText"in ve&&t(1,m=ve.submitText),"fileTypes"in ve&&t(24,g=ve.fileTypes)},n.$$.update=()=>{var ve;n.$$.dirty[0]&134217728&&t(7,F=u.filter(qe=>qe.type!=="view"&&!!A.toArray(qe.schema).find(Ue=>{var je,rt,de,Z,Te;return Ue.type==="file"&&!((je=Ue.options)!=null&&je.protected)&&(!((de=(rt=Ue.options)==null?void 0:rt.mimeTypes)!=null&&de.length)||!!((Te=(Z=Ue.options)==null?void 0:Z.mimeTypes)!=null&&Te.find(Xe=>Xe.startsWith("image/"))))}))),n.$$.dirty[0]&384&&!(R!=null&&R.id)&&F.length>0&&t(8,R=F[0]),n.$$.dirty[0]&256&&(L=(ve=R==null?void 0:R.schema)==null?void 0:ve.filter(qe=>{var Ue;return qe.type==="file"&&!((Ue=qe.options)!=null&&Ue.protected)})),n.$$.dirty[0]&256&&R!=null&&R.id&&(ne(),z()),n.$$.dirty[0]&512&&P!=null&&P.name&&z(),n.$$.dirty[0]&280&&typeof b<"u"&&R!=null&&R.id&&p!=null&&p.isActive()&&Y(!0),n.$$.dirty[0]&512&&t(15,i=(qe,Ue)=>{var je;return(P==null?void 0:P.name)==Ue&&((je=P==null?void 0:P.record)==null?void 0:je.id)==qe.id}),n.$$.dirty[0]&32&&t(14,r=w.find(qe=>H(qe).length>0)),n.$$.dirty[0]&67108928&&t(13,s=!E&&S==Xa),n.$$.dirty[0]&576&&t(12,l=!E&&!!(P!=null&&P.name))},[d,m,U,p,b,w,E,F,R,P,I,W,l,s,r,i,_,ne,Y,H,j,Ie,a,c,g,K,S,u,it,_t,Mt,Tt,bt,Dt,et,lt]}class y0 extends we{constructor(e){super(),ye(this,e,b0,_0,be,{title:0,submitText:1,fileTypes:24,show:25,hide:2},null,[-1,-1])}get show(){return this.$$.ctx[25]}get hide(){return this.$$.ctx[2]}}function w0(n){let e;return{c(){e=y("div"),h(e,"class","tinymce-wrapper")},m(t,i){v(t,e,i)},p:$,i:$,o:$,d(t){t&&k(e)}}}function k0(n){let e,t,i;function r(l){n[6](l)}let s={id:n[11],conf:n[5]};return n[0]!==void 0&&(s.value=n[0]),e=new Hf({props:s}),ue.push(()=>Ae(e,"value",r)),e.$on("init",n[7]),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){const a={};o&2048&&(a.id=l[11]),o&32&&(a.conf=l[5]),!t&&o&1&&(t=!0,a.value=l[0],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function v0(n){let e,t,i,r,s,l=n[1].name+"",o,a,u,f,c,d,m;const g=[k0,w0],p=[];function _(b,w){return b[4]?0:1}return f=_(n),c=p[f]=g[f](n),{c(){e=y("label"),t=y("i"),r=q(),s=y("span"),o=re(l),u=q(),c.c(),d=ge(),h(t,"class",i=A.getFieldTypeIcon(n[1].type)),h(s,"class","txt"),h(e,"for",a=n[11])},m(b,w){v(b,e,w),C(e,t),C(e,r),C(e,s),C(s,o),v(b,u,w),p[f].m(b,w),v(b,d,w),m=!0},p(b,w){(!m||w&2&&i!==(i=A.getFieldTypeIcon(b[1].type)))&&h(t,"class",i),(!m||w&2)&&l!==(l=b[1].name+"")&&_e(o,l),(!m||w&2048&&a!==(a=b[11]))&&h(e,"for",a);let T=f;f=_(b),f===T?p[f].p(b,w):(le(),N(p[T],1,1,()=>{p[T]=null}),oe(),c=p[f],c?c.p(b,w):(c=p[f]=g[f](b),c.c()),O(c,1),c.m(d.parentNode,d))},i(b){m||(O(c),m=!0)},o(b){N(c),m=!1},d(b){b&&(k(e),k(u),k(d)),p[f].d(b)}}}function S0(n){let e,t,i,r;e=new Ze({props:{class:"form-field form-field-editor "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[v0,({uniqueId:l})=>({11:l}),({uniqueId:l})=>l?2048:0]},$$scope:{ctx:n}}});let s={title:"Select an image",fileTypes:["image"]};return i=new y0({props:s}),n[8](i),i.$on("submit",n[9]),{c(){X(e.$$.fragment),t=q(),X(i.$$.fragment)},m(l,o){G(e,l,o),v(l,t,o),G(i,l,o),r=!0},p(l,[o]){const a={};o&2&&(a.class="form-field form-field-editor "+(l[1].required?"required":"")),o&2&&(a.name=l[1].name),o&6207&&(a.$$scope={dirty:o,ctx:l}),e.$set(a);const u={};i.$set(u)},i(l){r||(O(e.$$.fragment,l),O(i.$$.fragment,l),r=!0)},o(l){N(e.$$.fragment,l),N(i.$$.fragment,l),r=!1},d(l){l&&k(t),Q(e,l),n[8](null),Q(i,l)}}}function C0(n,e,t){let i,{field:r}=e,{value:s=""}=e,l,o,a=!1,u=null;Ft(async()=>(typeof s>"u"&&t(0,s=""),u=setTimeout(()=>{t(4,a=!0)},100),()=>{clearTimeout(u)}));function f(g){s=g,t(0,s)}const c=g=>{t(3,o=g.detail.editor),o.on("collections_file_picker",()=>{l==null||l.show()})};function d(g){ue[g?"unshift":"push"](()=>{l=g,t(2,l)})}const m=g=>{o==null||o.execCommand("InsertImage",!1,Me.files.getUrl(g.detail.record,g.detail.name,{thumb:g.detail.size}))};return n.$$set=g=>{"field"in g&&t(1,r=g.field),"value"in g&&t(0,s=g.value)},n.$$.update=()=>{var g;n.$$.dirty&2&&t(5,i=Object.assign(A.defaultEditorOptions(),{convert_urls:(g=r.options)==null?void 0:g.convertUrls,relative_urls:!1})),n.$$.dirty&1&&typeof s>"u"&&t(0,s="")},[s,r,l,o,a,i,f,c,d,m]}class T0 extends we{constructor(e){super(),ye(this,e,C0,S0,be,{field:1,value:0})}}function $a(n,e,t){const i=n.slice();return i[68]=e[t],i[69]=e,i[70]=t,i}function D0(n){let e,t,i,r;return e=new Vf({}),i=new Ln({props:{class:"flex-content",$$slots:{default:[z0]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment),t=q(),X(i.$$.fragment)},m(s,l){G(e,s,l),v(s,t,l),G(i,s,l),r=!0},p(s,l){const o={};l[0]&32510|l[2]&512&&(o.$$scope={dirty:l,ctx:s}),i.$set(o)},i(s){r||(O(e.$$.fragment,s),O(i.$$.fragment,s),r=!0)},o(s){N(e.$$.fragment,s),N(i.$$.fragment,s),r=!1},d(s){s&&k(t),Q(e,s),Q(i,s)}}}function O0(n){let e,t;return e=new Ln({props:{center:!0,class:"center-content",$$slots:{default:[Y0]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,r){const s={};r[2]&512&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function E0(n){let e,t;return e=new Ln({props:{center:!0,$$slots:{default:[B0]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,r){const s={};r[2]&512&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function M0(n){let e,t,i,r,s,l,o,a,u,f,c,d=!n[4]&&xa(n),m=(n[7].updateRule!==null||n[7].createRule!==null)&&tu(n);return{c(){e=y("div"),t=q(),d&&d.c(),i=q(),r=y("button"),s=y("span"),s.textContent="Cancel",o=q(),m&&m.c(),a=ge(),h(e,"class","flex-fill"),h(s,"class","txt"),h(r,"type","button"),h(r,"class","btn btn-transparent"),r.disabled=l=n[10]||n[5]},m(g,p){v(g,e,p),v(g,t,p),d&&d.m(g,p),v(g,i,p),v(g,r,p),C(r,s),v(g,o,p),m&&m.m(g,p),v(g,a,p),u=!0,f||(c=x(r,"click",n[33]),f=!0)},p(g,p){g[4]?d&&(le(),N(d,1,1,()=>{d=null}),oe()):d?(d.p(g,p),p[0]&16&&O(d,1)):(d=xa(g),d.c(),O(d,1),d.m(i.parentNode,i)),(!u||p[0]&1056&&l!==(l=g[10]||g[5]))&&(r.disabled=l),g[7].updateRule!==null||g[7].createRule!==null?m?m.p(g,p):(m=tu(g),m.c(),m.m(a.parentNode,a)):m&&(m.d(1),m=null)},i(g){u||(O(d),u=!0)},o(g){N(d),u=!1},d(g){g&&(k(e),k(t),k(i),k(r),k(o),k(a)),d&&d.d(g),m&&m.d(g),f=!1,c()}}}function I0(n){let e,t,i;return{c(){e=y("span"),t=q(),i=y("h4"),i.textContent="Loading...",h(e,"class","loader loader-sm"),h(i,"class","panel-title txt-hint svelte-qc5ngu")},m(r,s){v(r,e,s),v(r,t,s),v(r,i,s)},p:$,i:$,o:$,d(r){r&&(k(e),k(t),k(i))}}}function xa(n){let e,t,i,r,s;return r=new Ni({props:{class:"dropdown dropdown-right dropdown-nowrap",$$slots:{default:[N0]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("i"),i=q(),X(r.$$.fragment),h(t,"class","ri-more-line"),h(t,"aria-hidden","true"),h(e,"tabindex","0"),h(e,"role","button"),h(e,"aria-label","More record options"),h(e,"class","btn btn-sm btn-circle btn-transparent flex-gap-0")},m(l,o){v(l,e,o),C(e,t),C(e,i),G(r,e,null),s=!0},p(l,o){const a={};o[0]&128|o[2]&512&&(a.$$scope={dirty:o,ctx:l}),r.$set(a)},i(l){s||(O(r.$$.fragment,l),s=!0)},o(l){N(r.$$.fragment,l),s=!1},d(l){l&&k(e),Q(r)}}}function eu(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<i class="ri-delete-bin-7-line"></i> <span class="txt">Delete</span>',h(e,"type","button"),h(e,"class","dropdown-item txt-danger closable"),h(e,"role","menuitem")},m(r,s){v(r,e,s),t||(i=x(e,"click",$t(Qe(n[32]))),t=!0)},p:$,d(r){r&&k(e),t=!1,i()}}}function N0(n){let e,t,i,r,s,l=n[7].deleteRule&&eu(n);return{c(){e=y("button"),e.innerHTML='<i class="ri-file-copy-line"></i> <span class="txt">Duplicate</span>',t=q(),l&&l.c(),i=ge(),h(e,"type","button"),h(e,"class","dropdown-item closable"),h(e,"role","menuitem")},m(o,a){v(o,e,a),v(o,t,a),l&&l.m(o,a),v(o,i,a),r||(s=x(e,"click",n[31]),r=!0)},p(o,a){o[7].deleteRule?l?l.p(o,a):(l=eu(o),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},d(o){o&&(k(e),k(t),k(i)),l&&l.d(o),r=!1,s()}}}function tu(n){let e,t,i=n[4]?"Create":"Save changes",r,s;return{c(){e=y("button"),t=y("span"),r=re(i),h(t,"class","txt"),h(e,"type","submit"),h(e,"form",n[16]),h(e,"class","btn btn-expanded"),e.disabled=s=!n[13]||n[10],J(e,"btn-loading",n[10]||n[5])},m(l,o){v(l,e,o),C(e,t),C(t,r)},p(l,o){o[0]&16&&i!==(i=l[4]?"Create":"Save changes")&&_e(r,i),o[0]&9216&&s!==(s=!l[13]||l[10])&&(e.disabled=s),o[0]&1056&&J(e,"btn-loading",l[10]||l[5])},d(l){l&&k(e)}}}function nu(n){let e,t,i,r,s,l,o,a,u,f,c,d,m,g,p;return{c(){e=y("div"),t=y("div"),i=y("div"),i.innerHTML='<i class="ri-information-line"></i>',r=q(),s=y("div"),l=re(`The record has previous unsaved changes.
                                `),o=y("button"),o.textContent="Restore draft",a=q(),u=y("button"),u.innerHTML='<i class="ri-close-line"></i>',f=q(),c=y("div"),h(i,"class","icon"),h(o,"type","button"),h(o,"class","btn btn-sm btn-secondary"),h(s,"class","flex flex-gap-xs"),h(u,"type","button"),h(u,"class","close"),h(u,"aria-label","Discard draft"),h(t,"class","alert alert-info m-0"),h(c,"class","clearfix p-b-base"),h(e,"class","block")},m(_,b){v(_,e,b),C(e,t),C(t,i),C(t,r),C(t,s),C(s,l),C(s,o),C(t,a),C(t,u),C(e,f),C(e,c),m=!0,g||(p=[x(o,"click",n[34]),He(Ge.call(null,u,"Discard draft")),x(u,"click",Qe(n[35]))],g=!0)},p:$,i(_){m||(d&&d.end(1),m=!0)},o(_){_&&(d=us(e,Xn,{duration:150})),m=!1},d(_){_&&k(e),_&&d&&d.end(),g=!1,De(p)}}}function iu(n){var u,f;let e,t,i,r,s;function l(c){n[36](c)}let o={isNew:n[4],$activeCollection:n[7]};n[1]!==void 0&&(o.record=n[1]),e=new m1({props:o}),ue.push(()=>Ae(e,"record",l));let a=((f=(u=n[7])==null?void 0:u.schema)==null?void 0:f.length)&&ru();return{c(){X(e.$$.fragment),i=q(),a&&a.c(),r=ge()},m(c,d){G(e,c,d),v(c,i,d),a&&a.m(c,d),v(c,r,d),s=!0},p(c,d){var g,p;const m={};d[0]&16&&(m.isNew=c[4]),d[0]&128&&(m.$activeCollection=c[7]),!t&&d[0]&2&&(t=!0,m.record=c[1],Fe(()=>t=!1)),e.$set(m),(p=(g=c[7])==null?void 0:g.schema)!=null&&p.length?a||(a=ru(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(c){s||(O(e.$$.fragment,c),s=!0)},o(c){N(e.$$.fragment,c),s=!1},d(c){c&&(k(i),k(r)),Q(e,c),a&&a.d(c)}}}function ru(n){let e;return{c(){e=y("hr")},m(t,i){v(t,e,i)},d(t){t&&k(e)}}}function A0(n){let e,t,i;function r(l){n[49](l,n[68])}let s={field:n[68]};return n[1][n[68].name]!==void 0&&(s.value=n[1][n[68].name]),e=new $_({props:s}),ue.push(()=>Ae(e,"value",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[68]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[68].name],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function L0(n){let e,t,i,r,s;function l(f){n[46](f,n[68])}function o(f){n[47](f,n[68])}function a(f){n[48](f,n[68])}let u={field:n[68],record:n[1]};return n[1][n[68].name]!==void 0&&(u.value=n[1][n[68].name]),n[2][n[68].name]!==void 0&&(u.uploadedFiles=n[2][n[68].name]),n[3][n[68].name]!==void 0&&(u.deletedFileNames=n[3][n[68].name]),e=new P_({props:u}),ue.push(()=>Ae(e,"value",l)),ue.push(()=>Ae(e,"uploadedFiles",o)),ue.push(()=>Ae(e,"deletedFileNames",a)),{c(){X(e.$$.fragment)},m(f,c){G(e,f,c),s=!0},p(f,c){n=f;const d={};c[0]&128&&(d.field=n[68]),c[0]&2&&(d.record=n[1]),!t&&c[0]&130&&(t=!0,d.value=n[1][n[68].name],Fe(()=>t=!1)),!i&&c[0]&132&&(i=!0,d.uploadedFiles=n[2][n[68].name],Fe(()=>i=!1)),!r&&c[0]&136&&(r=!0,d.deletedFileNames=n[3][n[68].name],Fe(()=>r=!1)),e.$set(d)},i(f){s||(O(e.$$.fragment,f),s=!0)},o(f){N(e.$$.fragment,f),s=!1},d(f){Q(e,f)}}}function F0(n){let e,t,i;function r(l){n[45](l,n[68])}let s={field:n[68]};return n[1][n[68].name]!==void 0&&(s.value=n[1][n[68].name]),e=new y_({props:s}),ue.push(()=>Ae(e,"value",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[68]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[68].name],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function P0(n){let e,t,i;function r(l){n[44](l,n[68])}let s={field:n[68]};return n[1][n[68].name]!==void 0&&(s.value=n[1][n[68].name]),e=new c_({props:s}),ue.push(()=>Ae(e,"value",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[68]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[68].name],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function R0(n){let e,t,i;function r(l){n[43](l,n[68])}let s={field:n[68]};return n[1][n[68].name]!==void 0&&(s.value=n[1][n[68].name]),e=new X1({props:s}),ue.push(()=>Ae(e,"value",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[68]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[68].name],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function q0(n){let e,t,i;function r(l){n[42](l,n[68])}let s={field:n[68]};return n[1][n[68].name]!==void 0&&(s.value=n[1][n[68].name]),e=new T0({props:s}),ue.push(()=>Ae(e,"value",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[68]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[68].name],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function j0(n){let e,t,i;function r(l){n[41](l,n[68])}let s={field:n[68]};return n[1][n[68].name]!==void 0&&(s.value=n[1][n[68].name]),e=new R1({props:s}),ue.push(()=>Ae(e,"value",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[68]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[68].name],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function V0(n){let e,t,i;function r(l){n[40](l,n[68])}let s={field:n[68]};return n[1][n[68].name]!==void 0&&(s.value=n[1][n[68].name]),e=new A1({props:s}),ue.push(()=>Ae(e,"value",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[68]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[68].name],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function W0(n){let e,t,i;function r(l){n[39](l,n[68])}let s={field:n[68]};return n[1][n[68].name]!==void 0&&(s.value=n[1][n[68].name]),e=new E1({props:s}),ue.push(()=>Ae(e,"value",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[68]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[68].name],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function H0(n){let e,t,i;function r(l){n[38](l,n[68])}let s={field:n[68]};return n[1][n[68].name]!==void 0&&(s.value=n[1][n[68].name]),e=new C1({props:s}),ue.push(()=>Ae(e,"value",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[68]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[68].name],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function U0(n){let e,t,i;function r(l){n[37](l,n[68])}let s={field:n[68]};return n[1][n[68].name]!==void 0&&(s.value=n[1][n[68].name]),e=new w1({props:s}),ue.push(()=>Ae(e,"value",r)),{c(){X(e.$$.fragment)},m(l,o){G(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[68]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[68].name],Fe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){Q(e,l)}}}function su(n,e){let t,i,r,s,l;const o=[U0,H0,W0,V0,j0,q0,R0,P0,F0,L0,A0],a=[];function u(f,c){return f[68].type==="text"?0:f[68].type==="number"?1:f[68].type==="bool"?2:f[68].type==="email"?3:f[68].type==="url"?4:f[68].type==="editor"?5:f[68].type==="date"?6:f[68].type==="select"?7:f[68].type==="json"?8:f[68].type==="file"?9:f[68].type==="relation"?10:-1}return~(i=u(e))&&(r=a[i]=o[i](e)),{key:n,first:null,c(){t=ge(),r&&r.c(),s=ge(),this.first=t},m(f,c){v(f,t,c),~i&&a[i].m(f,c),v(f,s,c),l=!0},p(f,c){e=f;let d=i;i=u(e),i===d?~i&&a[i].p(e,c):(r&&(le(),N(a[d],1,1,()=>{a[d]=null}),oe()),~i?(r=a[i],r?r.p(e,c):(r=a[i]=o[i](e),r.c()),O(r,1),r.m(s.parentNode,s)):r=null)},i(f){l||(O(r),l=!0)},o(f){N(r),l=!1},d(f){f&&(k(t),k(s)),~i&&a[i].d(f)}}}function z0(n){var Y;let e,t,i,r,s,l=A.replacePcmsPrefix(n[7].name)+"",o,a,u,f,c,d,m,g,p,_,b,w,T,S=[],E=new Map,F,L,I;const R=[I0,M0],P=[];function W(z,H){return z[5]?0:1}m=W(n),g=P[m]=R[m](n);let K=!n[6]&&n[9]&&!n[5]&&nu(n),U=n[12]&&iu(n),te=ke(((Y=n[7])==null?void 0:Y.schema)||[]);const ne=z=>z[68].name;for(let z=0;z<te.length;z+=1){let H=$a(n,te,z),j=ne(H);E.set(j,S[z]=su(j,H))}return{c(){e=y("header"),t=y("nav"),i=y("div"),i.textContent="Collections",r=q(),s=y("a"),o=re(l),u=q(),f=y("div"),c=re(n[14]),d=q(),g.c(),p=q(),_=y("div"),b=y("form"),K&&K.c(),w=q(),U&&U.c(),T=q();for(let z=0;z<S.length;z+=1)S[z].c();h(i,"class","breadcrumb-item"),h(s,"href",a="#/collections?collectionId="+n[7].id),h(s,"class","breadcrumb-item"),h(f,"class","breadcrumb-item"),h(t,"class","breadcrumbs"),h(e,"class","page-header"),h(b,"id",n[16]),h(b,"class","tab-item"),J(b,"no-pointer-events",n[5]),J(b,"active",n[11]===ar),h(_,"class","tabs-content no-animations")},m(z,H){v(z,e,H),C(e,t),C(t,i),C(t,r),C(t,s),C(s,o),C(t,u),C(t,f),C(f,c),C(e,d),P[m].m(e,null),v(z,p,H),v(z,_,H),C(_,b),K&&K.m(b,null),C(b,w),U&&U.m(b,null),C(b,T);for(let j=0;j<S.length;j+=1)S[j]&&S[j].m(b,null);F=!0,L||(I=[x(b,"submit",Qe(n[19])),x(b,"keydown",n[22])],L=!0)},p(z,H){var Ie;(!F||H[0]&128)&&l!==(l=A.replacePcmsPrefix(z[7].name)+"")&&_e(o,l),(!F||H[0]&128&&a!==(a="#/collections?collectionId="+z[7].id))&&h(s,"href",a),(!F||H[0]&16384)&&_e(c,z[14]);let j=m;m=W(z),m===j?P[m].p(z,H):(le(),N(P[j],1,1,()=>{P[j]=null}),oe(),g=P[m],g?g.p(z,H):(g=P[m]=R[m](z),g.c()),O(g,1),g.m(e,null)),!z[6]&&z[9]&&!z[5]?K?(K.p(z,H),H[0]&608&&O(K,1)):(K=nu(z),K.c(),O(K,1),K.m(b,w)):K&&(le(),N(K,1,1,()=>{K=null}),oe()),z[12]?U?(U.p(z,H),H[0]&4096&&O(U,1)):(U=iu(z),U.c(),O(U,1),U.m(b,T)):U&&(le(),N(U,1,1,()=>{U=null}),oe()),H[0]&142&&(te=ke(((Ie=z[7])==null?void 0:Ie.schema)||[]),le(),S=pt(S,H,ne,1,z,te,E,b,Lt,su,null,$a),oe()),(!F||H[0]&32)&&J(b,"no-pointer-events",z[5]),(!F||H[0]&2048)&&J(b,"active",z[11]===ar)},i(z){if(!F){O(g),O(K),O(U);for(let H=0;H<te.length;H+=1)O(S[H]);F=!0}},o(z){N(g),N(K),N(U);for(let H=0;H<S.length;H+=1)N(S[H]);F=!1},d(z){z&&(k(e),k(p),k(_)),P[m].d(),K&&K.d(),U&&U.d();for(let H=0;H<S.length;H+=1)S[H].d();L=!1,De(I)}}}function Y0(n){let e;return{c(){e=y("div"),e.innerHTML='<i class="ri-folder-open-line txt-disabled"></i> <p>No Collections</p>',h(e,"class","content txt-hint")},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function B0(n){let e;return{c(){e=y("div"),e.innerHTML='<span class="loader loader-lg"></span> <h1>Loading collections...</h1>',h(e,"class","placeholder-section m-b-base")},m(t,i){v(t,e,i)},p:$,d(t){t&&k(e)}}}function K0(n){let e,t,i,r;const s=[E0,O0,D0],l=[];function o(a,u){return a[8]&&!a[15].length?0:a[15].length?2:1}return e=o(n),t=l[e]=s[e](n),{c(){t.c(),i=ge()},m(a,u){l[e].m(a,u),v(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?l[e].p(a,u):(le(),N(l[f],1,1,()=>{l[f]=null}),oe(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&k(i),l[e].d(a)}}}const ar="form";function Z0(n,e,t){let i,r,s,l,o,a,u,f,c,d;Ke(n,an,ee=>t(7,u=ee)),Ke(n,vi,ee=>t(8,f=ee)),Ke(n,cs,ee=>t(51,c=ee)),Ke(n,dn,ee=>t(15,d=ee));const m=gt(),g="record_"+A.randomString(5);let{params:p}=e;Ts(p.collectionId);let _=new URLSearchParams(c),b,w={},T={},S=null,E=!1,F=!1,L={},I={},R=JSON.stringify(w),P=R,W=ar,K=!0,U=!0,te=u;function ne(ee){return Ie(ee),F=!0,t(11,W=ar),b==null?void 0:b.show()}function Y(){if(o&&F)return hi("You have unsaved changes. Do you really want to close this screen?",()=>{z()}),!1;pi({}),et(),er(`#/collections?collectionId=${u==null?void 0:u.id}`)}function z(){F=!1,Y()}function H(){t(28,te=u)}async function j(ee){if(ee&&typeof ee=="string"){try{return await Me.collection(u.id).getOne(ee)}catch(fe){fe.isAbort||(z(),console.warn("resolveModel:",fe),kr(`Unable to load record with id "${ee}"`))}return null}return ee}async function Ie(ee){t(5,U=!0),pi({}),t(2,L={}),t(3,I={}),t(25,w=typeof ee=="string"?{id:ee,collectionId:u==null?void 0:u.id,collectionName:u==null?void 0:u.name}:ee||{}),t(1,T=structuredClone(w)),t(25,w=await j(ee)||{}),t(1,T=structuredClone(w)),await Xt(),t(9,S=Mt()),!S||Dt(T,S)?t(9,S=null):(delete S.password,delete S.passwordConfirm),t(26,R=JSON.stringify(T)),t(5,U=!1)}async function it(ee){var Se,yt;pi({}),t(25,w=ee||{}),t(2,L={}),t(3,I={});const fe=((yt=(Se=u==null?void 0:u.schema)==null?void 0:Se.filter(he=>he.type!="file"))==null?void 0:yt.map(he=>he.name))||[];for(let he in ee)fe.includes(he)||t(1,T[he]=ee[he],T);await Xt(),t(26,R=JSON.stringify(T)),et()}function _t(){return"record_draft_"+((u==null?void 0:u.id)||"")+"_"+((w==null?void 0:w.id)||"")}function Mt(ee){try{const fe=window.localStorage.getItem(_t());if(fe)return JSON.parse(fe)}catch{}return ee}function Tt(ee){try{window.localStorage.setItem(_t(),ee)}catch(fe){console.warn("updateDraft failure:",fe),window.localStorage.removeItem(_t())}}function bt(){S&&(t(1,T=S),t(9,S=null))}function Dt(ee,fe){var ze;const Se=structuredClone(ee||{}),yt=structuredClone(fe||{}),he=(ze=u==null?void 0:u.schema)==null?void 0:ze.filter(kt=>kt.type==="file");for(let kt of he)delete Se[kt.name],delete yt[kt.name];const wt=["expand","password","passwordConfirm"];for(let kt of wt)delete Se[kt],delete yt[kt];return JSON.stringify(Se)==JSON.stringify(yt)}function et(){t(9,S=null),window.localStorage.removeItem(_t())}async function lt(ee=!0){if(!(E||!a||!(u!=null&&u.id))){t(10,E=!0);try{const fe=qe();let Se;K?Se=await Me.collection(u.id).create(fe):Se=await Me.collection(u.id).update(T.id,fe),es(K?"Successfully created record.":"Successfully updated record."),et(),ee?z():it(Se),Y()}catch(fe){Me.error(fe)}t(10,E=!1)}}function ve(){w!=null&&w.id&&hi("Do you really want to delete the selected record?",()=>Me.collection(w.collectionId).delete(w.id).then(()=>{Y(),es("Successfully deleted record."),m("delete",w)}).catch(ee=>{Me.error(ee)}))}function qe(){const ee=structuredClone(T||{}),fe=new FormData,Se={id:ee.id},yt={};for(const he of(u==null?void 0:u.schema)||[])Se[he.name]=!0,he.type=="json"&&(yt[he.name]=!0);i&&(Se.username=!0,Se.email=!0,Se.emailVisibility=!0,Se.password=!0,Se.passwordConfirm=!0,Se.verified=!0);for(const he in ee)if(Se[he]){if(typeof ee[he]>"u"&&(ee[he]=null),yt[he]&&ee[he]!=="")try{JSON.parse(ee[he])}catch(wt){const ze={};throw ze[he]={code:"invalid_json",message:wt.toString()},new At({status:400,response:{data:ze}})}A.addValueToFormData(fe,he,ee[he])}for(const he in L){const wt=A.toArray(L[he]);for(const ze of wt)fe.append(he,ze)}for(const he in I){const wt=A.toArray(I[he]);for(const ze of wt)fe.append(he+"."+ze,"")}return fe}function Ue(){o?hi("You have unsaved changes. Do you really want to discard them?",()=>{je()}):je()}async function je(){let ee=w?structuredClone(w):null;if(ee){ee.id="",ee.created="",ee.updated="";const fe=(u==null?void 0:u.schema)||[];for(const Se of fe)Se.type==="file"&&delete ee[Se.name]}et(),ne(ee),await Xt(),t(26,R="")}function rt(ee){(ee.ctrlKey||ee.metaKey)&&ee.code=="KeyS"&&(ee.preventDefault(),ee.stopPropagation(),lt(!1))}const de=()=>Ue(),Z=()=>ve(),Te=()=>Y(),Xe=()=>bt(),ot=()=>et();function Pt(ee){T=ee,t(1,T)}function ri(ee,fe){n.$$.not_equal(T[fe.name],ee)&&(T[fe.name]=ee,t(1,T))}function si(ee,fe){n.$$.not_equal(T[fe.name],ee)&&(T[fe.name]=ee,t(1,T))}function Fn(ee,fe){n.$$.not_equal(T[fe.name],ee)&&(T[fe.name]=ee,t(1,T))}function vn(ee,fe){n.$$.not_equal(T[fe.name],ee)&&(T[fe.name]=ee,t(1,T))}function Pn(ee,fe){n.$$.not_equal(T[fe.name],ee)&&(T[fe.name]=ee,t(1,T))}function mn(ee,fe){n.$$.not_equal(T[fe.name],ee)&&(T[fe.name]=ee,t(1,T))}function li(ee,fe){n.$$.not_equal(T[fe.name],ee)&&(T[fe.name]=ee,t(1,T))}function ae(ee,fe){n.$$.not_equal(T[fe.name],ee)&&(T[fe.name]=ee,t(1,T))}function at(ee,fe){n.$$.not_equal(T[fe.name],ee)&&(T[fe.name]=ee,t(1,T))}function hn(ee,fe){n.$$.not_equal(T[fe.name],ee)&&(T[fe.name]=ee,t(1,T))}function un(ee,fe){n.$$.not_equal(L[fe.name],ee)&&(L[fe.name]=ee,t(2,L))}function Rn(ee,fe){n.$$.not_equal(I[fe.name],ee)&&(I[fe.name]=ee,t(3,I))}function qn(ee,fe){n.$$.not_equal(T[fe.name],ee)&&(T[fe.name]=ee,t(1,T))}return n.$$set=ee=>{"params"in ee&&t(23,p=ee.params)},n.$$.update=()=>{var ee;n.$$.dirty[0]&384&&!f&&u.id&&(Ie(_.get("recordId")),F=!0),n.$$.dirty[0]&128&&t(12,i=(u==null?void 0:u.type)==="auth"),n.$$.dirty[0]&128&&t(30,r=(ee=u==null?void 0:u.schema)==null?void 0:ee.find(fe=>fe.type==="text")),n.$$.dirty[0]&1073741826&&t(14,s=r?T[r.name]:"record"),n.$$.dirty[0]&12&&t(29,l=A.hasNonEmptyProps(L)||A.hasNonEmptyProps(I)),n.$$.dirty[0]&2&&t(27,P=JSON.stringify(T)),n.$$.dirty[0]&738197504&&t(6,o=l||R!=P),n.$$.dirty[0]&33554432&&t(4,K=!w||!w.id),n.$$.dirty[0]&112&&t(13,a=!U&&(K||o)),n.$$.dirty[0]&134217760&&(U||Tt(P)),n.$$.dirty[0]&268435584&&u&&(te==null?void 0:te.id)!=(u==null?void 0:u.id)&&H()},[Y,T,L,I,K,U,o,u,f,S,E,W,i,a,s,d,g,bt,et,lt,ve,Ue,rt,p,ne,w,R,P,te,l,r,de,Z,Te,Xe,ot,Pt,ri,si,Fn,vn,Pn,mn,li,ae,at,hn,un,Rn,qn]}class J0 extends we{constructor(e){super(),ye(this,e,Z0,K0,be,{params:23,show:24,hide:0},null,[-1,-1,-1])}get show(){return this.$$.ctx[24]}get hide(){return this.$$.ctx[0]}}function G0(n){let e,t,i,r,s,l,o,a;return{c(){e=y("label"),t=re("Email"),r=q(),s=y("input"),h(e,"for",i=n[8]),h(s,"type","email"),h(s,"id",l=n[8]),s.required=!0,s.autofocus=!0},m(u,f){v(u,e,f),C(e,t),v(u,r,f),v(u,s,f),Pe(s,n[0]),s.focus(),o||(a=x(s,"input",n[4]),o=!0)},p(u,f){f&256&&i!==(i=u[8])&&h(e,"for",i),f&256&&l!==(l=u[8])&&h(s,"id",l),f&1&&s.value!==u[0]&&Pe(s,u[0])},d(u){u&&(k(e),k(r),k(s)),o=!1,a()}}}function Q0(n){let e,t,i,r,s,l,o,a;return{c(){e=y("label"),t=re("Password"),r=q(),s=y("input"),h(e,"for",i=n[8]),h(s,"type","password"),h(s,"id",l=n[8]),s.required=!0},m(u,f){v(u,e,f),C(e,t),v(u,r,f),v(u,s,f),Pe(s,n[1]),o||(a=x(s,"input",n[5]),o=!0)},p(u,f){f&256&&i!==(i=u[8])&&h(e,"for",i),f&256&&l!==(l=u[8])&&h(s,"id",l),f&2&&s.value!==u[1]&&Pe(s,u[1])},d(u){u&&(k(e),k(r),k(s)),o=!1,a()}}}function X0(n){let e,t,i,r,s,l,o,a,u,f,c;return r=new Ze({props:{class:"form-field required",name:"identity",$$slots:{default:[G0,({uniqueId:d})=>({8:d}),({uniqueId:d})=>d?256:0]},$$scope:{ctx:n}}}),l=new Ze({props:{class:"form-field required",name:"password",$$slots:{default:[Q0,({uniqueId:d})=>({8:d}),({uniqueId:d})=>d?256:0]},$$scope:{ctx:n}}}),{c(){e=y("form"),t=y("div"),t.innerHTML="<h4>CMS admin sign in</h4>",i=q(),X(r.$$.fragment),s=q(),X(l.$$.fragment),o=q(),a=y("button"),a.innerHTML='<span class="txt">Login</span> <i class="ri-arrow-right-line"></i>',h(t,"class","content txt-center m-b-base"),h(a,"type","submit"),h(a,"class","btn btn-lg btn-block btn-next"),J(a,"btn-disabled",n[2]),J(a,"btn-loading",n[2]),h(e,"class","block")},m(d,m){v(d,e,m),C(e,t),C(e,i),G(r,e,null),C(e,s),G(l,e,null),C(e,o),C(e,a),u=!0,f||(c=x(e,"submit",Qe(n[3])),f=!0)},p(d,m){const g={};m&769&&(g.$$scope={dirty:m,ctx:d}),r.$set(g);const p={};m&770&&(p.$$scope={dirty:m,ctx:d}),l.$set(p),(!u||m&4)&&J(a,"btn-disabled",d[2]),(!u||m&4)&&J(a,"btn-loading",d[2])},i(d){u||(O(r.$$.fragment,d),O(l.$$.fragment,d),u=!0)},o(d){N(r.$$.fragment,d),N(l.$$.fragment,d),u=!1},d(d){d&&k(e),Q(r),Q(l),f=!1,c()}}}function $0(n){let e,t;return e=new qf({props:{$$slots:{default:[X0]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},m(i,r){G(e,i,r),t=!0},p(i,[r]){const s={};r&519&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function x0(n,e,t){let i;Ke(n,cs,c=>t(6,i=c));const r=new URLSearchParams(i);let s=r.get("demoEmail")||"",l=r.get("demoPassword")||"",o=!1;function a(){if(!o)return t(2,o=!0),Me.collection("pcms__users").authWithPassword(s,l).then(()=>{nh(),Di("/")}).catch(()=>{kr("Invalid login credentials.")}).finally(()=>{t(2,o=!1)})}function u(){s=this.value,t(0,s)}function f(){l=this.value,t(1,l)}return[s,l,o,a,u,f]}class eb extends we{constructor(e){super(),ye(this,e,x0,$0,be,{})}}const zr=[async n=>{const e=new URLSearchParams(window.location.search);return n.location!=="/"&&e.has("installer")?replace("/"):!0}],tb={"/login":Hi({component:eb,conditions:zr.concat([n=>!Me.authStore.isValid]),userData:{showAppSidebar:!1}}),"/collections":Hi({component:e1,conditions:zr.concat([n=>Me.authStore.isValid]),userData:{showAppSidebar:!0}}),"/collections/:collectionId/":Hi({component:J0,conditions:zr.concat([n=>Me.authStore.isValid]),userData:{showAppSidebar:!0}}),"*":Hi({component:Wh,userData:{showAppSidebar:!1}})};function lu(n){let e,t,i,r,s,l,o,a,u,f,c,d,m,g,p,_;return m=new Ni({props:{class:"dropdown dropdown-nowrap dropdown-upside dropdown-left",$$slots:{default:[nb]},$$scope:{ctx:n}}}),{c(){var b;e=y("aside"),t=y("a"),t.innerHTML='<img src="./images/logo.svg" alt="PocketBase logo" width="40" height="40"/>',i=q(),r=y("nav"),s=y("a"),s.innerHTML='<i class="ri-database-2-line"></i>',l=q(),o=y("a"),o.innerHTML='<i class="ri-tools-line"></i>',a=q(),u=y("div"),f=y("img"),d=q(),X(m.$$.fragment),h(t,"href","/"),h(t,"class","logo logo-sm"),h(s,"href","/collections"),h(s,"class","menu-item"),h(s,"aria-label","Collections"),h(o,"href","/settings"),h(o,"class","menu-item"),h(o,"aria-label","Settings"),h(r,"class","main-menu"),sn(f.src,c="./images/avatars/avatar"+(((b=n[3])==null?void 0:b.avatar)||0)+".svg")||h(f,"src",c),h(f,"alt","Avatar"),h(f,"aria-hidden","true"),h(u,"tabindex","0"),h(u,"role","button"),h(u,"aria-label","Logged admin menu"),h(u,"class","thumb thumb-circle link-hint closable"),h(e,"class","app-sidebar")},m(b,w){v(b,e,w),C(e,t),C(e,i),C(e,r),C(r,s),C(r,l),C(r,o),C(e,a),C(e,u),C(u,f),C(u,d),G(m,u,null),g=!0,p||(_=[He(Ki.call(null,t)),He(Ki.call(null,s)),He(qs.call(null,s,{path:"/collections/?.*",className:"current-route"})),He(Ge.call(null,s,{text:"Collections",position:"right"})),He(Ki.call(null,o)),He(qs.call(null,o,{path:"/settings/?.*",className:"current-route"})),He(Ge.call(null,o,{text:"Settings",position:"right"}))],p=!0)},p(b,w){var S;(!g||w&8&&!sn(f.src,c="./images/avatars/avatar"+(((S=b[3])==null?void 0:S.avatar)||0)+".svg"))&&h(f,"src",c);const T={};w&256&&(T.$$scope={dirty:w,ctx:b}),m.$set(T)},i(b){g||(O(m.$$.fragment,b),g=!0)},o(b){N(m.$$.fragment,b),g=!1},d(b){b&&k(e),Q(m),p=!1,De(_)}}}function nb(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<i class="ri-logout-circle-line" aria-hidden="true"></i> <span class="txt">Logout</span>',h(e,"type","button"),h(e,"class","dropdown-item closable"),h(e,"role","menuitem")},m(r,s){v(r,e,s),t||(i=x(e,"click",n[6]),t=!0)},p:$,d(r){r&&k(e),t=!1,i()}}}function ib(n){var m;let e,t,i,r,s,l,o,a,u,f,c;document.title=e=A.joinNonEmpty([n[1],n[2],"PocketCMS"]," - ");let d=((m=n[3])==null?void 0:m.id)&&n[0]&&lu(n);return l=new Ic({props:{routes:tb}}),l.$on("routeLoading",n[4]),l.$on("conditionsFailed",n[5]),a=new dh({}),f=new Um({}),{c(){t=q(),i=y("div"),d&&d.c(),r=q(),s=y("div"),X(l.$$.fragment),o=q(),X(a.$$.fragment),u=q(),X(f.$$.fragment),h(s,"class","app-body"),h(i,"class","app-layout")},m(g,p){v(g,t,p),v(g,i,p),d&&d.m(i,null),C(i,r),C(i,s),G(l,s,null),C(s,o),G(a,s,null),v(g,u,p),G(f,g,p),c=!0},p(g,[p]){var _;(!c||p&6)&&e!==(e=A.joinNonEmpty([g[1],g[2],"PocketCMS"]," - "))&&(document.title=e),(_=g[3])!=null&&_.id&&g[0]?d?(d.p(g,p),p&9&&O(d,1)):(d=lu(g),d.c(),O(d,1),d.m(i,r)):d&&(le(),N(d,1,1,()=>{d=null}),oe())},i(g){c||(O(d),O(l.$$.fragment,g),O(a.$$.fragment,g),O(f.$$.fragment,g),c=!0)},o(g){N(d),N(l.$$.fragment,g),N(a.$$.fragment,g),N(f.$$.fragment,g),c=!1},d(g){g&&(k(t),k(i),k(u)),d&&d.d(),Q(l),Q(a),Q(f,g)}}}function rb(n,e,t){let i,r,s;Ke(n,sr,c=>t(1,i=c)),Ke(n,gh,c=>t(2,r=c)),Ke(n,Lf,c=>t(3,s=c));let l=!1,o;function a(c){var d,m,g,p;((d=c==null?void 0:c.detail)==null?void 0:d.location)!==o&&(t(0,l=!!((g=(m=c==null?void 0:c.detail)==null?void 0:m.userData)!=null&&g.showAppSidebar)),o=(p=c==null?void 0:c.detail)==null?void 0:p.location,uu(sr,i="",i),pi({}),Of())}function u(){Di("/")}function f(){Me.logout()}return[l,i,r,s,a,u,f]}class sb extends we{constructor(e){super(),ye(this,e,rb,ib,be,{})}}new sb({target:document.getElementById("app")});export{A as C,we as S,h as a,v as b,Ke as c,k as d,y as e,dn as f,gt as g,ue as h,ye as i,dc as j,$ as n,Ft as o,be as s};
