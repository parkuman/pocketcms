var Sa=Object.defineProperty;var va=(i,e,t)=>e in i?Sa(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var si=(i,e,t)=>(va(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function V(){}const on=i=>i;function xt(i,e){for(const t in e)i[t]=e[t];return i}function Sl(i){return i()}function ts(){return Object.create(null)}function ye(i){i.forEach(Sl)}function We(i){return typeof i=="function"}function fe(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let _n;function Pt(i,e){return i===e?!0:(_n||(_n=document.createElement("a")),_n.href=e,i===_n.href)}function Ta(i){return Object.keys(i).length===0}function Li(i,...e){if(i==null){for(const n of e)n(void 0);return V}const t=i.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Oa(i){let e;return Li(i,t=>e=t)(),e}function we(i,e,t){i.$$.on_destroy.push(Li(e,t))}function Ae(i,e,t,n){if(i){const s=vl(i,e,t,n);return i[0](s)}}function vl(i,e,t,n){return i[1]&&n?xt(t.ctx.slice(),i[1](n(e))):t.ctx}function Re(i,e,t,n){if(i[2]&&n){const s=i[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],l=Math.max(e.dirty.length,s.length);for(let o=0;o<l;o+=1)r[o]=e.dirty[o]|s[o];return r}return e.dirty|s}return e.dirty}function Fe(i,e,t,n,s,r){if(s){const l=vl(e,t,n,r);i.p(l,s)}}function Pe(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ns(i){return i??""}function Ea(i,e,t){return i.set(t),e}function Te(i){return i&&We(i.destroy)?i.destroy:V}function is(i){const e=typeof i=="string"&&i.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[i,"px"]}const Tl=typeof window<"u";let Bn=Tl?()=>window.performance.now():()=>Date.now(),Mi=Tl?i=>requestAnimationFrame(i):V;const Mt=new Set;function Ol(i){Mt.forEach(e=>{e.c(i)||(Mt.delete(e),e.f())}),Mt.size!==0&&Mi(Ol)}function Zn(i){let e;return Mt.size===0&&Mi(Ol),{promise:new Promise(t=>{Mt.add(e={c:i,f:t})}),abort(){Mt.delete(e)}}}function w(i,e){i.appendChild(e)}function El(i){if(!i)return document;const e=i.getRootNode?i.getRootNode():i.ownerDocument;return e&&e.host?e:i.ownerDocument}function Ca(i){const e=b("style");return e.textContent="/* empty */",Ia(El(i),e),e.sheet}function Ia(i,e){return w(i.head||i,e),e.sheet}function S(i,e,t){i.insertBefore(e,t||null)}function k(i){i.parentNode&&i.parentNode.removeChild(i)}function an(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function b(i){return document.createElement(i)}function ee(i){return document.createTextNode(i)}function F(){return ee(" ")}function ne(){return ee("")}function Q(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function ft(i){return function(e){return e.preventDefault(),i.call(this,e)}}function cn(i){return function(e){return e.stopPropagation(),i.call(this,e)}}function h(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function Na(i){return Array.from(i.childNodes)}function re(i,e){e=""+e,i.data!==e&&(i.data=e)}function qt(i,e){i.value=e??""}function Da(i,e,t,n){t==null?i.style.removeProperty(e):i.style.setProperty(e,t,n?"important":"")}function B(i,e,t){i.classList.toggle(e,!!t)}function Cl(i,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(i,{detail:e,bubbles:t,cancelable:n})}function Rn(i,e){return new i(e)}const Fn=new Map;let Pn=0;function La(i){let e=5381,t=i.length;for(;t--;)e=(e<<5)-e^i.charCodeAt(t);return e>>>0}function Ma(i,e){const t={stylesheet:Ca(e),rules:{}};return Fn.set(i,t),t}function en(i,e,t,n,s,r,l,o=0){const a=16.666/n;let c=`{
`;for(let p=0;p<=1;p+=a){const _=e+(t-e)*r(p);c+=p*100+`%{${l(_,1-_)}}
`}const u=c+`100% {${l(t,1-t)}}
}`,f=`__svelte_${La(u)}_${o}`,m=El(i),{stylesheet:d,rules:y}=Fn.get(m)||Ma(m,i);y[f]||(y[f]=!0,d.insertRule(`@keyframes ${f} ${u}`,d.cssRules.length));const g=i.style.animation||"";return i.style.animation=`${g?`${g}, `:""}${f} ${n}ms linear ${s}ms 1 both`,Pn+=1,f}function tn(i,e){const t=(i.style.animation||"").split(", "),n=t.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),s=t.length-n.length;s&&(i.style.animation=n.join(", "),Pn-=s,Pn||Aa())}function Aa(){Mi(()=>{Pn||(Fn.forEach(i=>{const{ownerNode:e}=i.stylesheet;e&&k(e)}),Fn.clear())})}function Ra(i,e,t,n){if(!e)return V;const s=i.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return V;const{delay:r=0,duration:l=300,easing:o=on,start:a=Bn()+r,end:c=a+l,tick:u=V,css:f}=t(i,{from:e,to:s},n);let m=!0,d=!1,y;function g(){f&&(y=en(i,0,1,l,r,o,f)),r||(d=!0)}function p(){f&&tn(i,y),m=!1}return Zn(_=>{if(!d&&_>=a&&(d=!0),d&&_>=c&&(u(1,0),p()),!m)return!1;if(d){const E=_-a,N=0+1*o(E/l);u(N,1-N)}return!0}),g(),u(0,1),p}function Fa(i){const e=getComputedStyle(i);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,s=i.getBoundingClientRect();i.style.position="absolute",i.style.width=t,i.style.height=n,Il(i,s)}}function Il(i,e){const t=i.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(i),s=n.transform==="none"?"":n.transform;i.style.transform=`${s} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let nn;function Qt(i){nn=i}function Hn(){if(!nn)throw new Error("Function called outside component initialization");return nn}function wt(i){Hn().$$.on_mount.push(i)}function Pa(i){Hn().$$.after_update.push(i)}function qa(i){Hn().$$.on_destroy.push(i)}function st(){const i=Hn();return(e,t,{cancelable:n=!1}={})=>{const s=i.$$.callbacks[e];if(s){const r=Cl(e,t,{cancelable:n});return s.slice().forEach(l=>{l.call(i,r)}),!r.defaultPrevented}return!0}}function bt(i,e){const t=i.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Dt=[],ce=[];let At=[];const yi=[],Nl=Promise.resolve();let _i=!1;function Dl(){_i||(_i=!0,Nl.then(Ll))}function Ai(){return Dl(),Nl}function De(i){At.push(i)}function Ye(i){yi.push(i)}const ri=new Set;let Et=0;function Ll(){if(Et!==0)return;const i=nn;do{try{for(;Et<Dt.length;){const e=Dt[Et];Et++,Qt(e),Va(e.$$)}}catch(e){throw Dt.length=0,Et=0,e}for(Qt(null),Dt.length=0,Et=0;ce.length;)ce.pop()();for(let e=0;e<At.length;e+=1){const t=At[e];ri.has(t)||(ri.add(t),t())}At.length=0}while(Dt.length);for(;yi.length;)yi.pop()();_i=!1,ri.clear(),Qt(i)}function Va(i){if(i.fragment!==null){i.update(),ye(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(De)}}function Wa(i){const e=[],t=[];At.forEach(n=>i.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),At=e}let Jt;function Ri(){return Jt||(Jt=Promise.resolve(),Jt.then(()=>{Jt=null})),Jt}function yt(i,e,t){i.dispatchEvent(Cl(`${e?"intro":"outro"}${t}`))}const In=new Set;let Xe;function Y(){Xe={r:0,c:[],p:Xe}}function K(){Xe.r||ye(Xe.c),Xe=Xe.p}function T(i,e){i&&i.i&&(In.delete(i),i.i(e))}function L(i,e,t,n){if(i&&i.o){if(In.has(i))return;In.add(i),Xe.c.push(()=>{In.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}const Fi={duration:0};function Ml(i,e,t){const n={direction:"in"};let s=e(i,t,n),r=!1,l,o,a=0;function c(){l&&tn(i,l)}function u(){const{delay:m=0,duration:d=300,easing:y=on,tick:g=V,css:p}=s||Fi;p&&(l=en(i,0,1,d,m,y,p,a++)),g(0,1);const _=Bn()+m,E=_+d;o&&o.abort(),r=!0,De(()=>yt(i,!0,"start")),o=Zn(N=>{if(r){if(N>=E)return g(1,0),yt(i,!0,"end"),c(),r=!1;if(N>=_){const I=y((N-_)/d);g(I,1-I)}}return r})}let f=!1;return{start(){f||(f=!0,tn(i),We(s)?(s=s(n),Ri().then(u)):u())},invalidate(){f=!1},end(){r&&(c(),r=!1)}}}function Al(i,e,t){const n={direction:"out"};let s=e(i,t,n),r=!0,l;const o=Xe;o.r+=1;let a;function c(){const{delay:u=0,duration:f=300,easing:m=on,tick:d=V,css:y}=s||Fi;y&&(l=en(i,1,0,f,u,m,y));const g=Bn()+u,p=g+f;De(()=>yt(i,!1,"start")),"inert"in i&&(a=i.inert,i.inert=!0),Zn(_=>{if(r){if(_>=p)return d(0,1),yt(i,!1,"end"),--o.r||ye(o.c),!1;if(_>=g){const E=m((_-g)/f);d(1-E,E)}}return r})}return We(s)?Ri().then(()=>{s=s(n),c()}):c(),{end(u){u&&"inert"in i&&(i.inert=a),u&&s.tick&&s.tick(1,0),r&&(l&&tn(i,l),r=!1)}}}function ze(i,e,t,n){let r=e(i,t,{direction:"both"}),l=n?0:1,o=null,a=null,c=null,u;function f(){c&&tn(i,c)}function m(y,g){const p=y.b-l;return g*=Math.abs(p),{a:l,b:y.b,d:p,duration:g,start:y.start,end:y.start+g,group:y.group}}function d(y){const{delay:g=0,duration:p=300,easing:_=on,tick:E=V,css:N}=r||Fi,I={start:Bn()+g,b:y};y||(I.group=Xe,Xe.r+=1),"inert"in i&&(y?u!==void 0&&(i.inert=u):(u=i.inert,i.inert=!0)),o||a?a=I:(N&&(f(),c=en(i,l,y,p,g,_,N)),y&&E(0,1),o=m(I,p),De(()=>yt(i,y,"start")),Zn(C=>{if(a&&C>a.start&&(o=m(a,p),a=null,yt(i,o.b,"start"),N&&(f(),c=en(i,l,o.b,o.duration,0,_,r.css))),o){if(C>=o.end)E(l=o.b,1-l),yt(i,o.b,"end"),a||(o.b?f():--o.group.r||ye(o.group.c)),o=null;else if(C>=o.start){const O=C-o.start;l=o.a+o.d*_(O/o.duration),E(l,1-l)}}return!!(o||a)}))}return{run(y){We(r)?Ri().then(()=>{r=r({direction:y?"in":"out"}),d(y)}):d(y)},end(){f(),o=a=null}}}function ae(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function Ua(i,e){i.d(1),e.delete(i.key)}function tt(i,e){L(i,1,1,()=>{e.delete(i.key)})}function ja(i,e){i.f(),tt(i,e)}function xe(i,e,t,n,s,r,l,o,a,c,u,f){let m=i.length,d=r.length,y=m;const g={};for(;y--;)g[i[y].key]=y;const p=[],_=new Map,E=new Map,N=[];for(y=d;y--;){const D=f(s,r,y),A=t(D);let j=l.get(A);j?n&&N.push(()=>j.p(D,e)):(j=c(A,D),j.c()),_.set(A,p[y]=j),A in g&&E.set(A,Math.abs(y-g[A]))}const I=new Set,C=new Set;function O(D){T(D,1),D.m(o,u),l.set(D.key,D),u=D.first,d--}for(;m&&d;){const D=p[d-1],A=i[m-1],j=D.key,q=A.key;D===A?(u=D.first,m--,d--):_.has(q)?!l.has(j)||I.has(j)?O(D):C.has(q)?m--:E.get(j)>E.get(q)?(C.add(j),O(D)):(I.add(q),m--):(a(A,l),m--)}for(;m--;){const D=i[m];_.has(D.key)||a(D,l)}for(;d;)O(p[d-1]);return ye(N),p}function qn(i,e){const t={},n={},s={$$scope:1};let r=i.length;for(;r--;){const l=i[r],o=e[r];if(o){for(const a in l)a in o||(n[a]=1);for(const a in o)s[a]||(t[a]=o[a],s[a]=1);i[r]=o}else for(const a in l)s[a]=1}for(const l in n)l in t||(t[l]=void 0);return t}function Vn(i){return typeof i=="object"&&i!==null?i:{}}function Ke(i,e,t){const n=i.$$.props[e];n!==void 0&&(i.$$.bound[n]=t,t(i.$$.ctx[n]))}function J(i){i&&i.c()}function Z(i,e,t){const{fragment:n,after_update:s}=i.$$;n&&n.m(e,t),De(()=>{const r=i.$$.on_mount.map(Sl).filter(We);i.$$.on_destroy?i.$$.on_destroy.push(...r):ye(r),i.$$.on_mount=[]}),s.forEach(De)}function H(i,e){const t=i.$$;t.fragment!==null&&(Wa(t.after_update),ye(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function $a(i,e){i.$$.dirty[0]===-1&&(Dt.push(i),Dl(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function he(i,e,t,n,s,r,l=null,o=[-1]){const a=nn;Qt(i);const c=i.$$={fragment:null,ctx:[],props:r,update:V,not_equal:s,bound:ts(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:ts(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};l&&l(c.root);let u=!1;if(c.ctx=t?t(i,e.props||{},(f,m,...d)=>{const y=d.length?d[0]:m;return c.ctx&&s(c.ctx[f],c.ctx[f]=y)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](y),u&&$a(i,f)),m}):[],c.update(),u=!0,ye(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const f=Na(e.target);c.fragment&&c.fragment.l(f),f.forEach(k)}else c.fragment&&c.fragment.c();e.intro&&T(i.$$.fragment),Z(i,e.target,e.anchor),Ll()}Qt(a)}class me{constructor(){si(this,"$$");si(this,"$$set")}$destroy(){H(this,1),this.$destroy=V}$on(e,t){if(!We(t))return V;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Ta(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const za="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(za);const Ct=[];function Rl(i,e){return{subscribe:Qe(i,e).subscribe}}function Qe(i,e=V){let t;const n=new Set;function s(o){if(fe(i,o)&&(i=o,t)){const a=!Ct.length;for(const c of n)c[1](),Ct.push(c,i);if(a){for(let c=0;c<Ct.length;c+=2)Ct[c][0](Ct[c+1]);Ct.length=0}}}function r(o){s(o(i))}function l(o,a=V){const c=[o,a];return n.add(c),n.size===1&&(t=e(s,r)||V),o(i),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:l}}function Fl(i,e,t){const n=!Array.isArray(i),s=n?[i]:i;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Rl(t,(l,o)=>{let a=!1;const c=[];let u=0,f=V;const m=()=>{if(u)return;f();const y=e(n?c[0]:c,l,o);r?l(y):f=We(y)?y:V},d=s.map((y,g)=>Li(y,p=>{c[g]=p,u&=~(1<<g),a&&m()},()=>{u|=1<<g}));return a=!0,m(),function(){ye(d),f(),a=!1}})}function Pl(i,e){if(i instanceof RegExp)return{keys:!1,pattern:i};var t,n,s,r,l=[],o="",a=i.split("/");for(a[0]||a.shift();s=a.shift();)t=s[0],t==="*"?(l.push("wild"),o+="/(.*)"):t===":"?(n=s.indexOf("?",1),r=s.indexOf(".",1),l.push(s.substring(1,~n?n:~r?r:s.length)),o+=~n&&!~r?"(?:/([^/]+?))?":"/([^/]+?)",~r&&(o+=(~n?"?":"")+"\\"+s.substring(r))):o+="/"+s;return{keys:l,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}function Ba(i){let e,t,n;const s=[i[2]];var r=i[0];function l(o,a){let c={};for(let u=0;u<s.length;u+=1)c=xt(c,s[u]);return a!==void 0&&a&4&&(c=xt(c,qn(s,[Vn(o[2])]))),{props:c}}return r&&(e=Rn(r,l(i)),e.$on("routeEvent",i[7])),{c(){e&&J(e.$$.fragment),t=ne()},m(o,a){e&&Z(e,o,a),S(o,t,a),n=!0},p(o,a){if(a&1&&r!==(r=o[0])){if(e){Y();const c=e;L(c.$$.fragment,1,0,()=>{H(c,1)}),K()}r?(e=Rn(r,l(o,a)),e.$on("routeEvent",o[7]),J(e.$$.fragment),T(e.$$.fragment,1),Z(e,t.parentNode,t)):e=null}else if(r){const c=a&4?qn(s,[Vn(o[2])]):{};e.$set(c)}},i(o){n||(e&&T(e.$$.fragment,o),n=!0)},o(o){e&&L(e.$$.fragment,o),n=!1},d(o){o&&k(t),e&&H(e,o)}}}function Za(i){let e,t,n;const s=[{params:i[1]},i[2]];var r=i[0];function l(o,a){let c={};for(let u=0;u<s.length;u+=1)c=xt(c,s[u]);return a!==void 0&&a&6&&(c=xt(c,qn(s,[a&2&&{params:o[1]},a&4&&Vn(o[2])]))),{props:c}}return r&&(e=Rn(r,l(i)),e.$on("routeEvent",i[6])),{c(){e&&J(e.$$.fragment),t=ne()},m(o,a){e&&Z(e,o,a),S(o,t,a),n=!0},p(o,a){if(a&1&&r!==(r=o[0])){if(e){Y();const c=e;L(c.$$.fragment,1,0,()=>{H(c,1)}),K()}r?(e=Rn(r,l(o,a)),e.$on("routeEvent",o[6]),J(e.$$.fragment),T(e.$$.fragment,1),Z(e,t.parentNode,t)):e=null}else if(r){const c=a&6?qn(s,[a&2&&{params:o[1]},a&4&&Vn(o[2])]):{};e.$set(c)}},i(o){n||(e&&T(e.$$.fragment,o),n=!0)},o(o){e&&L(e.$$.fragment,o),n=!1},d(o){o&&k(t),e&&H(e,o)}}}function Ha(i){let e,t,n,s;const r=[Za,Ba],l=[];function o(a,c){return a[1]?0:1}return e=o(i),t=l[e]=r[e](i),{c(){t.c(),n=ne()},m(a,c){l[e].m(a,c),S(a,n,c),s=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(Y(),L(l[u],1,1,()=>{l[u]=null}),K(),t=l[e],t?t.p(a,c):(t=l[e]=r[e](a),t.c()),T(t,1),t.m(n.parentNode,n))},i(a){s||(T(t),s=!0)},o(a){L(t),s=!1},d(a){a&&k(n),l[e].d(a)}}}function ss(){const i=window.location.href.indexOf("#/");let e=i>-1?window.location.href.substr(i+1):"/";const t=e.indexOf("?");let n="";return t>-1&&(n=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:n}}const Jn=Rl(null,function(e){e(ss());const t=()=>{e(ss())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}});Fl(Jn,i=>i.location);const Pi=Fl(Jn,i=>i.querystring),rs=Qe(void 0);async function un(i){if(!i||i.length<1||i.charAt(0)!="/"&&i.indexOf("#/")!==0)throw Error("Invalid parameter location");await Ai();const e=(i.charAt(0)=="#"?"":"#")+i;try{const t={...history.state};delete t.__svelte_spa_router_scrollX,delete t.__svelte_spa_router_scrollY,window.history.replaceState(t,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function Nn(i,e){if(e=os(e),!i||!i.tagName||i.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return ls(i,e),{update(t){t=os(t),ls(i,t)}}}function Ja(i){i?window.scrollTo(i.__svelte_spa_router_scrollX,i.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function ls(i,e){let t=e.href||i.getAttribute("href");if(t&&t.charAt(0)=="/")t="#"+t;else if(!t||t.length<2||t.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+t);i.setAttribute("href",t),i.addEventListener("click",n=>{n.preventDefault(),e.disabled||Ya(n.currentTarget.getAttribute("href"))})}function os(i){return i&&typeof i=="string"?{href:i}:i||{}}function Ya(i){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=i}function Ka(i,e,t){let{routes:n={}}=e,{prefix:s=""}=e,{restoreScrollState:r=!1}=e;class l{constructor(C,O){if(!O||typeof O!="function"&&(typeof O!="object"||O._sveltesparouter!==!0))throw Error("Invalid component object");if(!C||typeof C=="string"&&(C.length<1||C.charAt(0)!="/"&&C.charAt(0)!="*")||typeof C=="object"&&!(C instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:D,keys:A}=Pl(C);this.path=C,typeof O=="object"&&O._sveltesparouter===!0?(this.component=O.component,this.conditions=O.conditions||[],this.userData=O.userData,this.props=O.props||{}):(this.component=()=>Promise.resolve(O),this.conditions=[],this.props={}),this._pattern=D,this._keys=A}match(C){if(s){if(typeof s=="string")if(C.startsWith(s))C=C.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const j=C.match(s);if(j&&j[0])C=C.substr(j[0].length)||"/";else return null}}const O=this._pattern.exec(C);if(O===null)return null;if(this._keys===!1)return O;const D={};let A=0;for(;A<this._keys.length;){try{D[this._keys[A]]=decodeURIComponent(O[A+1]||"")||null}catch{D[this._keys[A]]=null}A++}return D}async checkConditions(C){for(let O=0;O<this.conditions.length;O++)if(!await this.conditions[O](C))return!1;return!0}}const o=[];n instanceof Map?n.forEach((I,C)=>{o.push(new l(C,I))}):Object.keys(n).forEach(I=>{o.push(new l(I,n[I]))});let a=null,c=null,u={};const f=st();async function m(I,C){await Ai(),f(I,C)}let d=null,y=null;r&&(y=I=>{I.state&&(I.state.__svelte_spa_router_scrollY||I.state.__svelte_spa_router_scrollX)?d=I.state:d=null},window.addEventListener("popstate",y),Pa(()=>{Ja(d)}));let g=null,p=null;const _=Jn.subscribe(async I=>{g=I;let C=0;for(;C<o.length;){const O=o[C].match(I.location);if(!O){C++;continue}const D={route:o[C].path,location:I.location,querystring:I.querystring,userData:o[C].userData,params:O&&typeof O=="object"&&Object.keys(O).length?O:null};if(!await o[C].checkConditions(D)){t(0,a=null),p=null,m("conditionsFailed",D);return}m("routeLoading",Object.assign({},D));const A=o[C].component;if(p!=A){A.loading?(t(0,a=A.loading),p=A,t(1,c=A.loadingParams),t(2,u={}),m("routeLoaded",Object.assign({},D,{component:a,name:a.name,params:c}))):(t(0,a=null),p=null);const j=await A();if(I!=g)return;t(0,a=j&&j.default||j),p=A}O&&typeof O=="object"&&Object.keys(O).length?t(1,c=O):t(1,c=null),t(2,u=o[C].props),m("routeLoaded",Object.assign({},D,{component:a,name:a.name,params:c})).then(()=>{rs.set(c)});return}t(0,a=null),p=null,rs.set(void 0)});qa(()=>{_(),y&&window.removeEventListener("popstate",y)});function E(I){bt.call(this,i,I)}function N(I){bt.call(this,i,I)}return i.$$set=I=>{"routes"in I&&t(3,n=I.routes),"prefix"in I&&t(4,s=I.prefix),"restoreScrollState"in I&&t(5,r=I.restoreScrollState)},i.$$.update=()=>{i.$$.dirty&32&&(history.scrollRestoration=r?"manual":"auto")},[a,c,u,n,s,r,E,N]}class Ga extends me{constructor(e){super(),he(this,e,Ka,Ha,fe,{routes:3,prefix:4,restoreScrollState:5})}}const Dn=[];let ql;function Vl(i){const e=i.pattern.test(ql);as(i,i.className,e),as(i,i.inactiveClassName,!e)}function as(i,e,t){(e||"").split(" ").forEach(n=>{n&&(i.node.classList.remove(n),t&&i.node.classList.add(n))})}Jn.subscribe(i=>{ql=i.location+(i.querystring?"?"+i.querystring:""),Dn.map(Vl)});function cs(i,e){if(e&&(typeof e=="string"||typeof e=="object"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&i.hasAttribute("href")&&(e.path=i.getAttribute("href"),e.path&&e.path.length>1&&e.path.charAt(0)=="#"&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||typeof e.path=="string"&&(e.path.length<1||e.path.charAt(0)!="/"&&e.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:t}=typeof e.path=="string"?Pl(e.path):{pattern:e.path},n={node:i,className:e.className,inactiveClassName:e.inactiveClassName,pattern:t};return Dn.push(n),Vl(n),{destroy(){Dn.splice(Dn.indexOf(n),1)}}}class qe extends Error{constructor(e){var t,n,s,r;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,qe.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof qe||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(t=this.response)==null?void 0:t.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(r=(s=(n=this.originalError)==null?void 0:n.cause)==null?void 0:s.message)!=null&&r.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const bn=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Qa(i,e){const t={};if(typeof i!="string")return t;const n=Object.assign({},e||{}).decode||Xa;let s=0;for(;s<i.length;){const r=i.indexOf("=",s);if(r===-1)break;let l=i.indexOf(";",s);if(l===-1)l=i.length;else if(l<r){s=i.lastIndexOf(";",r-1)+1;continue}const o=i.slice(s,r).trim();if(t[o]===void 0){let a=i.slice(r+1,l).trim();a.charCodeAt(0)===34&&(a=a.slice(1,-1));try{t[o]=n(a)}catch{t[o]=a}}s=l+1}return t}function us(i,e,t){const n=Object.assign({},t||{}),s=n.encode||xa;if(!bn.test(i))throw new TypeError("argument name is invalid");const r=s(e);if(r&&!bn.test(r))throw new TypeError("argument val is invalid");let l=i+"="+r;if(n.maxAge!=null){const o=n.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(o)}if(n.domain){if(!bn.test(n.domain))throw new TypeError("option domain is invalid");l+="; Domain="+n.domain}if(n.path){if(!bn.test(n.path))throw new TypeError("option path is invalid");l+="; Path="+n.path}if(n.expires){if(!function(a){return Object.prototype.toString.call(a)==="[object Date]"||a instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");l+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l}function Xa(i){return i.indexOf("%")!==-1?decodeURIComponent(i):i}function xa(i){return encodeURIComponent(i)}let Wl;function Ln(i){if(i)try{const e=decodeURIComponent(Wl(i.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function Ul(i,e=0){let t=Ln(i);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}Wl=typeof atob=="function"?atob:i=>{let e=String(i).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,n,s=0,r=0,l="";n=e.charAt(r++);~n&&(t=s%4?64*t+n:n,s++%4)?l+=String.fromCharCode(255&t>>(-2*s&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return l};const fs="pb_auth";class ec{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!Ul(this.token)}get isAdmin(){return Ln(this.token).type==="admin"}get isAuthRecord(){return Ln(this.token).type==="authRecord"}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=fs){const n=Qa(e||"")[t]||"";let s={};try{s=JSON.parse(n),(typeof s===null||typeof s!="object"||Array.isArray(s))&&(s={})}catch{}this.save(s.token||"",s.model||null)}exportToCookie(e,t=fs){var a,c;const n={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=Ln(this.token);n.expires=s!=null&&s.exp?new Date(1e3*s.exp):new Date("1970-01-01"),e=Object.assign({},n,e);const r={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let l=us(t,JSON.stringify(r),e);const o=typeof Blob<"u"?new Blob([l]).size:l.length;if(r.model&&o>4096){r.model={id:(a=r==null?void 0:r.model)==null?void 0:a.id,email:(c=r==null?void 0:r.model)==null?void 0:c.email};const u=["collectionId","username","verified"];for(const f in this.model)u.includes(f)&&(r.model[f]=this.model[f]);l=us(t,JSON.stringify(r),e)}return l}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.model),()=>{for(let n=this._onChangeCallbacks.length-1;n>=0;n--)if(this._onChangeCallbacks[n]==e)return delete this._onChangeCallbacks[n],void this._onChangeCallbacks.splice(n,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.model)}}class jl extends ec{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(e,t){this._storageSet(this.storageKey,{token:e,model:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&(window!=null&&window.localStorage)){let n=t;typeof t!="string"&&(n=JSON.stringify(t)),window.localStorage.setItem(e,n)}else this.storageFallback[e]=t}_storageRemove(e){var t;typeof window<"u"&&(window!=null&&window.localStorage)&&((t=window.localStorage)==null||t.removeItem(e)),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.model||null)})}}class kt{constructor(e){this.client=e}}class tc extends kt{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then(()=>!0)}async testEmail(e,t,n){return n=Object.assign({method:"POST",body:{email:e,template:t}},n),this.client.send("/api/settings/test/email",n).then(()=>!0)}async generateAppleClientSecret(e,t,n,s,r,l){return l=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:n,privateKey:s,duration:r}},l),this.client.send("/api/settings/apple/generate-client-secret",l)}}class qi extends kt{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let n=500;return(t=Object.assign({},e,t)).batch&&(n=t.batch,delete t.batch),this._getFullList(n,t)}async getList(e=1,t=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:e,perPage:t},n.query),this.client.send(this.baseCrudPath,n).then(s=>{var r;return s.items=((r=s.items)==null?void 0:r.map(l=>this.decode(l)))||[],s})}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then(n=>{var s;if(!((s=n==null?void 0:n.items)!=null&&s.length))throw new qe({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return n.items[0]})}async getOne(e,t){if(!e)throw new qe({url:this.client.buildUrl(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(n=>this.decode(n))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then(n=>this.decode(n))}async update(e,t,n){return n=Object.assign({method:"PATCH",body:t},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),n).then(s=>this.decode(s))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(()=>!0)}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let n=[],s=async r=>this.getList(r,e||500,t).then(l=>{const o=l.items;return n=n.concat(o),o.length==l.perPage?s(r+1):n});return s(1)}}function Me(i,e,t,n){const s=n!==void 0;return s||t!==void 0?s?(console.warn(i),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,n),e):Object.assign(e,t):e}function li(i){var e;(e=i._resetAutoRefresh)==null||e.call(i)}class nc extends qi{get baseCrudPath(){return"/api/admins"}async update(e,t,n){return super.update(e,t,n).then(s=>{var r,l;return((r=this.client.authStore.model)==null?void 0:r.id)===s.id&&((l=this.client.authStore.model)==null?void 0:l.collectionId)===void 0&&this.client.authStore.save(this.client.authStore.token,s),s})}async delete(e,t){return super.delete(e,t).then(n=>{var s,r;return n&&((s=this.client.authStore.model)==null?void 0:s.id)===e&&((r=this.client.authStore.model)==null?void 0:r.collectionId)===void 0&&this.client.authStore.clear(),n})}authResponse(e){const t=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:t})}async authWithPassword(e,t,n,s){let r={method:"POST",body:{identity:e,password:t}};r=Me("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",r,n,s);const l=r.autoRefreshThreshold;delete r.autoRefreshThreshold,r.autoRefresh||li(this.client);let o=await this.client.send(this.baseCrudPath+"/auth-with-password",r);return o=this.authResponse(o),l&&function(c,u,f,m){li(c);const d=c.beforeSend,y=c.authStore.model,g=c.authStore.onChange((p,_)=>{(!p||(_==null?void 0:_.id)!=(y==null?void 0:y.id)||(_!=null&&_.collectionId||y!=null&&y.collectionId)&&(_==null?void 0:_.collectionId)!=(y==null?void 0:y.collectionId))&&li(c)});c._resetAutoRefresh=function(){g(),c.beforeSend=d,delete c._resetAutoRefresh},c.beforeSend=async(p,_)=>{var C;const E=c.authStore.token;if((C=_.query)!=null&&C.autoRefresh)return d?d(p,_):{url:p,sendOptions:_};let N=c.authStore.isValid;if(N&&Ul(c.authStore.token,u))try{await f()}catch{N=!1}N||await m();const I=_.headers||{};for(let O in I)if(O.toLowerCase()=="authorization"&&E==I[O]&&c.authStore.token){I[O]=c.authStore.token;break}return _.headers=I,d?d(p,_):{url:p,sendOptions:_}}}(this.client,l,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},r))),o}async authRefresh(e,t){let n={method:"POST"};return n=Me("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",n,e,t),this.client.send(this.baseCrudPath+"/auth-refresh",n).then(this.authResponse.bind(this))}async requestPasswordReset(e,t,n){let s={method:"POST",body:{email:e}};return s=Me("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,t,n),this.client.send(this.baseCrudPath+"/request-password-reset",s).then(()=>!0)}async confirmPasswordReset(e,t,n,s,r){let l={method:"POST",body:{token:e,password:t,passwordConfirm:n}};return l=Me("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",l,s,r),this.client.send(this.baseCrudPath+"/confirm-password-reset",l).then(()=>!0)}}const ic=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function $l(i){if(i){i.query=i.query||{};for(let e in i)ic.includes(e)||(i.query[e]=i[e],delete i[e])}}class zl extends kt{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,n){var l;if(!e)throw new Error("topic must be set.");let s=e;if(n){$l(n);const o="options="+encodeURIComponent(JSON.stringify({query:n.query,headers:n.headers}));s+=(s.includes("?")?"&":"?")+o}const r=function(o){const a=o;let c;try{c=JSON.parse(a==null?void 0:a.data)}catch{}t(c||{})};return this.subscriptions[s]||(this.subscriptions[s]=[]),this.subscriptions[s].push(r),this.isConnected?this.subscriptions[s].length===1?await this.submitSubscriptions():(l=this.eventSource)==null||l.addEventListener(s,r):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,r)}async unsubscribe(e){var n;let t=!1;if(e){const s=this.getSubscriptionsByTopic(e);for(let r in s)if(this.hasSubscriptionListeners(r)){for(let l of this.subscriptions[r])(n=this.eventSource)==null||n.removeEventListener(r,l);delete this.subscriptions[r],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){var n;let t=!1;for(let s in this.subscriptions)if((s+"?").startsWith(e)){t=!0;for(let r of this.subscriptions[s])(n=this.eventSource)==null||n.removeEventListener(s,r);delete this.subscriptions[s]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){var r;let n=!1;const s=this.getSubscriptionsByTopic(e);for(let l in s){if(!Array.isArray(this.subscriptions[l])||!this.subscriptions[l].length)continue;let o=!1;for(let a=this.subscriptions[l].length-1;a>=0;a--)this.subscriptions[l][a]===t&&(o=!0,delete this.subscriptions[l][a],this.subscriptions[l].splice(a,1),(r=this.eventSource)==null||r.removeEventListener(l,t));o&&(this.subscriptions[l].length||delete this.subscriptions[l],n||this.hasSubscriptionListeners(l)||(n=!0))}this.hasSubscriptionListeners()?n&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){var t,n;if(this.subscriptions=this.subscriptions||{},e)return!!((t=this.subscriptions[e])!=null&&t.length);for(let s in this.subscriptions)if((n=this.subscriptions[s])!=null&&n.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(e=>{if(!(e!=null&&e.isAbort))throw e})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let n in this.subscriptions)(n+"?").startsWith(e)&&(t[n]=this.subscriptions[n]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",e=>{const t=e;this.clientId=t==null?void 0:t.lastEventId,this.submitSubscriptions().then(async()=>{let n=3;for(;this.hasUnsentSubscriptions()&&n>0;)n--,await this.submitSubscriptions()}).then(()=>{for(let s of this.pendingConnects)s.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const n=this.getSubscriptionsByTopic("PB_CONNECT");for(let s in n)for(let r of n[s])r(e)}).catch(n=>{this.clientId="",this.connectErrorHandler(n)})})}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let n of this.pendingConnects)n.reject(new qe(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},t)}disconnect(e=!1){var t;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(t=this.eventSource)==null||t.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let n of this.pendingConnects)n.resolve();this.pendingConnects=[]}}}class sc extends qi{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}async subscribe(e,t,n){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,n)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const n=Object.assign({},e,t);return super.getFullList(n)}async getList(e=1,t=30,n){return super.getList(e,t,n)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,n){return super.update(e,t,n).then(s=>{var r,l,o;return((r=this.client.authStore.model)==null?void 0:r.id)!==(s==null?void 0:s.id)||((l=this.client.authStore.model)==null?void 0:l.collectionId)!==this.collectionIdOrName&&((o=this.client.authStore.model)==null?void 0:o.collectionName)!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,s),s})}async delete(e,t){return super.delete(e,t).then(n=>{var s,r,l;return!n||((s=this.client.authStore.model)==null?void 0:s.id)!==e||((r=this.client.authStore.model)==null?void 0:r.collectionId)!==this.collectionIdOrName&&((l=this.client.authStore.model)==null?void 0:l.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),n})}authResponse(e){const t=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e).then(t=>Object.assign({},t,{usernamePassword:!!(t!=null&&t.usernamePassword),emailPassword:!!(t!=null&&t.emailPassword),authProviders:Array.isArray(t==null?void 0:t.authProviders)?t==null?void 0:t.authProviders:[]}))}async authWithPassword(e,t,n,s){let r={method:"POST",body:{identity:e,password:t}};return r=Me("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",r,n,s),this.client.send(this.baseCollectionPath+"/auth-with-password",r).then(l=>this.authResponse(l))}async authWithOAuth2Code(e,t,n,s,r,l,o){let a={method:"POST",body:{provider:e,code:t,codeVerifier:n,redirectUrl:s,createData:r}};return a=Me("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",a,l,o),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",a).then(c=>this.authResponse(c))}async authWithOAuth2(...e){if(e.length>1||typeof(e==null?void 0:e[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{});const t=(e==null?void 0:e[0])||{},n=(await this.listAuthMethods()).authProviders.find(a=>a.name===t.provider);if(!n)throw new qe(new Error(`Missing or invalid provider "${t.provider}".`));const s=this.client.buildUrl("/api/oauth2-redirect"),r=new zl(this.client);let l=null;function o(){l==null||l.close(),r.unsubscribe()}return t.urlCallback||(l=ds(void 0)),new Promise(async(a,c)=>{var u;try{await r.subscribe("@oauth2",async y=>{const g=r.clientId;try{if(!y.state||g!==y.state)throw new Error("State parameters don't match.");const p=Object.assign({},t);delete p.provider,delete p.scopes,delete p.createData,delete p.urlCallback;const _=await this.authWithOAuth2Code(n.name,y.code,n.codeVerifier,s,t.createData,p);a(_)}catch(p){c(new qe(p))}o()});const f={state:r.clientId};(u=t.scopes)!=null&&u.length&&(f.scope=t.scopes.join(" "));const m=this._replaceQueryParams(n.authUrl+s,f);await(t.urlCallback||function(y){l?l.location.href=y:l=ds(y)})(m)}catch(f){o(),c(new qe(f))}})}async authRefresh(e,t){let n={method:"POST"};return n=Me("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",n,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",n).then(s=>this.authResponse(s))}async requestPasswordReset(e,t,n){let s={method:"POST",body:{email:e}};return s=Me("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,t,n),this.client.send(this.baseCollectionPath+"/request-password-reset",s).then(()=>!0)}async confirmPasswordReset(e,t,n,s,r){let l={method:"POST",body:{token:e,password:t,passwordConfirm:n}};return l=Me("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",l,s,r),this.client.send(this.baseCollectionPath+"/confirm-password-reset",l).then(()=>!0)}async requestVerification(e,t,n){let s={method:"POST",body:{email:e}};return s=Me("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",s,t,n),this.client.send(this.baseCollectionPath+"/request-verification",s).then(()=>!0)}async confirmVerification(e,t,n){let s={method:"POST",body:{token:e}};return s=Me("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",s,t,n),this.client.send(this.baseCollectionPath+"/confirm-verification",s).then(()=>!0)}async requestEmailChange(e,t,n){let s={method:"POST",body:{newEmail:e}};return s=Me("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",s,t,n),this.client.send(this.baseCollectionPath+"/request-email-change",s).then(()=>!0)}async confirmEmailChange(e,t,n,s){let r={method:"POST",body:{token:e,password:t}};return r=Me("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",r,n,s),this.client.send(this.baseCollectionPath+"/confirm-email-change",r).then(()=>!0)}async listExternalAuths(e,t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",t)}async unlinkExternalAuth(e,t,n){return n=Object.assign({method:"DELETE"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(t),n).then(()=>!0)}_replaceQueryParams(e,t={}){let n=e,s="";e.indexOf("?")>=0&&(n=e.substring(0,e.indexOf("?")),s=e.substring(e.indexOf("?")+1));const r={},l=s.split("&");for(const o of l){if(o=="")continue;const a=o.split("=");r[decodeURIComponent(a[0].replace(/\+/g," "))]=decodeURIComponent((a[1]||"").replace(/\+/g," "))}for(let o in t)t.hasOwnProperty(o)&&(t[o]==null?delete r[o]:r[o]=t[o]);s="";for(let o in r)r.hasOwnProperty(o)&&(s!=""&&(s+="&"),s+=encodeURIComponent(o.replace(/%20/g,"+"))+"="+encodeURIComponent(r[o].replace(/%20/g,"+")));return s!=""?n+"?"+s:n}}function ds(i){if(typeof window>"u"||!(window!=null&&window.open))throw new qe(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,n=window.innerWidth,s=window.innerHeight;e=e>n?n:e,t=t>s?s:t;let r=n/2-e/2,l=s/2-t/2;return window.open(i,"popup_window","width="+e+",height="+t+",top="+l+",left="+r+",resizable,menubar=no")}class rc extends qi{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,n){return n=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},n),this.client.send(this.baseCrudPath+"/import",n).then(()=>!0)}}class lc extends kt{async getList(e=1,t=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:e,perPage:t},n.query),this.client.send("/api/logs",n)}async getOne(e,t){if(!e)throw new qe({url:this.client.buildUrl("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class oc extends kt{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class ac extends kt{getUrl(e,t,n={}){if(!t||!(e!=null&&e.id)||!(e!=null&&e.collectionId)&&!(e!=null&&e.collectionName))return"";const s=[];s.push("api"),s.push("files"),s.push(encodeURIComponent(e.collectionId||e.collectionName)),s.push(encodeURIComponent(e.id)),s.push(encodeURIComponent(t));let r=this.client.buildUrl(s.join("/"));if(Object.keys(n).length){n.download===!1&&delete n.download;const l=new URLSearchParams(n);r+=(r.includes("?")?"&":"?")+l}return r}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then(t=>(t==null?void 0:t.token)||"")}}class cc extends kt{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then(()=>!0)}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then(()=>!0)}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then(()=>!0)}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then(()=>!0)}getDownloadUrl(e,t){return this.client.buildUrl(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class Yn{constructor(e="/",t,n="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=n,this.authStore=t||new jl,this.admins=new nc(this),this.collections=new rc(this),this.files=new ac(this),this.logs=new lc(this),this.settings=new tc(this),this.realtime=new zl(this),this.health=new oc(this),this.backups=new cc(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new sc(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let n in t){let s=t[n];switch(typeof s){case"boolean":case"number":s=""+s;break;case"string":s="'"+s.replace(/'/g,"\\'")+"'";break;default:s=s===null?"null":s instanceof Date?"'"+s.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(s).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+n+"}",s)}return e}getFileUrl(e,t,n={}){return this.files.getUrl(e,t,n)}buildUrl(e){var n;let t=this.baseUrl;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=(n=window.location.origin)!=null&&n.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseUrl),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let n=this.buildUrl(e);if(this.beforeSend){const s=Object.assign({},await this.beforeSend(n,t));s.url!==void 0||s.options!==void 0?(n=s.url||n,t=s.options||t):Object.keys(s).length&&(t=s,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const s=this.serializeQueryParams(t.query);s&&(n+=(n.includes("?")?"&":"?")+s),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(n,t).then(async s=>{let r={};try{r=await s.json()}catch{}if(this.afterSend&&(r=await this.afterSend(s,r)),s.status>=400)throw new qe({url:s.url,status:s.status,data:r});return r}).catch(s=>{throw new qe(s)})}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=this.convertToFormDataIfNeeded(t.body),$l(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||this.isFormData(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const n=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(n);const s=new AbortController;this.cancelControllers[n]=s,t.signal=s.signal}return t}convertToFormDataIfNeeded(e){if(typeof FormData>"u"||e===void 0||typeof e!="object"||e===null||this.isFormData(e)||!this.hasBlobField(e))return e;const t=new FormData;for(let n in e){const s=this.normalizeFormDataValue(e[n]),r=Array.isArray(s)?s:[s];if(r.length)for(const l of r)t.append(n,l);else t.append(n,"")}return t}normalizeFormDataValue(e){return e===null||typeof e!="object"||e instanceof Date||this.hasBlobField({data:e})||Array.isArray(e)&&!e.filter(t=>typeof t!="string").length?e:JSON.stringify(e)}hasBlobField(e){for(let t in e){const n=Array.isArray(e[t])?e[t]:[e[t]];for(let s of n)if(typeof Blob<"u"&&s instanceof Blob||typeof File<"u"&&s instanceof File)return!0}return!1}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let n in e)if(n.toLowerCase()==t)return e[n];return null}isFormData(e){return e&&(e.constructor.name==="FormData"||typeof FormData<"u"&&e instanceof FormData)}serializeQueryParams(e){const t=[];for(const n in e){if(e[n]===null)continue;const s=e[n],r=encodeURIComponent(n);if(Array.isArray(s))for(const l of s)t.push(r+"="+encodeURIComponent(l));else s instanceof Date?t.push(r+"="+encodeURIComponent(s.toISOString())):typeof s!==null&&typeof s=="object"?t.push(r+"="+encodeURIComponent(JSON.stringify(s))):t.push(r+"="+encodeURIComponent(s))}return t.join("&")}}const Bl=Qe({});function bi(i){Bl.set(i||{})}class St extends Error{}class uc extends St{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class fc extends St{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class dc extends St{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Lt extends St{}class Zl extends St{constructor(e){super(`Invalid unit ${e}`)}}class Ne extends St{}class rt extends St{constructor(){super("Zone is an abstract class")}}const U="numeric",Ge="short",Ve="long",Wn={year:U,month:U,day:U},Hl={year:U,month:Ge,day:U},hc={year:U,month:Ge,day:U,weekday:Ge},Jl={year:U,month:Ve,day:U},Yl={year:U,month:Ve,day:U,weekday:Ve},Kl={hour:U,minute:U},Gl={hour:U,minute:U,second:U},Ql={hour:U,minute:U,second:U,timeZoneName:Ge},Xl={hour:U,minute:U,second:U,timeZoneName:Ve},xl={hour:U,minute:U,hourCycle:"h23"},eo={hour:U,minute:U,second:U,hourCycle:"h23"},to={hour:U,minute:U,second:U,hourCycle:"h23",timeZoneName:Ge},no={hour:U,minute:U,second:U,hourCycle:"h23",timeZoneName:Ve},io={year:U,month:U,day:U,hour:U,minute:U},so={year:U,month:U,day:U,hour:U,minute:U,second:U},ro={year:U,month:Ge,day:U,hour:U,minute:U},lo={year:U,month:Ge,day:U,hour:U,minute:U,second:U},mc={year:U,month:Ge,day:U,weekday:Ge,hour:U,minute:U},oo={year:U,month:Ve,day:U,hour:U,minute:U,timeZoneName:Ge},ao={year:U,month:Ve,day:U,hour:U,minute:U,second:U,timeZoneName:Ge},co={year:U,month:Ve,day:U,weekday:Ve,hour:U,minute:U,timeZoneName:Ve},uo={year:U,month:Ve,day:U,weekday:Ve,hour:U,minute:U,second:U,timeZoneName:Ve};class fn{get type(){throw new rt}get name(){throw new rt}get ianaName(){return this.name}get isUniversal(){throw new rt}offsetName(e,t){throw new rt}formatOffset(e,t){throw new rt}offset(e){throw new rt}equals(e){throw new rt}get isValid(){throw new rt}}let oi=null;class Kn extends fn{static get instance(){return oi===null&&(oi=new Kn),oi}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return wo(e,t,n)}formatOffset(e,t){return Xt(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Mn={};function pc(i){return Mn[i]||(Mn[i]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:i,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Mn[i]}const gc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function yc(i,e){const t=i.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,s,r,l,o,a,c,u]=n;return[l,s,r,o,a,c,u]}function _c(i,e){const t=i.formatToParts(e),n=[];for(let s=0;s<t.length;s++){const{type:r,value:l}=t[s],o=gc[r];r==="era"?n[o]=l:G(o)||(n[o]=parseInt(l,10))}return n}let wn={};class nt extends fn{static create(e){return wn[e]||(wn[e]=new nt(e)),wn[e]}static resetCache(){wn={},Mn={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=nt.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return wo(e,t,n,this.name)}formatOffset(e,t){return Xt(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const n=pc(this.name);let[s,r,l,o,a,c,u]=n.formatToParts?_c(n,t):yc(n,t);o==="BC"&&(s=-Math.abs(s)+1);const m=Qn({year:s,month:r,day:l,hour:a===24?0:a,minute:c,second:u,millisecond:0});let d=+t;const y=d%1e3;return d-=y>=0?y:1e3+y,(m-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let hs={};function bc(i,e={}){const t=JSON.stringify([i,e]);let n=hs[t];return n||(n=new Intl.ListFormat(i,e),hs[t]=n),n}let wi={};function ki(i,e={}){const t=JSON.stringify([i,e]);let n=wi[t];return n||(n=new Intl.DateTimeFormat(i,e),wi[t]=n),n}let Si={};function wc(i,e={}){const t=JSON.stringify([i,e]);let n=Si[t];return n||(n=new Intl.NumberFormat(i,e),Si[t]=n),n}let vi={};function kc(i,e={}){const{base:t,...n}=e,s=JSON.stringify([i,n]);let r=vi[s];return r||(r=new Intl.RelativeTimeFormat(i,e),vi[s]=r),r}let Gt=null;function Sc(){return Gt||(Gt=new Intl.DateTimeFormat().resolvedOptions().locale,Gt)}let ms={};function vc(i){let e=ms[i];if(!e){const t=new Intl.Locale(i);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,ms[i]=e}return e}function Tc(i){const e=i.indexOf("-x-");e!==-1&&(i=i.substring(0,e));const t=i.indexOf("-u-");if(t===-1)return[i];{let n,s;try{n=ki(i).resolvedOptions(),s=i}catch{const a=i.substring(0,t);n=ki(a).resolvedOptions(),s=a}const{numberingSystem:r,calendar:l}=n;return[s,r,l]}}function Oc(i,e,t){return(t||e)&&(i.includes("-u-")||(i+="-u"),t&&(i+=`-ca-${t}`),e&&(i+=`-nu-${e}`)),i}function Ec(i){const e=[];for(let t=1;t<=12;t++){const n=X.utc(2009,t,1);e.push(i(n))}return e}function Cc(i){const e=[];for(let t=1;t<=7;t++){const n=X.utc(2016,11,13+t);e.push(i(n))}return e}function kn(i,e,t,n){const s=i.listingMode();return s==="error"?null:s==="en"?t(e):n(e)}function Ic(i){return i.numberingSystem&&i.numberingSystem!=="latn"?!1:i.numberingSystem==="latn"||!i.locale||i.locale.startsWith("en")||new Intl.DateTimeFormat(i.intl).resolvedOptions().numberingSystem==="latn"}class Nc{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:s,floor:r,...l}=n;if(!t||Object.keys(l).length>0){const o={useGrouping:!1,...n};n.padTo>0&&(o.minimumIntegerDigits=n.padTo),this.inf=wc(e,o)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):ji(e,3);return ke(t,this.padTo)}}}class Dc{constructor(e,t,n){this.opts=n,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const l=-1*(e.offset/60),o=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&nt.create(o).valid?(s=o,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const r={...this.opts};r.timeZone=r.timeZone||s,this.dtf=ki(t,r)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:n}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Lc{constructor(e,t,n){this.opts={style:"long",...n},!t&&_o()&&(this.rtf=kc(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):Qc(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const Mc={firstDay:1,minimalDays:4,weekend:[6,7]};class de{static fromOpts(e){return de.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,n,s,r=!1){const l=e||be.defaultLocale,o=l||(r?"en-US":Sc()),a=t||be.defaultNumberingSystem,c=n||be.defaultOutputCalendar,u=Ti(s)||be.defaultWeekSettings;return new de(o,a,c,u,l)}static resetCache(){Gt=null,wi={},Si={},vi={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:n,weekSettings:s}={}){return de.create(e,t,n,s)}constructor(e,t,n,s,r){const[l,o,a]=Tc(e);this.locale=l,this.numberingSystem=t||o||null,this.outputCalendar=n||a||null,this.weekSettings=s,this.intl=Oc(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Ic(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:de.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Ti(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return kn(this,e,vo,()=>{const n=t?{month:e,day:"numeric"}:{month:e},s=t?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=Ec(r=>this.extract(r,n,"month"))),this.monthsCache[s][e]})}weekdays(e,t=!1){return kn(this,e,Eo,()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=t?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=Cc(r=>this.extract(r,n,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return kn(this,void 0,()=>Co,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[X.utc(2016,11,13,9),X.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return kn(this,e,Io,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[X.utc(-40,1,1),X.utc(2017,1,1)].map(n=>this.extract(n,t,"era"))),this.eraCache[e]})}extract(e,t,n){const s=this.dtFormatter(e,t),r=s.formatToParts(),l=r.find(o=>o.type.toLowerCase()===n);return l?l.value:null}numberFormatter(e={}){return new Nc(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Dc(e,this.intl,t)}relFormatter(e={}){return new Lc(this.intl,this.isEnglish(),e)}listFormatter(e={}){return bc(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:bo()?vc(this.locale):Mc}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let ai=null;class Ce extends fn{static get utcInstance(){return ai===null&&(ai=new Ce(0)),ai}static instance(e){return e===0?Ce.utcInstance:new Ce(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Ce(Xn(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Xt(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Xt(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Xt(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class Ac extends fn{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ct(i,e){if(G(i)||i===null)return e;if(i instanceof fn)return i;if(Pc(i)){const t=i.toLowerCase();return t==="default"?e:t==="local"||t==="system"?Kn.instance:t==="utc"||t==="gmt"?Ce.utcInstance:Ce.parseSpecifier(t)||nt.create(i)}else return _t(i)?Ce.instance(i):typeof i=="object"&&"offset"in i&&typeof i.offset=="function"?i:new Ac(i)}let ps=()=>Date.now(),gs="system",ys=null,_s=null,bs=null,ws=60,ks,Ss=null;class be{static get now(){return ps}static set now(e){ps=e}static set defaultZone(e){gs=e}static get defaultZone(){return ct(gs,Kn.instance)}static get defaultLocale(){return ys}static set defaultLocale(e){ys=e}static get defaultNumberingSystem(){return _s}static set defaultNumberingSystem(e){_s=e}static get defaultOutputCalendar(){return bs}static set defaultOutputCalendar(e){bs=e}static get defaultWeekSettings(){return Ss}static set defaultWeekSettings(e){Ss=Ti(e)}static get twoDigitCutoffYear(){return ws}static set twoDigitCutoffYear(e){ws=e%100}static get throwOnInvalid(){return ks}static set throwOnInvalid(e){ks=e}static resetCaches(){de.resetCache(),nt.resetCache()}}class Je{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const fo=[0,31,59,90,120,151,181,212,243,273,304,334],ho=[0,31,60,91,121,152,182,213,244,274,305,335];function je(i,e){return new Je("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${i}, which is invalid`)}function Vi(i,e,t){const n=new Date(Date.UTC(i,e-1,t));i<100&&i>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const s=n.getUTCDay();return s===0?7:s}function mo(i,e,t){return t+(dn(i)?ho:fo)[e-1]}function po(i,e){const t=dn(i)?ho:fo,n=t.findIndex(r=>r<e),s=e-t[n];return{month:n+1,day:s}}function Wi(i,e){return(i-e+7)%7+1}function Un(i,e=4,t=1){const{year:n,month:s,day:r}=i,l=mo(n,s,r),o=Wi(Vi(n,s,r),t);let a=Math.floor((l-o+14-e)/7),c;return a<1?(c=n-1,a=sn(c,e,t)):a>sn(n,e,t)?(c=n+1,a=1):c=n,{weekYear:c,weekNumber:a,weekday:o,...xn(i)}}function vs(i,e=4,t=1){const{weekYear:n,weekNumber:s,weekday:r}=i,l=Wi(Vi(n,1,e),t),o=Rt(n);let a=s*7+r-l-7+e,c;a<1?(c=n-1,a+=Rt(c)):a>o?(c=n+1,a-=Rt(n)):c=n;const{month:u,day:f}=po(c,a);return{year:c,month:u,day:f,...xn(i)}}function ci(i){const{year:e,month:t,day:n}=i,s=mo(e,t,n);return{year:e,ordinal:s,...xn(i)}}function Ts(i){const{year:e,ordinal:t}=i,{month:n,day:s}=po(e,t);return{year:e,month:n,day:s,...xn(i)}}function Os(i,e){if(!G(i.localWeekday)||!G(i.localWeekNumber)||!G(i.localWeekYear)){if(!G(i.weekday)||!G(i.weekNumber)||!G(i.weekYear))throw new Lt("Cannot mix locale-based week fields with ISO-based week fields");return G(i.localWeekday)||(i.weekday=i.localWeekday),G(i.localWeekNumber)||(i.weekNumber=i.localWeekNumber),G(i.localWeekYear)||(i.weekYear=i.localWeekYear),delete i.localWeekday,delete i.localWeekNumber,delete i.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Rc(i,e=4,t=1){const n=Gn(i.weekYear),s=$e(i.weekNumber,1,sn(i.weekYear,e,t)),r=$e(i.weekday,1,7);return n?s?r?!1:je("weekday",i.weekday):je("week",i.weekNumber):je("weekYear",i.weekYear)}function Fc(i){const e=Gn(i.year),t=$e(i.ordinal,1,Rt(i.year));return e?t?!1:je("ordinal",i.ordinal):je("year",i.year)}function go(i){const e=Gn(i.year),t=$e(i.month,1,12),n=$e(i.day,1,jn(i.year,i.month));return e?t?n?!1:je("day",i.day):je("month",i.month):je("year",i.year)}function yo(i){const{hour:e,minute:t,second:n,millisecond:s}=i,r=$e(e,0,23)||e===24&&t===0&&n===0&&s===0,l=$e(t,0,59),o=$e(n,0,59),a=$e(s,0,999);return r?l?o?a?!1:je("millisecond",s):je("second",n):je("minute",t):je("hour",e)}function G(i){return typeof i>"u"}function _t(i){return typeof i=="number"}function Gn(i){return typeof i=="number"&&i%1===0}function Pc(i){return typeof i=="string"}function qc(i){return Object.prototype.toString.call(i)==="[object Date]"}function _o(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function bo(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Vc(i){return Array.isArray(i)?i:[i]}function Es(i,e,t){if(i.length!==0)return i.reduce((n,s)=>{const r=[e(s),s];return n&&t(n[0],r[0])===n[0]?n:r},null)[1]}function Wc(i,e){return e.reduce((t,n)=>(t[n]=i[n],t),{})}function Vt(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Ti(i){if(i==null)return null;if(typeof i!="object")throw new Ne("Week settings must be an object");if(!$e(i.firstDay,1,7)||!$e(i.minimalDays,1,7)||!Array.isArray(i.weekend)||i.weekend.some(e=>!$e(e,1,7)))throw new Ne("Invalid week settings");return{firstDay:i.firstDay,minimalDays:i.minimalDays,weekend:Array.from(i.weekend)}}function $e(i,e,t){return Gn(i)&&i>=e&&i<=t}function Uc(i,e){return i-e*Math.floor(i/e)}function ke(i,e=2){const t=i<0;let n;return t?n="-"+(""+-i).padStart(e,"0"):n=(""+i).padStart(e,"0"),n}function ot(i){if(!(G(i)||i===null||i===""))return parseInt(i,10)}function dt(i){if(!(G(i)||i===null||i===""))return parseFloat(i)}function Ui(i){if(!(G(i)||i===null||i==="")){const e=parseFloat("0."+i)*1e3;return Math.floor(e)}}function ji(i,e,t=!1){const n=10**e;return(t?Math.trunc:Math.round)(i*n)/n}function dn(i){return i%4===0&&(i%100!==0||i%400===0)}function Rt(i){return dn(i)?366:365}function jn(i,e){const t=Uc(e-1,12)+1,n=i+(e-t)/12;return t===2?dn(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Qn(i){let e=Date.UTC(i.year,i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond);return i.year<100&&i.year>=0&&(e=new Date(e),e.setUTCFullYear(i.year,i.month-1,i.day)),+e}function Cs(i,e,t){return-Wi(Vi(i,1,e),t)+e-1}function sn(i,e=4,t=1){const n=Cs(i,e,t),s=Cs(i+1,e,t);return(Rt(i)-n+s)/7}function Oi(i){return i>99?i:i>be.twoDigitCutoffYear?1900+i:2e3+i}function wo(i,e,t,n=null){const s=new Date(i),r={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(r.timeZone=n);const l={timeZoneName:e,...r},o=new Intl.DateTimeFormat(t,l).formatToParts(s).find(a=>a.type.toLowerCase()==="timezonename");return o?o.value:null}function Xn(i,e){let t=parseInt(i,10);Number.isNaN(t)&&(t=0);const n=parseInt(e,10)||0,s=t<0||Object.is(t,-0)?-n:n;return t*60+s}function ko(i){const e=Number(i);if(typeof i=="boolean"||i===""||Number.isNaN(e))throw new Ne(`Invalid unit value ${i}`);return e}function $n(i,e){const t={};for(const n in i)if(Vt(i,n)){const s=i[n];if(s==null)continue;t[e(n)]=ko(s)}return t}function Xt(i,e){const t=Math.trunc(Math.abs(i/60)),n=Math.trunc(Math.abs(i%60)),s=i>=0?"+":"-";switch(e){case"short":return`${s}${ke(t,2)}:${ke(n,2)}`;case"narrow":return`${s}${t}${n>0?`:${n}`:""}`;case"techie":return`${s}${ke(t,2)}${ke(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function xn(i){return Wc(i,["hour","minute","second","millisecond"])}const jc=["January","February","March","April","May","June","July","August","September","October","November","December"],So=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],$c=["J","F","M","A","M","J","J","A","S","O","N","D"];function vo(i){switch(i){case"narrow":return[...$c];case"short":return[...So];case"long":return[...jc];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const To=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Oo=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],zc=["M","T","W","T","F","S","S"];function Eo(i){switch(i){case"narrow":return[...zc];case"short":return[...Oo];case"long":return[...To];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Co=["AM","PM"],Bc=["Before Christ","Anno Domini"],Zc=["BC","AD"],Hc=["B","A"];function Io(i){switch(i){case"narrow":return[...Hc];case"short":return[...Zc];case"long":return[...Bc];default:return null}}function Jc(i){return Co[i.hour<12?0:1]}function Yc(i,e){return Eo(e)[i.weekday-1]}function Kc(i,e){return vo(e)[i.month-1]}function Gc(i,e){return Io(e)[i.year<0?0:1]}function Qc(i,e,t="always",n=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},r=["hours","minutes","seconds"].indexOf(i)===-1;if(t==="auto"&&r){const f=i==="days";switch(e){case 1:return f?"tomorrow":`next ${s[i][0]}`;case-1:return f?"yesterday":`last ${s[i][0]}`;case 0:return f?"today":`this ${s[i][0]}`}}const l=Object.is(e,-0)||e<0,o=Math.abs(e),a=o===1,c=s[i],u=n?a?c[1]:c[2]||c[1]:a?s[i][0]:i;return l?`${o} ${u} ago`:`in ${o} ${u}`}function Is(i,e){let t="";for(const n of i)n.literal?t+=n.val:t+=e(n.val);return t}const Xc={D:Wn,DD:Hl,DDD:Jl,DDDD:Yl,t:Kl,tt:Gl,ttt:Ql,tttt:Xl,T:xl,TT:eo,TTT:to,TTTT:no,f:io,ff:ro,fff:oo,ffff:co,F:so,FF:lo,FFF:ao,FFFF:uo};class Oe{static create(e,t={}){return new Oe(e,t)}static parseFormat(e){let t=null,n="",s=!1;const r=[];for(let l=0;l<e.length;l++){const o=e.charAt(l);o==="'"?(n.length>0&&r.push({literal:s||/^\s+$/.test(n),val:n}),t=null,n="",s=!s):s||o===t?n+=o:(n.length>0&&r.push({literal:/^\s+$/.test(n),val:n}),n=o,t=o)}return n.length>0&&r.push({literal:s||/^\s+$/.test(n),val:n}),r}static macroTokenToFormatOpts(e){return Xc[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return ke(e,t);const n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){const n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",r=(d,y)=>this.loc.extract(e,d,y),l=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",o=()=>n?Jc(e):r({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(d,y)=>n?Kc(e,d):r(y?{month:d}:{month:d,day:"numeric"},"month"),c=(d,y)=>n?Yc(e,d):r(y?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),u=d=>{const y=Oe.macroTokenToFormatOpts(d);return y?this.formatWithSystemDefault(e,y):d},f=d=>n?Gc(e,d):r({era:d},"era"),m=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return s?r({day:"numeric"},"day"):this.num(e.day);case"dd":return s?r({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return s?r({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?r({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return s?r({month:"numeric"},"month"):this.num(e.month);case"MM":return s?r({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return s?r({year:"numeric"},"year"):this.num(e.year);case"yy":return s?r({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?r({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?r({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return u(d)}};return Is(Oe.parseFormat(t),m)}formatDurationFromString(e,t){const n=a=>{switch(a[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=a=>c=>{const u=n(c);return u?this.num(a.get(u),c.length):c},r=Oe.parseFormat(t),l=r.reduce((a,{literal:c,val:u})=>c?a:a.concat(u),[]),o=e.shiftTo(...l.map(n).filter(a=>a));return Is(r,s(o))}}const No=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ut(...i){const e=i.reduce((t,n)=>t+n.source,"");return RegExp(`^${e}$`)}function jt(...i){return e=>i.reduce(([t,n,s],r)=>{const[l,o,a]=r(e,s);return[{...t,...l},o||n,a]},[{},null,1]).slice(0,2)}function $t(i,...e){if(i==null)return[null,null];for(const[t,n]of e){const s=t.exec(i);if(s)return n(s)}return[null,null]}function Do(...i){return(e,t)=>{const n={};let s;for(s=0;s<i.length;s++)n[i[s]]=ot(e[t+s]);return[n,null,t+s]}}const Lo=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,xc=`(?:${Lo.source}?(?:\\[(${No.source})\\])?)?`,$i=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Mo=RegExp(`${$i.source}${xc}`),zi=RegExp(`(?:T${Mo.source})?`),eu=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,tu=/(\d{4})-?W(\d\d)(?:-?(\d))?/,nu=/(\d{4})-?(\d{3})/,iu=Do("weekYear","weekNumber","weekDay"),su=Do("year","ordinal"),ru=/(\d{4})-(\d\d)-(\d\d)/,Ao=RegExp(`${$i.source} ?(?:${Lo.source}|(${No.source}))?`),lu=RegExp(`(?: ${Ao.source})?`);function Ft(i,e,t){const n=i[e];return G(n)?t:ot(n)}function ou(i,e){return[{year:Ft(i,e),month:Ft(i,e+1,1),day:Ft(i,e+2,1)},null,e+3]}function zt(i,e){return[{hours:Ft(i,e,0),minutes:Ft(i,e+1,0),seconds:Ft(i,e+2,0),milliseconds:Ui(i[e+3])},null,e+4]}function hn(i,e){const t=!i[e]&&!i[e+1],n=Xn(i[e+1],i[e+2]),s=t?null:Ce.instance(n);return[{},s,e+3]}function mn(i,e){const t=i[e]?nt.create(i[e]):null;return[{},t,e+1]}const au=RegExp(`^T?${$i.source}$`),cu=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function uu(i){const[e,t,n,s,r,l,o,a,c]=i,u=e[0]==="-",f=a&&a[0]==="-",m=(d,y=!1)=>d!==void 0&&(y||d&&u)?-d:d;return[{years:m(dt(t)),months:m(dt(n)),weeks:m(dt(s)),days:m(dt(r)),hours:m(dt(l)),minutes:m(dt(o)),seconds:m(dt(a),a==="-0"),milliseconds:m(Ui(c),f)}]}const fu={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Bi(i,e,t,n,s,r,l){const o={year:e.length===2?Oi(ot(e)):ot(e),month:So.indexOf(t)+1,day:ot(n),hour:ot(s),minute:ot(r)};return l&&(o.second=ot(l)),i&&(o.weekday=i.length>3?To.indexOf(i)+1:Oo.indexOf(i)+1),o}const du=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function hu(i){const[,e,t,n,s,r,l,o,a,c,u,f]=i,m=Bi(e,s,n,t,r,l,o);let d;return a?d=fu[a]:c?d=0:d=Xn(u,f),[m,new Ce(d)]}function mu(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const pu=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,gu=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,yu=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Ns(i){const[,e,t,n,s,r,l,o]=i;return[Bi(e,s,n,t,r,l,o),Ce.utcInstance]}function _u(i){const[,e,t,n,s,r,l,o]=i;return[Bi(e,o,t,n,s,r,l),Ce.utcInstance]}const bu=Ut(eu,zi),wu=Ut(tu,zi),ku=Ut(nu,zi),Su=Ut(Mo),Ro=jt(ou,zt,hn,mn),vu=jt(iu,zt,hn,mn),Tu=jt(su,zt,hn,mn),Ou=jt(zt,hn,mn);function Eu(i){return $t(i,[bu,Ro],[wu,vu],[ku,Tu],[Su,Ou])}function Cu(i){return $t(mu(i),[du,hu])}function Iu(i){return $t(i,[pu,Ns],[gu,Ns],[yu,_u])}function Nu(i){return $t(i,[cu,uu])}const Du=jt(zt);function Lu(i){return $t(i,[au,Du])}const Mu=Ut(ru,lu),Au=Ut(Ao),Ru=jt(zt,hn,mn);function Fu(i){return $t(i,[Mu,Ro],[Au,Ru])}const Ds="Invalid Duration",Fo={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Pu={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Fo},Ue=146097/400,It=146097/4800,qu={years:{quarters:4,months:12,weeks:Ue/7,days:Ue,hours:Ue*24,minutes:Ue*24*60,seconds:Ue*24*60*60,milliseconds:Ue*24*60*60*1e3},quarters:{months:3,weeks:Ue/28,days:Ue/4,hours:Ue*24/4,minutes:Ue*24*60/4,seconds:Ue*24*60*60/4,milliseconds:Ue*24*60*60*1e3/4},months:{weeks:It/7,days:It,hours:It*24,minutes:It*24*60,seconds:It*24*60*60,milliseconds:It*24*60*60*1e3},...Fo},gt=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Vu=gt.slice(0).reverse();function lt(i,e,t=!1){const n={values:t?e.values:{...i.values,...e.values||{}},loc:i.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||i.conversionAccuracy,matrix:e.matrix||i.matrix};return new te(n)}function Po(i,e){let t=e.milliseconds??0;for(const n of Vu.slice(1))e[n]&&(t+=e[n]*i[n].milliseconds);return t}function Ls(i,e){const t=Po(i,e)<0?-1:1;gt.reduceRight((n,s)=>{if(G(e[s]))return n;if(n){const r=e[n]*t,l=i[s][n],o=Math.floor(r/l);e[s]+=o*t,e[n]-=o*l*t}return s},null),gt.reduce((n,s)=>{if(G(e[s]))return n;if(n){const r=e[n]%1;e[n]-=r,e[s]+=r*i[n][s]}return s},null)}function Wu(i){const e={};for(const[t,n]of Object.entries(i))n!==0&&(e[t]=n);return e}class te{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let n=t?qu:Pu;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||de.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return te.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Ne(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new te({values:$n(e,te.normalizeUnit),loc:de.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(_t(e))return te.fromMillis(e);if(te.isDuration(e))return e;if(typeof e=="object")return te.fromObject(e);throw new Ne(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[n]=Nu(e);return n?te.fromObject(n,t):te.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[n]=Lu(e);return n?te.fromObject(n,t):te.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Ne("need to specify a reason the Duration is invalid");const n=e instanceof Je?e:new Je(e,t);if(be.throwOnInvalid)throw new dc(n);return new te({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new Zl(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const n={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?Oe.create(this.loc,n).formatDurationFromString(this,e):Ds}toHuman(e={}){if(!this.isValid)return Ds;const t=gt.map(n=>{const s=this.values[n];return G(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=ji(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},X.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Po(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=te.fromDurationLike(e),n={};for(const s of gt)(Vt(t.values,s)||Vt(this.values,s))&&(n[s]=t.get(s)+this.get(s));return lt(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=te.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=ko(e(this.values[n],n));return lt(this,{values:t},!0)}get(e){return this[te.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...$n(e,te.normalizeUnit)};return lt(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:s}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:s,conversionAccuracy:n};return lt(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Ls(this.matrix,e),lt(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=Wu(this.normalize().shiftToAll().toObject());return lt(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>te.normalizeUnit(l));const t={},n={},s=this.toObject();let r;for(const l of gt)if(e.indexOf(l)>=0){r=l;let o=0;for(const c in n)o+=this.matrix[c][l]*n[c],n[c]=0;_t(s[l])&&(o+=s[l]);const a=Math.trunc(o);t[l]=a,n[l]=(o*1e3-a*1e3)/1e3}else _t(s[l])&&(n[l]=s[l]);for(const l in n)n[l]!==0&&(t[r]+=l===r?n[l]:n[l]/this.matrix[r][l]);return Ls(this.matrix,t),lt(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return lt(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(const n of gt)if(!t(this.values[n],e.values[n]))return!1;return!0}}const Nt="Invalid Interval";function Uu(i,e){return!i||!i.isValid?_e.invalid("missing or invalid start"):!e||!e.isValid?_e.invalid("missing or invalid end"):e<i?_e.invalid("end before start",`The end of an interval must be after its start, but you had start=${i.toISO()} and end=${e.toISO()}`):null}class _e{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Ne("need to specify a reason the Interval is invalid");const n=e instanceof Je?e:new Je(e,t);if(be.throwOnInvalid)throw new fc(n);return new _e({invalid:n})}static fromDateTimes(e,t){const n=Kt(e),s=Kt(t),r=Uu(n,s);return r??new _e({start:n,end:s})}static after(e,t){const n=te.fromDurationLike(t),s=Kt(e);return _e.fromDateTimes(s,s.plus(n))}static before(e,t){const n=te.fromDurationLike(t),s=Kt(e);return _e.fromDateTimes(s.minus(n),s)}static fromISO(e,t){const[n,s]=(e||"").split("/",2);if(n&&s){let r,l;try{r=X.fromISO(n,t),l=r.isValid}catch{l=!1}let o,a;try{o=X.fromISO(s,t),a=o.isValid}catch{a=!1}if(l&&a)return _e.fromDateTimes(r,o);if(l){const c=te.fromISO(s,t);if(c.isValid)return _e.after(r,c)}else if(a){const c=te.fromISO(n,t);if(c.isValid)return _e.before(o,c)}}return _e.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const n=this.start.startOf(e,t);let s;return t!=null&&t.useLocaleWeeks?s=this.end.reconfigure({locale:n.locale}):s=this.end,s=s.startOf(e,t),Math.floor(s.diff(n,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?_e.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Kt).filter(l=>this.contains(l)).sort((l,o)=>l.toMillis()-o.toMillis()),n=[];let{s}=this,r=0;for(;s<this.e;){const l=t[r]||this.e,o=+l>+this.e?this.e:l;n.push(_e.fromDateTimes(s,o)),s=o,r+=1}return n}splitBy(e){const t=te.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:n}=this,s=1,r;const l=[];for(;n<this.e;){const o=this.start.plus(t.mapUnits(a=>a*s));r=+o>+this.e?this.e:o,l.push(_e.fromDateTimes(n,r)),n=r,s+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:_e.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return _e.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort((s,r)=>s.s-r.s).reduce(([s,r],l)=>r?r.overlaps(l)||r.abutsStart(l)?[s,r.union(l)]:[s.concat([r]),l]:[s,l],[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const s=[],r=e.map(a=>[{time:a.s,type:"s"},{time:a.e,type:"e"}]),l=Array.prototype.concat(...r),o=l.sort((a,c)=>a.time-c.time);for(const a of o)n+=a.type==="s"?1:-1,n===1?t=a.time:(t&&+t!=+a.time&&s.push(_e.fromDateTimes(t,a.time)),t=null);return _e.merge(s)}difference(...e){return _e.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Nt}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Wn,t={}){return this.isValid?Oe.create(this.s.loc.clone(t),e).formatInterval(this):Nt}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Nt}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Nt}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Nt}toFormat(e,{separator:t="  "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Nt}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):te.invalid(this.invalidReason)}mapEndpoints(e){return _e.fromDateTimes(e(this.s),e(this.e))}}class Sn{static hasDST(e=be.defaultZone){const t=X.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return nt.isValidZone(e)}static normalizeZone(e){return ct(e,be.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||de.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||de.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||de.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null,outputCalendar:r="gregory"}={}){return(s||de.create(t,n,r)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null,outputCalendar:r="gregory"}={}){return(s||de.create(t,n,r)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null}={}){return(s||de.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null}={}){return(s||de.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return de.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return de.create(t,null,"gregory").eras(e)}static features(){return{relative:_o(),localeWeek:bo()}}}function Ms(i,e){const t=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=t(e)-t(i);return Math.floor(te.fromMillis(n).as("days"))}function ju(i,e,t){const n=[["years",(a,c)=>c.year-a.year],["quarters",(a,c)=>c.quarter-a.quarter+(c.year-a.year)*4],["months",(a,c)=>c.month-a.month+(c.year-a.year)*12],["weeks",(a,c)=>{const u=Ms(a,c);return(u-u%7)/7}],["days",Ms]],s={},r=i;let l,o;for(const[a,c]of n)t.indexOf(a)>=0&&(l=a,s[a]=c(i,e),o=r.plus(s),o>e?(s[a]--,i=r.plus(s),i>e&&(o=i,s[a]--,i=r.plus(s))):i=o);return[i,s,o,l]}function $u(i,e,t,n){let[s,r,l,o]=ju(i,e,t);const a=e-s,c=t.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);c.length===0&&(l<e&&(l=s.plus({[o]:1})),l!==s&&(r[o]=(r[o]||0)+a/(l-s)));const u=te.fromObject(r,n);return c.length>0?te.fromMillis(a,n).shiftTo(...c).plus(u):u}const Zi={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},As={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},zu=Zi.hanidec.replace(/[\[|\]]/g,"").split("");function Bu(i){let e=parseInt(i,10);if(isNaN(e)){e="";for(let t=0;t<i.length;t++){const n=i.charCodeAt(t);if(i[t].search(Zi.hanidec)!==-1)e+=zu.indexOf(i[t]);else for(const s in As){const[r,l]=As[s];n>=r&&n<=l&&(e+=n-r)}}return parseInt(e,10)}else return e}function Ze({numberingSystem:i},e=""){return new RegExp(`${Zi[i||"latn"]}${e}`)}const Zu="missing Intl.DateTimeFormat.formatToParts support";function se(i,e=t=>t){return{regex:i,deser:([t])=>e(Bu(t))}}const Hu="",qo=`[ ${Hu}]`,Vo=new RegExp(qo,"g");function Ju(i){return i.replace(/\./g,"\\.?").replace(Vo,qo)}function Rs(i){return i.replace(/\./g,"").replace(Vo," ").toLowerCase()}function He(i,e){return i===null?null:{regex:RegExp(i.map(Ju).join("|")),deser:([t])=>i.findIndex(n=>Rs(t)===Rs(n))+e}}function Fs(i,e){return{regex:i,deser:([,t,n])=>Xn(t,n),groups:e}}function vn(i){return{regex:i,deser:([e])=>e}}function Yu(i){return i.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Ku(i,e){const t=Ze(e),n=Ze(e,"{2}"),s=Ze(e,"{3}"),r=Ze(e,"{4}"),l=Ze(e,"{6}"),o=Ze(e,"{1,2}"),a=Ze(e,"{1,3}"),c=Ze(e,"{1,6}"),u=Ze(e,"{1,9}"),f=Ze(e,"{2,4}"),m=Ze(e,"{4,6}"),d=p=>({regex:RegExp(Yu(p.val)),deser:([_])=>_,literal:!0}),g=(p=>{if(i.literal)return d(p);switch(p.val){case"G":return He(e.eras("short"),0);case"GG":return He(e.eras("long"),0);case"y":return se(c);case"yy":return se(f,Oi);case"yyyy":return se(r);case"yyyyy":return se(m);case"yyyyyy":return se(l);case"M":return se(o);case"MM":return se(n);case"MMM":return He(e.months("short",!0),1);case"MMMM":return He(e.months("long",!0),1);case"L":return se(o);case"LL":return se(n);case"LLL":return He(e.months("short",!1),1);case"LLLL":return He(e.months("long",!1),1);case"d":return se(o);case"dd":return se(n);case"o":return se(a);case"ooo":return se(s);case"HH":return se(n);case"H":return se(o);case"hh":return se(n);case"h":return se(o);case"mm":return se(n);case"m":return se(o);case"q":return se(o);case"qq":return se(n);case"s":return se(o);case"ss":return se(n);case"S":return se(a);case"SSS":return se(s);case"u":return vn(u);case"uu":return vn(o);case"uuu":return se(t);case"a":return He(e.meridiems(),0);case"kkkk":return se(r);case"kk":return se(f,Oi);case"W":return se(o);case"WW":return se(n);case"E":case"c":return se(t);case"EEE":return He(e.weekdays("short",!1),1);case"EEEE":return He(e.weekdays("long",!1),1);case"ccc":return He(e.weekdays("short",!0),1);case"cccc":return He(e.weekdays("long",!0),1);case"Z":case"ZZ":return Fs(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return Fs(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return vn(/[a-z_+-/]{1,256}?/i);case" ":return vn(/[^\S\n\r]/);default:return d(p)}})(i)||{invalidReason:Zu};return g.token=i,g}const Gu={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Qu(i,e,t){const{type:n,value:s}=i;if(n==="literal"){const a=/^\s+$/.test(s);return{literal:!a,val:a?" ":s}}const r=e[n];let l=n;n==="hour"&&(e.hour12!=null?l=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?l="hour12":l="hour24":l=t.hour12?"hour12":"hour24");let o=Gu[l];if(typeof o=="object"&&(o=o[r]),o)return{literal:!1,val:o}}function Xu(i){return[`^${i.map(t=>t.regex).reduce((t,n)=>`${t}(${n.source})`,"")}$`,i]}function xu(i,e,t){const n=i.match(e);if(n){const s={};let r=1;for(const l in t)if(Vt(t,l)){const o=t[l],a=o.groups?o.groups+1:1;!o.literal&&o.token&&(s[o.token.val[0]]=o.deser(n.slice(r,r+a))),r+=a}return[n,s]}else return[n,{}]}function ef(i){const e=r=>{switch(r){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,n;return G(i.z)||(t=nt.create(i.z)),G(i.Z)||(t||(t=new Ce(i.Z)),n=i.Z),G(i.q)||(i.M=(i.q-1)*3+1),G(i.h)||(i.h<12&&i.a===1?i.h+=12:i.h===12&&i.a===0&&(i.h=0)),i.G===0&&i.y&&(i.y=-i.y),G(i.u)||(i.S=Ui(i.u)),[Object.keys(i).reduce((r,l)=>{const o=e(l);return o&&(r[o]=i[l]),r},{}),t,n]}let ui=null;function tf(){return ui||(ui=X.fromMillis(1555555555555)),ui}function nf(i,e){if(i.literal)return i;const t=Oe.macroTokenToFormatOpts(i.val),n=jo(t,e);return n==null||n.includes(void 0)?i:n}function Wo(i,e){return Array.prototype.concat(...i.map(t=>nf(t,e)))}function Uo(i,e,t){const n=Wo(Oe.parseFormat(t),i),s=n.map(l=>Ku(l,i)),r=s.find(l=>l.invalidReason);if(r)return{input:e,tokens:n,invalidReason:r.invalidReason};{const[l,o]=Xu(s),a=RegExp(l,"i"),[c,u]=xu(e,a,o),[f,m,d]=u?ef(u):[null,null,void 0];if(Vt(u,"a")&&Vt(u,"H"))throw new Lt("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:a,rawMatches:c,matches:u,result:f,zone:m,specificOffset:d}}}function sf(i,e,t){const{result:n,zone:s,specificOffset:r,invalidReason:l}=Uo(i,e,t);return[n,s,r,l]}function jo(i,e){if(!i)return null;const n=Oe.create(e,i).dtFormatter(tf()),s=n.formatToParts(),r=n.resolvedOptions();return s.map(l=>Qu(l,i,r))}const fi="Invalid DateTime",Ps=864e13;function Tn(i){return new Je("unsupported zone",`the zone "${i.name}" is not supported`)}function di(i){return i.weekData===null&&(i.weekData=Un(i.c)),i.weekData}function hi(i){return i.localWeekData===null&&(i.localWeekData=Un(i.c,i.loc.getMinDaysInFirstWeek(),i.loc.getStartOfWeek())),i.localWeekData}function ht(i,e){const t={ts:i.ts,zone:i.zone,c:i.c,o:i.o,loc:i.loc,invalid:i.invalid};return new X({...t,...e,old:t})}function $o(i,e,t){let n=i-e*60*1e3;const s=t.offset(n);if(e===s)return[n,e];n-=(s-e)*60*1e3;const r=t.offset(n);return s===r?[n,s]:[i-Math.min(s,r)*60*1e3,Math.max(s,r)]}function On(i,e){i+=e*60*1e3;const t=new Date(i);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function An(i,e,t){return $o(Qn(i),e,t)}function qs(i,e){const t=i.o,n=i.c.year+Math.trunc(e.years),s=i.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,r={...i.c,year:n,month:s,day:Math.min(i.c.day,jn(n,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=te.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=Qn(r);let[a,c]=$o(o,t,i.zone);return l!==0&&(a+=l,c=i.zone.offset(a)),{ts:a,o:c}}function Yt(i,e,t,n,s,r){const{setZone:l,zone:o}=t;if(i&&Object.keys(i).length!==0||e){const a=e||o,c=X.fromObject(i,{...t,zone:a,specificOffset:r});return l?c:c.setZone(o)}else return X.invalid(new Je("unparsable",`the input "${s}" can't be parsed as ${n}`))}function En(i,e,t=!0){return i.isValid?Oe.create(de.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(i,e):null}function mi(i,e){const t=i.c.year>9999||i.c.year<0;let n="";return t&&i.c.year>=0&&(n+="+"),n+=ke(i.c.year,t?6:4),e?(n+="-",n+=ke(i.c.month),n+="-",n+=ke(i.c.day)):(n+=ke(i.c.month),n+=ke(i.c.day)),n}function Vs(i,e,t,n,s,r){let l=ke(i.c.hour);return e?(l+=":",l+=ke(i.c.minute),(i.c.millisecond!==0||i.c.second!==0||!t)&&(l+=":")):l+=ke(i.c.minute),(i.c.millisecond!==0||i.c.second!==0||!t)&&(l+=ke(i.c.second),(i.c.millisecond!==0||!n)&&(l+=".",l+=ke(i.c.millisecond,3))),s&&(i.isOffsetFixed&&i.offset===0&&!r?l+="Z":i.o<0?(l+="-",l+=ke(Math.trunc(-i.o/60)),l+=":",l+=ke(Math.trunc(-i.o%60))):(l+="+",l+=ke(Math.trunc(i.o/60)),l+=":",l+=ke(Math.trunc(i.o%60)))),r&&(l+="["+i.zone.ianaName+"]"),l}const zo={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},rf={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},lf={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Bo=["year","month","day","hour","minute","second","millisecond"],of=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],af=["year","ordinal","hour","minute","second","millisecond"];function cf(i){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[i.toLowerCase()];if(!e)throw new Zl(i);return e}function Ws(i){switch(i.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return cf(i)}}function Us(i,e){const t=ct(e.zone,be.defaultZone),n=de.fromObject(e),s=be.now();let r,l;if(G(i.year))r=s;else{for(const c of Bo)G(i[c])&&(i[c]=zo[c]);const o=go(i)||yo(i);if(o)return X.invalid(o);const a=t.offset(s);[r,l]=An(i,a,t)}return new X({ts:r,zone:t,loc:n,o:l})}function js(i,e,t){const n=G(t.round)?!0:t.round,s=(l,o)=>(l=ji(l,n||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(l,o)),r=l=>t.calendary?e.hasSame(i,l)?0:e.startOf(l).diff(i.startOf(l),l).get(l):e.diff(i,l).get(l);if(t.unit)return s(r(t.unit),t.unit);for(const l of t.units){const o=r(l);if(Math.abs(o)>=1)return s(o,l)}return s(i>e?-0:0,t.units[t.units.length-1])}function $s(i){let e={},t;return i.length>0&&typeof i[i.length-1]=="object"?(e=i[i.length-1],t=Array.from(i).slice(0,i.length-1)):t=Array.from(i),[e,t]}class X{constructor(e){const t=e.zone||be.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new Je("invalid input"):null)||(t.isValid?null:Tn(t));this.ts=G(e.ts)?be.now():e.ts;let s=null,r=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[s,r]=[e.old.c,e.old.o];else{const o=t.offset(this.ts);s=On(this.ts,o),n=Number.isNaN(s.year)?new Je("invalid input"):null,s=n?null:s,r=n?null:o}this._zone=t,this.loc=e.loc||de.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=s,this.o=r,this.isLuxonDateTime=!0}static now(){return new X({})}static local(){const[e,t]=$s(arguments),[n,s,r,l,o,a,c]=t;return Us({year:n,month:s,day:r,hour:l,minute:o,second:a,millisecond:c},e)}static utc(){const[e,t]=$s(arguments),[n,s,r,l,o,a,c]=t;return e.zone=Ce.utcInstance,Us({year:n,month:s,day:r,hour:l,minute:o,second:a,millisecond:c},e)}static fromJSDate(e,t={}){const n=qc(e)?e.valueOf():NaN;if(Number.isNaN(n))return X.invalid("invalid input");const s=ct(t.zone,be.defaultZone);return s.isValid?new X({ts:n,zone:s,loc:de.fromObject(t)}):X.invalid(Tn(s))}static fromMillis(e,t={}){if(_t(e))return e<-Ps||e>Ps?X.invalid("Timestamp out of range"):new X({ts:e,zone:ct(t.zone,be.defaultZone),loc:de.fromObject(t)});throw new Ne(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(_t(e))return new X({ts:e*1e3,zone:ct(t.zone,be.defaultZone),loc:de.fromObject(t)});throw new Ne("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const n=ct(t.zone,be.defaultZone);if(!n.isValid)return X.invalid(Tn(n));const s=de.fromObject(t),r=$n(e,Ws),{minDaysInFirstWeek:l,startOfWeek:o}=Os(r,s),a=be.now(),c=G(t.specificOffset)?n.offset(a):t.specificOffset,u=!G(r.ordinal),f=!G(r.year),m=!G(r.month)||!G(r.day),d=f||m,y=r.weekYear||r.weekNumber;if((d||u)&&y)throw new Lt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&u)throw new Lt("Can't mix ordinal dates with month/day");const g=y||r.weekday&&!d;let p,_,E=On(a,c);g?(p=of,_=rf,E=Un(E,l,o)):u?(p=af,_=lf,E=ci(E)):(p=Bo,_=zo);let N=!1;for(const q of p){const R=r[q];G(R)?N?r[q]=_[q]:r[q]=E[q]:N=!0}const I=g?Rc(r,l,o):u?Fc(r):go(r),C=I||yo(r);if(C)return X.invalid(C);const O=g?vs(r,l,o):u?Ts(r):r,[D,A]=An(O,c,n),j=new X({ts:D,zone:n,o:A,loc:s});return r.weekday&&d&&e.weekday!==j.weekday?X.invalid("mismatched weekday",`you can't specify both a weekday of ${r.weekday} and a date of ${j.toISO()}`):j}static fromISO(e,t={}){const[n,s]=Eu(e);return Yt(n,s,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[n,s]=Cu(e);return Yt(n,s,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[n,s]=Iu(e);return Yt(n,s,t,"HTTP",t)}static fromFormat(e,t,n={}){if(G(e)||G(t))throw new Ne("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:r=null}=n,l=de.fromOpts({locale:s,numberingSystem:r,defaultToEN:!0}),[o,a,c,u]=sf(l,e,t);return u?X.invalid(u):Yt(o,a,n,`format ${t}`,e,c)}static fromString(e,t,n={}){return X.fromFormat(e,t,n)}static fromSQL(e,t={}){const[n,s]=Fu(e);return Yt(n,s,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Ne("need to specify a reason the DateTime is invalid");const n=e instanceof Je?e:new Je(e,t);if(be.throwOnInvalid)throw new uc(n);return new X({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const n=jo(e,de.fromObject(t));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(e,t={}){return Wo(Oe.parseFormat(e),de.fromObject(t)).map(s=>s.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?di(this).weekYear:NaN}get weekNumber(){return this.isValid?di(this).weekNumber:NaN}get weekday(){return this.isValid?di(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?hi(this).weekday:NaN}get localWeekNumber(){return this.isValid?hi(this).weekNumber:NaN}get localWeekYear(){return this.isValid?hi(this).weekYear:NaN}get ordinal(){return this.isValid?ci(this.c).ordinal:NaN}get monthShort(){return this.isValid?Sn.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Sn.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Sn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Sn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,n=Qn(this.c),s=this.zone.offset(n-e),r=this.zone.offset(n+e),l=this.zone.offset(n-s*t),o=this.zone.offset(n-r*t);if(l===o)return[this];const a=n-l*t,c=n-o*t,u=On(a,l),f=On(c,o);return u.hour===f.hour&&u.minute===f.minute&&u.second===f.second&&u.millisecond===f.millisecond?[ht(this,{ts:a}),ht(this,{ts:c})]:[this]}get isInLeapYear(){return dn(this.year)}get daysInMonth(){return jn(this.year,this.month)}get daysInYear(){return this.isValid?Rt(this.year):NaN}get weeksInWeekYear(){return this.isValid?sn(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?sn(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:n,calendar:s}=Oe.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:s}}toUTC(e=0,t={}){return this.setZone(Ce.instance(e),t)}toLocal(){return this.setZone(be.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if(e=ct(e,be.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(t||n){const r=e.offset(this.ts),l=this.toObject();[s]=An(l,r,e)}return ht(this,{ts:s,zone:e})}else return X.invalid(Tn(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){const s=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n});return ht(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=$n(e,Ws),{minDaysInFirstWeek:n,startOfWeek:s}=Os(t,this.loc),r=!G(t.weekYear)||!G(t.weekNumber)||!G(t.weekday),l=!G(t.ordinal),o=!G(t.year),a=!G(t.month)||!G(t.day),c=o||a,u=t.weekYear||t.weekNumber;if((c||l)&&u)throw new Lt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&l)throw new Lt("Can't mix ordinal dates with month/day");let f;r?f=vs({...Un(this.c,n,s),...t},n,s):G(t.ordinal)?(f={...this.toObject(),...t},G(t.day)&&(f.day=Math.min(jn(f.year,f.month),f.day))):f=Ts({...ci(this.c),...t});const[m,d]=An(f,this.o,this.zone);return ht(this,{ts:m,o:d})}plus(e){if(!this.isValid)return this;const t=te.fromDurationLike(e);return ht(this,qs(this,t))}minus(e){if(!this.isValid)return this;const t=te.fromDurationLike(e).negate();return ht(this,qs(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const n={},s=te.normalizeUnit(e);switch(s){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(s==="weeks")if(t){const r=this.loc.getStartOfWeek(),{weekday:l}=this;l<r&&(n.weekNumber=this.weekNumber-1),n.weekday=r}else n.weekday=1;if(s==="quarters"){const r=Math.ceil(this.month/3);n.month=(r-1)*3+1}return this.set(n)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?Oe.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):fi}toLocaleString(e=Wn,t={}){return this.isValid?Oe.create(this.loc.clone(t),e).formatDateTime(this):fi}toLocaleParts(e={}){return this.isValid?Oe.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:r=!1}={}){if(!this.isValid)return null;const l=e==="extended";let o=mi(this,l);return o+="T",o+=Vs(this,l,t,n,s,r),o}toISODate({format:e="extended"}={}){return this.isValid?mi(this,e==="extended"):null}toISOWeekDate(){return En(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:r=!1,format:l="extended"}={}){return this.isValid?(s?"T":"")+Vs(this,l==="extended",t,e,n,r):null}toRFC2822(){return En(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return En(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?mi(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(t||e)&&(n&&(s+=" "),t?s+="z":e&&(s+="ZZ")),En(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():fi}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return te.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...n},r=Vc(t).map(te.normalizeUnit),l=e.valueOf()>this.valueOf(),o=l?this:e,a=l?e:this,c=$u(o,a,r,s);return l?c.negate():c}diffNow(e="milliseconds",t={}){return this.diff(X.now(),e,t)}until(e){return this.isValid?_e.fromDateTimes(this,e):this}hasSame(e,t,n){if(!this.isValid)return!1;const s=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(t,n)<=s&&s<=r.endOf(t,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||X.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],r=e.unit;return Array.isArray(e.unit)&&(s=e.unit,r=void 0),js(t,this.plus(n),{...e,numeric:"always",units:s,unit:r})}toRelativeCalendar(e={}){return this.isValid?js(e.base||X.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(X.isDateTime))throw new Ne("min requires all arguments be DateTimes");return Es(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(X.isDateTime))throw new Ne("max requires all arguments be DateTimes");return Es(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,n={}){const{locale:s=null,numberingSystem:r=null}=n,l=de.fromOpts({locale:s,numberingSystem:r,defaultToEN:!0});return Uo(l,e,t)}static fromStringExplain(e,t,n={}){return X.fromFormatExplain(e,t,n)}static get DATE_SHORT(){return Wn}static get DATE_MED(){return Hl}static get DATE_MED_WITH_WEEKDAY(){return hc}static get DATE_FULL(){return Jl}static get DATE_HUGE(){return Yl}static get TIME_SIMPLE(){return Kl}static get TIME_WITH_SECONDS(){return Gl}static get TIME_WITH_SHORT_OFFSET(){return Ql}static get TIME_WITH_LONG_OFFSET(){return Xl}static get TIME_24_SIMPLE(){return xl}static get TIME_24_WITH_SECONDS(){return eo}static get TIME_24_WITH_SHORT_OFFSET(){return to}static get TIME_24_WITH_LONG_OFFSET(){return no}static get DATETIME_SHORT(){return io}static get DATETIME_SHORT_WITH_SECONDS(){return so}static get DATETIME_MED(){return ro}static get DATETIME_MED_WITH_SECONDS(){return lo}static get DATETIME_MED_WITH_WEEKDAY(){return mc}static get DATETIME_FULL(){return oo}static get DATETIME_FULL_WITH_SECONDS(){return ao}static get DATETIME_HUGE(){return co}static get DATETIME_HUGE_WITH_SECONDS(){return uo}}function Kt(i){if(X.isDateTime(i))return i;if(i&&i.valueOf&&_t(i.valueOf()))return X.fromJSDate(i);if(i&&typeof i=="object")return X.fromObject(i);throw new Ne(`Unknown datetime argument: ${i}, of type ${typeof i}`)}const uf=[".jpg",".jpeg",".png",".svg",".gif",".jfif",".webp",".avif"],ff=[".mp4",".avi",".mov",".3gp",".wmv"],df=[".aa",".aac",".m4v",".mp3",".ogg",".oga",".mogg",".amr"],hf=[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".odp",".odt",".ods",".txt"];class M{static isObject(e){return e!==null&&typeof e=="object"&&e.constructor===Object}static clone(e){return typeof structuredClone<"u"?structuredClone(e):JSON.parse(JSON.stringify(e))}static isEmpty(e){return e===""||e===null||e==="00000000-0000-0000-0000-000000000000"||e==="0001-01-01 00:00:00.000Z"||e==="0001-01-01"||typeof e>"u"||Array.isArray(e)&&e.length===0||M.isObject(e)&&Object.keys(e).length===0}static isInput(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return t==="input"||t==="select"||t==="textarea"||(e==null?void 0:e.isContentEditable)}static isFocusable(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return M.isInput(e)||t==="button"||t==="a"||t==="details"||(e==null?void 0:e.tabIndex)>=0}static hasNonEmptyProps(e){for(let t in e)if(!M.isEmpty(e[t]))return!0;return!1}static toArray(e,t=!1){return Array.isArray(e)?e.slice():(t||!M.isEmpty(e))&&typeof e<"u"?[e]:[]}static inArray(e,t){e=Array.isArray(e)?e:[];for(let n=e.length-1;n>=0;n--)if(e[n]==t)return!0;return!1}static removeByValue(e,t){e=Array.isArray(e)?e:[];for(let n=e.length-1;n>=0;n--)if(e[n]==t){e.splice(n,1);break}}static pushUnique(e,t){M.inArray(e,t)||e.push(t)}static findByKey(e,t,n){e=Array.isArray(e)?e:[];for(let s in e)if(e[s][t]==n)return e[s];return null}static groupByKey(e,t){e=Array.isArray(e)?e:[];const n={};for(let s in e)n[e[s][t]]=n[e[s][t]]||[],n[e[s][t]].push(e[s]);return n}static removeByKey(e,t,n){for(let s in e)if(e[s][t]==n){e.splice(s,1);break}}static pushOrReplaceByKey(e,t,n="id"){for(let s=e.length-1;s>=0;s--)if(e[s][n]==t[n]){e[s]=t;return}e.push(t)}static filterDuplicatesByKey(e,t="id"){e=Array.isArray(e)?e:[];const n={};for(const s of e)n[s[t]]=s;return Object.values(n)}static filterRedactedProps(e,t="******"){const n=JSON.parse(JSON.stringify(e||{}));for(let s in n)typeof n[s]=="object"&&n[s]!==null?n[s]=M.filterRedactedProps(n[s],t):n[s]===t&&delete n[s];return n}static getNestedVal(e,t,n=null,s="."){let r=e||{},l=(t||"").split(s);for(const o of l){if(!M.isObject(r)&&!Array.isArray(r)||typeof r[o]>"u")return n;r=r[o]}return r}static setByPath(e,t,n,s="."){if(e===null||typeof e!="object"){console.warn("setByPath: data not an object or array.");return}let r=e,l=t.split(s),o=l.pop();for(const a of l)(!M.isObject(r)&&!Array.isArray(r)||!M.isObject(r[a])&&!Array.isArray(r[a]))&&(r[a]={}),r=r[a];r[o]=n}static deleteByPath(e,t,n="."){let s=e||{},r=(t||"").split(n),l=r.pop();for(const o of r)(!M.isObject(s)&&!Array.isArray(s)||!M.isObject(s[o])&&!Array.isArray(s[o]))&&(s[o]={}),s=s[o];Array.isArray(s)?s.splice(l,1):M.isObject(s)&&delete s[l],r.length>0&&(Array.isArray(s)&&!s.length||M.isObject(s)&&!Object.keys(s).length)&&(Array.isArray(e)&&e.length>0||M.isObject(e)&&Object.keys(e).length>0)&&M.deleteByPath(e,r.join(n),n)}static randomString(e=10){let t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}static randomSecret(e=15){if(typeof crypto>"u")return M.randomString(e);const t=new Uint8Array(e);crypto.getRandomValues(t);const n="-_0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";let s="";for(let r=0;r<e;r++)s+=n.charAt(t[r]%n.length);return s}static sentenize(e,t=!0){if(typeof e!="string")return"";if(e=e.trim().split("_").join(" "),e==="")return e;if(e=e[0].toUpperCase()+e.substring(1),t){let n=e[e.length-1];n!=="."&&n!=="?"&&n!=="!"&&(e+=".")}return e}static trimQuotedValue(e){return typeof e=="string"&&(e[0]=='"'||e[0]=="'"||e[0]=="`")&&e[0]==e[e.length-1]?e.slice(1,-1):e}static plainText(e){return e?(new DOMParser().parseFromString(e,"text/html").body.innerText||"").trim():""}static truncate(e,t=150,n=!0){return e=""+e,e.length<=t?e:e.substring(0,t)+(n?"...":"")}static truncateObject(e){const t={};for(let n in e){let s=e[n];typeof s=="string"&&(s=M.truncate(s,150,!0)),t[n]=s}return t}static slugify(e,t="_",n=[".","=","-"]){if(e==="")return"";const s={a:/||||/gi,b://gi,c:/|/gi,d://gi,e:/|||||/gi,f://gi,g://gi,h://gi,i:/||||/gi,j://gi,k://gi,l://gi,m://gi,n:/|/gi,o:/||||/gi,p://gi,q://gi,r://gi,s://gi,t://gi,u:/||||/gi,v://gi,w://gi,x://gi,y://gi,z://gi,ae:/|/gi,oe://gi,ue://gi,Ae://gi,Ue://gi,Oe://gi,ss://gi,and:/&/gi};for(let r in s)e=e.replace(s[r],r);return e.replace(new RegExp("["+n.join("")+"]","g")," ").replace(/[^\w\ ]/gi,"").replace(/\s+/g,t)}static escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static splitNonEmpty(e,t=","){const n=[],s=(e||"").replaceAll("\\"+t,"{_PB_ESCAPED_}").split(t).map(r=>r.replaceAll("{_PB_ESCAPED_}",t));for(let r of s)r=r.trim(),M.isEmpty(r)||n.push(r);return n}static joinNonEmpty(e,t=", "){e=e||[];const n=[],s=t.length>1?t.trim():t;for(let r of e)r=typeof r=="string"?r.trim():"",M.isEmpty(r)||n.push(r.replaceAll(s,"\\"+s));return n.join(t)}static getInitials(e){if(e=(e||"").split("@")[0].trim(),e.length<=2)return e.toUpperCase();const t=e.split(/[\.\_\-\ ]/);return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e[0].toUpperCase()}static formattedFileSize(e){const t=e?Math.floor(Math.log(e)/Math.log(1024)):0;return(e/Math.pow(1024,t)).toFixed(2)*1+" "+["B","KB","MB","GB","TB"][t]}static getDateTime(e){if(typeof e=="string"){const t={19:"yyyy-MM-dd HH:mm:ss",23:"yyyy-MM-dd HH:mm:ss.SSS",20:"yyyy-MM-dd HH:mm:ss'Z'",24:"yyyy-MM-dd HH:mm:ss.SSS'Z'"},n=t[e.length]||t[19];return X.fromFormat(e,n,{zone:"UTC"})}return X.fromJSDate(e)}static formatToUTCDate(e,t="yyyy-MM-dd HH:mm:ss"){return M.getDateTime(e).toUTC().toFormat(t)}static formatToLocalDate(e,t="yyyy-MM-dd HH:mm:ss"){return M.getDateTime(e).toLocal().toFormat(t)}static async copyToClipboard(e){var t;if(e=""+e,!(!e.length||!((t=window==null?void 0:window.navigator)!=null&&t.clipboard)))return window.navigator.clipboard.writeText(e).catch(n=>{console.warn("Failed to copy.",n)})}static download(e,t){const n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.setAttribute("target","_blank"),n.click(),n.remove()}static downloadJson(e,t){t=t.endsWith(".json")?t:t+".json";const n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),s=window.URL.createObjectURL(n);M.download(s,t)}static getJWTPayload(e){const t=(e||"").split(".")[1]||"";if(t==="")return{};try{const n=decodeURIComponent(atob(t));return JSON.parse(n)||{}}catch(n){console.warn("Failed to parse JWT payload data.",n)}return{}}static hasImageExtension(e){return e=e||"",!!uf.find(t=>e.toLowerCase().endsWith(t))}static hasVideoExtension(e){return e=e||"",!!ff.find(t=>e.toLowerCase().endsWith(t))}static hasAudioExtension(e){return e=e||"",!!df.find(t=>e.toLowerCase().endsWith(t))}static hasDocumentExtension(e){return e=e||"",!!hf.find(t=>e.toLowerCase().endsWith(t))}static getFileType(e){return M.hasImageExtension(e)?"image":M.hasDocumentExtension(e)?"document":M.hasVideoExtension(e)?"video":M.hasAudioExtension(e)?"audio":"file"}static generateThumb(e,t=100,n=100){return new Promise(s=>{let r=new FileReader;r.onload=function(l){let o=new Image;o.onload=function(){let a=document.createElement("canvas"),c=a.getContext("2d"),u=o.width,f=o.height;return a.width=t,a.height=n,c.drawImage(o,u>f?(u-f)/2:0,0,u>f?f:u,u>f?f:u,0,0,t,n),s(a.toDataURL(e.type))},o.src=l.target.result},r.readAsDataURL(e)})}static addValueToFormData(e,t,n){if(!(typeof n>"u"))if(M.isEmpty(n))e.append(t,"");else if(Array.isArray(n))for(const s of n)M.addValueToFormData(e,t,s);else n instanceof File?e.append(t,n):n instanceof Date?e.append(t,n.toISOString()):M.isObject(n)?e.append(t,JSON.stringify(n)):e.append(t,""+n)}static dummyCollectionRecord(e){var a,c,u,f,m,d,y;const t=(e==null?void 0:e.schema)||[],n=(e==null?void 0:e.type)==="auth",s=(e==null?void 0:e.type)==="view",r={id:"RECORD_ID",collectionId:e==null?void 0:e.id,collectionName:e==null?void 0:e.name};n&&(r.username="username123",r.verified=!1,r.emailVisibility=!0,r.email="test@example.com"),(!s||M.extractColumnsFromQuery((a=e==null?void 0:e.options)==null?void 0:a.query).includes("created"))&&(r.created="2022-01-01 01:00:00.123Z"),(!s||M.extractColumnsFromQuery((c=e==null?void 0:e.options)==null?void 0:c.query).includes("updated"))&&(r.updated="2022-01-01 23:59:59.456Z");for(const g of t){let p=null;g.type==="number"?p=123:g.type==="date"?p="2022-01-01 10:00:00.123Z":g.type==="bool"?p=!0:g.type==="email"?p="test@example.com":g.type==="url"?p="https://example.com":g.type==="json"?p="JSON":g.type==="file"?(p="filename.jpg",((u=g.options)==null?void 0:u.maxSelect)!==1&&(p=[p])):g.type==="select"?(p=(m=(f=g.options)==null?void 0:f.values)==null?void 0:m[0],((d=g.options)==null?void 0:d.maxSelect)!==1&&(p=[p])):g.type==="relation"?(p="RELATION_RECORD_ID",((y=g.options)==null?void 0:y.maxSelect)!==1&&(p=[p])):p="test",r[g.name]=p}return r}static dummyCollectionSchemaData(e){var s,r,l,o;const t=(e==null?void 0:e.schema)||[],n={};for(const a of t){let c=null;if(a.type==="number")c=123;else if(a.type==="date")c="2022-01-01 10:00:00.123Z";else if(a.type==="bool")c=!0;else if(a.type==="email")c="test@example.com";else if(a.type==="url")c="https://example.com";else if(a.type==="json")c="JSON";else{if(a.type==="file")continue;a.type==="select"?(c=(r=(s=a.options)==null?void 0:s.values)==null?void 0:r[0],((l=a.options)==null?void 0:l.maxSelect)!==1&&(c=[c])):a.type==="relation"?(c="RELATION_RECORD_ID",((o=a.options)==null?void 0:o.maxSelect)!==1&&(c=[c])):c="test"}n[a.name]=c}return n}static getCollectionTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"auth":return"ri-group-line";case"view":return"ri-table-line";default:return"ri-folder-2-line"}}static getFieldTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"primary":return"ri-key-line";case"text":return"ri-text";case"number":return"ri-hashtag";case"date":return"ri-calendar-line";case"bool":return"ri-toggle-line";case"email":return"ri-mail-line";case"url":return"ri-link";case"editor":return"ri-edit-2-line";case"select":return"ri-list-check";case"json":return"ri-braces-line";case"file":return"ri-image-line";case"relation":return"ri-mind-map";case"user":return"ri-user-line";default:return"ri-star-s-line"}}static getFieldValueType(e){var t;switch(e==null?void 0:e.type){case"bool":return"Boolean";case"number":return"Number";case"file":return"File";case"select":case"relation":return((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)===1?"String":"Array<String>";default:return"String"}}static zeroDefaultStr(e){var t;return(e==null?void 0:e.type)==="number"?"0":(e==null?void 0:e.type)==="bool"?"false":(e==null?void 0:e.type)==="json"?'null, "", [], {}':["select","relation","file"].includes(e==null?void 0:e.type)&&((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)!=1?"[]":'""'}static getApiExampleUrl(e){return(window.location.href.substring(0,window.location.href.indexOf("/_"))||e||"/").replace("//localhost","//127.0.0.1")}static hasCollectionChanges(e,t,n=!1){if(e=e||{},t=t||{},e.id!=t.id)return!0;for(let c in e)if(c!=="schema"&&JSON.stringify(e[c])!==JSON.stringify(t[c]))return!0;const s=Array.isArray(e.schema)?e.schema:[],r=Array.isArray(t.schema)?t.schema:[],l=s.filter(c=>(c==null?void 0:c.id)&&!M.findByKey(r,"id",c.id)),o=r.filter(c=>(c==null?void 0:c.id)&&!M.findByKey(s,"id",c.id)),a=r.filter(c=>{const u=M.isObject(c)&&M.findByKey(s,"id",c.id);if(!u)return!1;for(let f in u)if(JSON.stringify(c[f])!=JSON.stringify(u[f]))return!0;return!1});return!!(o.length||a.length||n&&l.length)}static sortCollections(e=[]){const t=[],n=[],s=[];for(const l of e)l.type==="auth"?t.push(l):l.type==="base"?n.push(l):s.push(l);function r(l,o){return l.name>o.name?1:l.name<o.name?-1:0}return[].concat(t.sort(r),n.sort(r),s.sort(r))}static yieldToMain(){return new Promise(e=>{setTimeout(e,0)})}static defaultFlatpickrOptions(){return{dateFormat:"Y-m-d H:i:S",disableMobile:!0,allowInput:!0,enableTime:!0,time_24hr:!0,locale:{firstDayOfWeek:1}}}static defaultEditorOptions(){const e=["DIV","P","A","EM","B","STRONG","H1","H2","H3","H4","H5","H6","TABLE","TR","TD","TH","TBODY","THEAD","TFOOT","BR","HR","Q","SUP","SUB","DEL","IMG","OL","UL","LI","CODE"];function t(s){let r=s.parentNode;for(;s.firstChild;)r.insertBefore(s.firstChild,s);r.removeChild(s)}function n(s){if(s){for(const r of s.children)n(r);e.includes(s.tagName)?(s.removeAttribute("style"),s.removeAttribute("class")):t(s)}}return{branding:!1,promotion:!1,menubar:!1,min_height:270,height:270,max_height:700,autoresize_bottom_margin:30,skin:"pocketbase",content_style:"body { font-size: 14px }",plugins:["autoresize","autolink","lists","link","image","searchreplace","fullscreen","media","table","code","codesample","directionality"],codesample_global_prismjs:!0,codesample_languages:[{text:"HTML/XML",value:"markup"},{text:"CSS",value:"css"},{text:"SQL",value:"sql"},{text:"JavaScript",value:"javascript"},{text:"Go",value:"go"},{text:"Dart",value:"dart"},{text:"Zig",value:"zig"},{text:"Rust",value:"rust"},{text:"Lua",value:"lua"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"},{text:"Markdown",value:"markdown"},{text:"Swift",value:"swift"},{text:"Kotlin",value:"kotlin"},{text:"Elixir",value:"elixir"},{text:"Scala",value:"scala"},{text:"Julia",value:"julia"},{text:"Haskell",value:"haskell"}],toolbar:"styles | alignleft aligncenter alignright | bold italic forecolor backcolor | bullist numlist | link image_picker table codesample direction | code fullscreen",paste_postprocess:(s,r)=>{n(r.node)},file_picker_types:"image",file_picker_callback:(s,r,l)=>{const o=document.createElement("input");o.setAttribute("type","file"),o.setAttribute("accept","image/*"),o.addEventListener("change",a=>{const c=a.target.files[0],u=new FileReader;u.addEventListener("load",()=>{if(!tinymce)return;const f="blobid"+new Date().getTime(),m=tinymce.activeEditor.editorUpload.blobCache,d=u.result.split(",")[1],y=m.create(f,c,d);m.add(y),s(y.blobUri(),{title:c.name})}),u.readAsDataURL(c)}),o.click()},setup:s=>{s.on("keydown",l=>{(l.ctrlKey||l.metaKey)&&l.code=="KeyS"&&s.formElement&&(l.preventDefault(),l.stopPropagation(),s.formElement.dispatchEvent(new KeyboardEvent("keydown",l)))});const r="tinymce_last_direction";s.on("init",()=>{var o;const l=(o=window==null?void 0:window.localStorage)==null?void 0:o.getItem(r);!s.isDirty()&&s.getContent()==""&&l=="rtl"&&s.execCommand("mceDirectionRTL")}),s.ui.registry.addMenuButton("direction",{icon:"visualchars",fetch:l=>{l([{type:"menuitem",text:"LTR content",icon:"ltr",onAction:()=>{var a;(a=window==null?void 0:window.localStorage)==null||a.setItem(r,"ltr"),s.execCommand("mceDirectionLTR")}},{type:"menuitem",text:"RTL content",icon:"rtl",onAction:()=>{var a;(a=window==null?void 0:window.localStorage)==null||a.setItem(r,"rtl"),s.execCommand("mceDirectionRTL")}}])}}),s.ui.registry.addMenuButton("image_picker",{icon:"image",fetch:l=>{l([{type:"menuitem",text:"From collection",icon:"gallery",onAction:()=>{s.dispatch("collections_file_picker",{})}},{type:"menuitem",text:"Inline",icon:"browse",onAction:()=>{s.execCommand("mceImage")}}])}})}}}static displayValue(e,t,n="N/A"){e=e||{},t=t||[];let s=[];for(const l of t){let o=e[l];typeof o>"u"||(o=M.stringifyValue(o,n),s.push(o))}if(s.length>0)return s.join(", ");const r=["title","name","slug","email","username","nickname","label","heading","message","key","identifier","id"];for(const l of r){let o=M.stringifyValue(e[l],"");if(o)return o}return n}static stringifyValue(e,t="N/A",n=150){if(M.isEmpty(e))return t;if(typeof e=="number")return""+e;if(typeof e=="boolean")return e?"True":"False";if(typeof e=="string")return e=e.indexOf("<")>=0?M.plainText(e):e,M.truncate(e,n)||t;if(Array.isArray(e)&&typeof e[0]!="object")return M.truncate(e.join(","),n);if(typeof e=="object")try{return M.truncate(JSON.stringify(e),n)||t}catch{return t}return e}static extractColumnsFromQuery(e){var l;const t="__GROUP__";e=(e||"").replace(/\([\s\S]+?\)/gm,t).replace(/[\t\r\n]|(?:\s\s)+/g," ");const n=e.match(/select\s+([\s\S]+)\s+from/),s=((l=n==null?void 0:n[1])==null?void 0:l.split(","))||[],r=[];for(let o of s){const a=o.trim().split(" ").pop();a!=""&&a!=t&&r.push(a.replace(/[\'\"\`\[\]\s]/g,""))}return r}static getAllCollectionIdentifiers(e,t=""){if(!e)return[];let n=[t+"id"];if(e.type==="view")for(let r of M.extractColumnsFromQuery(e.options.query))M.pushUnique(n,t+r);else e.type==="auth"?(n.push(t+"username"),n.push(t+"email"),n.push(t+"emailVisibility"),n.push(t+"verified"),n.push(t+"created"),n.push(t+"updated")):(n.push(t+"created"),n.push(t+"updated"));const s=e.schema||[];for(const r of s)M.pushUnique(n,t+r.name);return n}static getCollectionAutocompleteKeys(e,t,n="",s=0){var o,a,c;let r=e.find(u=>u.name==t||u.id==t);if(!r||s>=4)return[];r.schema=r.schema||[];let l=M.getAllCollectionIdentifiers(r,n);for(const u of r.schema){const f=n+u.name;if(u.type=="relation"&&((o=u.options)!=null&&o.collectionId)){const m=M.getCollectionAutocompleteKeys(e,u.options.collectionId,f+".",s+1);m.length&&(l=l.concat(m))}((a=u.options)==null?void 0:a.maxSelect)!=1&&["select","file","relation"].includes(u.type)&&(l.push(f+":each"),l.push(f+":length"))}for(const u of e){u.schema=u.schema||[];for(const f of u.schema)if(f.type=="relation"&&((c=f.options)==null?void 0:c.collectionId)==r.id){const m=n+u.name+"_via_"+f.name,d=M.getCollectionAutocompleteKeys(e,u.id,m+".",s+2);d.length&&(l=l.concat(d))}}return l}static getCollectionJoinAutocompleteKeys(e){const t=[];for(const n of e){const s="@collection."+n.name+".",r=M.getCollectionAutocompleteKeys(e,n.name,s);for(const l of r)t.push(l)}return t}static getRequestAutocompleteKeys(e,t){const n=[];n.push("@request.context"),n.push("@request.method"),n.push("@request.query."),n.push("@request.data."),n.push("@request.headers."),n.push("@request.auth.id"),n.push("@request.auth.collectionId"),n.push("@request.auth.collectionName"),n.push("@request.auth.verified"),n.push("@request.auth.username"),n.push("@request.auth.email"),n.push("@request.auth.emailVisibility"),n.push("@request.auth.created"),n.push("@request.auth.updated");const s=e.filter(r=>r.type==="auth");for(const r of s){const l=M.getCollectionAutocompleteKeys(e,r.id,"@request.auth.");for(const o of l)M.pushUnique(n,o)}if(t){const r=["created","updated"],l=M.getCollectionAutocompleteKeys(e,t,"@request.data.");for(const o of l){n.push(o);const a=o.split(".");a.length===3&&a[2].indexOf(":")===-1&&!r.includes(a[2])&&n.push(o+":isset")}}return n}static parseIndex(e){var a,c,u,f,m;const t={unique:!1,optional:!1,schemaName:"",indexName:"",tableName:"",columns:[],where:""},s=/create\s+(unique\s+)?\s*index\s*(if\s+not\s+exists\s+)?(\S*)\s+on\s+(\S*)\s*\(([\s\S]*)\)(?:\s*where\s+([\s\S]*))?/gim.exec((e||"").trim());if((s==null?void 0:s.length)!=7)return t;const r=/^[\"\'\`\[\{}]|[\"\'\`\]\}]$/gm;t.unique=((a=s[1])==null?void 0:a.trim().toLowerCase())==="unique",t.optional=!M.isEmpty((c=s[2])==null?void 0:c.trim());const l=(s[3]||"").split(".");l.length==2?(t.schemaName=l[0].replace(r,""),t.indexName=l[1].replace(r,"")):(t.schemaName="",t.indexName=l[0].replace(r,"")),t.tableName=(s[4]||"").replace(r,"");const o=(s[5]||"").replace(/,(?=[^\(]*\))/gim,"{PB_TEMP}").split(",");for(let d of o){d=d.trim().replaceAll("{PB_TEMP}",",");const g=/^([\s\S]+?)(?:\s+collate\s+([\w]+))?(?:\s+(asc|desc))?$/gim.exec(d);if((g==null?void 0:g.length)!=4)continue;const p=(f=(u=g[1])==null?void 0:u.trim())==null?void 0:f.replace(r,"");p&&t.columns.push({name:p,collate:g[2]||"",sort:((m=g[3])==null?void 0:m.toUpperCase())||""})}return t.where=s[6]||"",t}static buildIndex(e){let t="CREATE ";e.unique&&(t+="UNIQUE "),t+="INDEX ",e.optional&&(t+="IF NOT EXISTS "),e.schemaName&&(t+=`\`${e.schemaName}\`.`),t+=`\`${e.indexName||"idx_"+M.randomString(7)}\` `,t+=`ON \`${e.tableName}\` (`;const n=e.columns.filter(s=>!!(s!=null&&s.name));return n.length>1&&(t+=`
  `),t+=n.map(s=>{let r="";return s.name.includes("(")||s.name.includes(" ")?r+=s.name:r+="`"+s.name+"`",s.collate&&(r+=" COLLATE "+s.collate),s.sort&&(r+=" "+s.sort.toUpperCase()),r}).join(`,
  `),n.length>1&&(t+=`
`),t+=")",e.where&&(t+=` WHERE ${e.where}`),t}static replaceIndexTableName(e,t){const n=M.parseIndex(e);return n.tableName=t,M.buildIndex(n)}static replaceIndexColumn(e,t,n){if(t===n)return e;const s=M.parseIndex(e);let r=!1;for(let l of s.columns)l.name===t&&(l.name=n,r=!0);return r?M.buildIndex(s):e}static normalizeSearchFilter(e,t){if(e=(e||"").trim(),!e||!t.length)return e;const n=["=","!=","~","!~",">",">=","<","<="];for(const s of n)if(e.includes(s))return e;return e=isNaN(e)&&e!="true"&&e!="false"?`"${e.replace(/^[\"\'\`]|[\"\'\`]$/gm,"")}"`:e,t.map(s=>`${s}~${e}`).join("||")}static normalizeLogsFilter(e,t=[]){return M.normalizeSearchFilter(e,["level","message","data"].concat(t))}static initCollection(e){return Object.assign({id:"",created:"",updated:"",name:"",type:"base",system:!1,listRule:null,viewRule:null,createRule:null,updateRule:null,deleteRule:null,schema:[],indexes:[],options:{}},e)}static initSchemaField(e){return Object.assign({id:"",name:"",type:"text",system:!1,required:!1,options:{}},e)}static triggerResize(){window.dispatchEvent(new Event("resize"))}static getHashQueryParams(){let e="";const t=window.location.hash.indexOf("?");return t>-1&&(e=window.location.hash.substring(t+1)),Object.fromEntries(new URLSearchParams(e))}static replaceHashQueryParams(e){e=e||{};let t="",n=window.location.hash;const s=n.indexOf("?");s>-1&&(t=n.substring(s+1),n=n.substring(0,s));const r=new URLSearchParams(t);for(let a in e){const c=e[a];c===null?r.delete(a):r.set(a,c)}t=r.toString(),t!=""&&(n+="?"+t);let l=window.location.href;const o=l.indexOf("#");o>-1&&(l=l.substring(0,o)),window.location.replace(l+n)}}const ei=Qe([]);function mf(i,e=3e3){return Zo(i,"success",e)}function Hi(i,e=4500){return Zo(i,"error",e)}function Zo(i,e,t){t=t||4e3;const n={message:i,type:e,duration:t,timeout:setTimeout(()=>{Ho(n)},t)};ei.update(s=>(Ji(s,n.message),M.pushOrReplaceByKey(s,n,"message"),s))}function Ho(i){ei.update(e=>(Ji(e,i),e))}function pf(){ei.update(i=>{for(let e of i)Ji(i,e);return[]})}function Ji(i,e){let t;typeof e=="string"?t=M.findByKey(i,"message",e):t=e,t&&(clearTimeout(t.timeout),M.removeByKey(i,"message",t.message))}var Jo={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};Yn.prototype.logout=function(i=!0){this.authStore.clear(),i&&un("/login")};Yn.prototype.error=function(i,e=!0,t=""){if(!i||!(i instanceof Error)||i.isAbort)return;const n=(i==null?void 0:i.status)<<0||400,s=(i==null?void 0:i.data)||{},r=s.message||i.message||t;if(e&&r&&Hi(r),M.isEmpty(s.data)||setErrors(s.data),n===401)return this.cancelAllRequests(),this.logout();if(n===403)return this.cancelAllRequests(),un("/")};class gf extends jl{save(e,t){super.save(e,t),t&&bi(t)}clear(){super.clear(),bi(null)}}const Ee=new Yn(Jo.PB_BACKEND_URL,new gf("pcms_user_auth")),zs=new Yn(Jo.PB_BACKEND_URL);Ee.authStore.model&&bi(Ee.authStore.model);function ti(i){const e=i-1;return e*e*e+1}function rn(i,{delay:e=0,duration:t=400,easing:n=on}={}){const s=+getComputedStyle(i).opacity;return{delay:e,duration:t,easing:n,css:r=>`opacity: ${r*s}`}}function Wt(i,{delay:e=0,duration:t=400,easing:n=ti,x:s=0,y:r=0,opacity:l=0}={}){const o=getComputedStyle(i),a=+o.opacity,c=o.transform==="none"?"":o.transform,u=a*(1-l),[f,m]=is(s),[d,y]=is(r);return{delay:e,duration:t,easing:n,css:(g,p)=>`
			transform: ${c} translate(${(1-g)*f}${m}, ${(1-g)*d}${y});
			opacity: ${a-u*p}`}}function Ei(i,{delay:e=0,duration:t=400,easing:n=ti,axis:s="y"}={}){const r=getComputedStyle(i),l=+r.opacity,o=s==="y"?"height":"width",a=parseFloat(r[o]),c=s==="y"?["top","bottom"]:["left","right"],u=c.map(_=>`${_[0].toUpperCase()}${_.slice(1)}`),f=parseFloat(r[`padding${u[0]}`]),m=parseFloat(r[`padding${u[1]}`]),d=parseFloat(r[`margin${u[0]}`]),y=parseFloat(r[`margin${u[1]}`]),g=parseFloat(r[`border${u[0]}Width`]),p=parseFloat(r[`border${u[1]}Width`]);return{delay:e,duration:t,easing:n,css:_=>`overflow: hidden;opacity: ${Math.min(_*20,1)*l};${o}: ${_*a}px;padding-${c[0]}: ${_*f}px;padding-${c[1]}: ${_*m}px;margin-${c[0]}: ${_*d}px;margin-${c[1]}: ${_*y}px;border-${c[0]}-width: ${_*g}px;border-${c[1]}-width: ${_*p}px;`}}function Bs(i,{delay:e=0,duration:t=400,easing:n=ti,start:s=0,opacity:r=0}={}){const l=getComputedStyle(i),o=+l.opacity,a=l.transform==="none"?"":l.transform,c=1-s,u=o*(1-r);return{delay:e,duration:t,easing:n,css:(f,m)=>`
			transform: ${a} scale(${1-c*m});
			opacity: ${o-u*m}
		`}}function yf(i,{from:e,to:t},n={}){const s=getComputedStyle(i),r=s.transform==="none"?"":s.transform,[l,o]=s.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*l/t.width-(t.left+l),c=e.top+e.height*o/t.height-(t.top+o),{delay:u=0,duration:f=d=>Math.sqrt(d)*120,easing:m=ti}=n;return{delay:u,duration:We(f)?f(Math.sqrt(a*a+c*c)):f,easing:m,css:(d,y)=>{const g=y*a,p=y*c,_=d+y*e.width/t.width,E=d+y*e.height/t.height;return`transform: ${r} translate(${g}px, ${p}px) scale(${_}, ${E});`}}}function Zs(i,e,t){const n=i.slice();return n[2]=e[t],n}function _f(i){let e;return{c(){e=b("i"),h(e,"class","ri-alert-line")},m(t,n){S(t,e,n)},d(t){t&&k(e)}}}function bf(i){let e;return{c(){e=b("i"),h(e,"class","ri-error-warning-line")},m(t,n){S(t,e,n)},d(t){t&&k(e)}}}function wf(i){let e;return{c(){e=b("i"),h(e,"class","ri-checkbox-circle-line")},m(t,n){S(t,e,n)},d(t){t&&k(e)}}}function kf(i){let e;return{c(){e=b("i"),h(e,"class","ri-information-line")},m(t,n){S(t,e,n)},d(t){t&&k(e)}}}function Hs(i,e){let t,n,s,r,l=e[2].message+"",o,a,c,u,f,m,d,y=V,g,p,_;function E(O,D){return O[2].type==="info"?kf:O[2].type==="success"?wf:O[2].type==="warning"?bf:_f}let N=E(e),I=N(e);function C(){return e[1](e[2])}return{key:i,first:null,c(){t=b("div"),n=b("div"),I.c(),s=F(),r=b("div"),o=ee(l),a=F(),c=b("button"),c.innerHTML='<i class="ri-close-line"></i>',u=F(),h(n,"class","icon"),h(r,"class","content"),h(c,"type","button"),h(c,"class","close"),h(t,"class","alert txt-break"),B(t,"alert-info",e[2].type=="info"),B(t,"alert-success",e[2].type=="success"),B(t,"alert-danger",e[2].type=="error"),B(t,"alert-warning",e[2].type=="warning"),this.first=t},m(O,D){S(O,t,D),w(t,n),I.m(n,null),w(t,s),w(t,r),w(r,o),w(t,a),w(t,c),w(t,u),g=!0,p||(_=Q(c,"click",ft(C)),p=!0)},p(O,D){e=O,N!==(N=E(e))&&(I.d(1),I=N(e),I&&(I.c(),I.m(n,null))),(!g||D&1)&&l!==(l=e[2].message+"")&&re(o,l),(!g||D&1)&&B(t,"alert-info",e[2].type=="info"),(!g||D&1)&&B(t,"alert-success",e[2].type=="success"),(!g||D&1)&&B(t,"alert-danger",e[2].type=="error"),(!g||D&1)&&B(t,"alert-warning",e[2].type=="warning")},r(){d=t.getBoundingClientRect()},f(){Fa(t),y(),Il(t,d)},a(){y(),y=Ra(t,d,yf,{duration:150})},i(O){g||(O&&De(()=>{g&&(m&&m.end(1),f=Ml(t,Ei,{duration:150}),f.start())}),g=!0)},o(O){f&&f.invalidate(),O&&(m=Al(t,rn,{duration:150})),g=!1},d(O){O&&k(t),I.d(),O&&m&&m.end(),p=!1,_()}}}function Sf(i){let e,t=[],n=new Map,s,r=ae(i[0]);const l=o=>o[2].message;for(let o=0;o<r.length;o+=1){let a=Zs(i,r,o),c=l(a);n.set(c,t[o]=Hs(c,a))}return{c(){e=b("div");for(let o=0;o<t.length;o+=1)t[o].c();h(e,"class","toasts-wrapper")},m(o,a){S(o,e,a);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);s=!0},p(o,[a]){if(a&1){r=ae(o[0]),Y();for(let c=0;c<t.length;c+=1)t[c].r();t=xe(t,a,l,1,o,r,n,e,ja,Hs,null,Zs);for(let c=0;c<t.length;c+=1)t[c].a();K()}},i(o){if(!s){for(let a=0;a<r.length;a+=1)T(t[a]);s=!0}},o(o){for(let a=0;a<t.length;a+=1)L(t[a]);s=!1},d(o){o&&k(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function vf(i,e,t){let n;return we(i,ei,r=>t(0,n=r)),[n,r=>Ho(r)]}class Tf extends me{constructor(e){super(),he(this,e,vf,Sf,fe,{})}}function Js(i){let e,t,n;const s=i[18].default,r=Ae(s,i,i[17],null);return{c(){e=b("div"),r&&r.c(),h(e,"class",i[1]),B(e,"active",i[0])},m(l,o){S(l,e,o),r&&r.m(e,null),i[19](e),n=!0},p(l,o){r&&r.p&&(!n||o[0]&131072)&&Fe(r,s,l,l[17],n?Re(s,l[17],o,null):Pe(l[17]),null),(!n||o[0]&2)&&h(e,"class",l[1]),(!n||o[0]&3)&&B(e,"active",l[0])},i(l){n||(T(r,l),l&&De(()=>{n&&(t||(t=ze(e,Wt,{duration:150,y:3},!0)),t.run(1))}),n=!0)},o(l){L(r,l),l&&(t||(t=ze(e,Wt,{duration:150,y:3},!1)),t.run(0)),n=!1},d(l){l&&k(e),r&&r.d(l),i[19](null),l&&t&&t.end()}}}function Of(i){let e,t,n,s,r=i[0]&&Js(i);return{c(){e=b("div"),r&&r.c(),h(e,"class","toggler-container"),h(e,"tabindex","-1"),h(e,"role","menu")},m(l,o){S(l,e,o),r&&r.m(e,null),i[20](e),t=!0,n||(s=[Q(window,"click",i[7]),Q(window,"mousedown",i[6]),Q(window,"keydown",i[5]),Q(window,"focusin",i[4])],n=!0)},p(l,o){l[0]?r?(r.p(l,o),o[0]&1&&T(r,1)):(r=Js(l),r.c(),T(r,1),r.m(e,null)):r&&(Y(),L(r,1,1,()=>{r=null}),K())},i(l){t||(T(r),t=!0)},o(l){L(r),t=!1},d(l){l&&k(e),r&&r.d(),i[20](null),n=!1,ye(s)}}}function Ef(i,e,t){let{$$slots:n={},$$scope:s}=e,{trigger:r=void 0}=e,{active:l=!1}=e,{escClose:o=!0}=e,{autoScroll:a=!0}=e,{closableClass:c="closable"}=e,{class:u=""}=e,f,m,d,y,g,p=!1;const _=st();function E(v=0){l&&(clearTimeout(g),g=setTimeout(N,v))}function N(){l&&(t(0,l=!1),p=!1,clearTimeout(y),clearTimeout(g))}function I(){clearTimeout(g),clearTimeout(y),!l&&(t(0,l=!0),d!=null&&d.contains(f)||f==null||f.focus(),y=setTimeout(()=>{a&&(m!=null&&m.scrollIntoViewIfNeeded?m==null||m.scrollIntoViewIfNeeded():m!=null&&m.scrollIntoView&&(m==null||m.scrollIntoView({behavior:"smooth",block:"nearest"})))},180))}function C(){l?N():I()}function O(v){return!f||v.classList.contains(c)||f.contains(v)&&v.closest&&v.closest("."+c)}function D(v){A(),f==null||f.addEventListener("click",j),f==null||f.addEventListener("keydown",q),t(16,d=v||(f==null?void 0:f.parentNode)),d==null||d.addEventListener("click",R),d==null||d.addEventListener("keydown",$)}function A(){clearTimeout(y),clearTimeout(g),f==null||f.removeEventListener("click",j),f==null||f.removeEventListener("keydown",q),d==null||d.removeEventListener("click",R),d==null||d.removeEventListener("keydown",$)}function j(v){v.stopPropagation(),O(v.target)&&N()}function q(v){(v.code==="Enter"||v.code==="Space")&&(v.stopPropagation(),O(v.target)&&E(150))}function R(v){v.preventDefault(),v.stopPropagation(),C()}function $(v){(v.code==="Enter"||v.code==="Space")&&(v.preventDefault(),v.stopPropagation(),C())}function pe(v){l&&!(d!=null&&d.contains(v.target))&&!(f!=null&&f.contains(v.target))&&C()}function ie(v){l&&o&&v.code==="Escape"&&(v.preventDefault(),N())}function Se(v){l&&(p=!(f!=null&&f.contains(v.target)))}function W(v){var oe;l&&p&&!(f!=null&&f.contains(v.target))&&!(d!=null&&d.contains(v.target))&&!((oe=v.target)!=null&&oe.closest(".flatpickr-calendar"))&&N()}wt(()=>(D(),()=>A()));function le(v){ce[v?"unshift":"push"](()=>{m=v,t(3,m)})}function P(v){ce[v?"unshift":"push"](()=>{f=v,t(2,f)})}return i.$$set=v=>{"trigger"in v&&t(8,r=v.trigger),"active"in v&&t(0,l=v.active),"escClose"in v&&t(9,o=v.escClose),"autoScroll"in v&&t(10,a=v.autoScroll),"closableClass"in v&&t(11,c=v.closableClass),"class"in v&&t(1,u=v.class),"$$scope"in v&&t(17,s=v.$$scope)},i.$$.update=()=>{var v,oe;i.$$.dirty[0]&260&&f&&D(r),i.$$.dirty[0]&65537&&(l?((v=d==null?void 0:d.classList)==null||v.add("active"),d==null||d.setAttribute("aria-expanded",!0),_("show")):((oe=d==null?void 0:d.classList)==null||oe.remove("active"),d==null||d.setAttribute("aria-expanded",!1),_("hide")))},[l,u,f,m,pe,ie,Se,W,r,o,a,c,E,N,I,C,d,s,n,le,P]}class Yo extends me{constructor(e){super(),he(this,e,Ef,Of,fe,{trigger:8,active:0,escClose:9,autoScroll:10,closableClass:11,class:1,hideWithDelay:12,hide:13,show:14,toggle:15},null,[-1,-1])}get hideWithDelay(){return this.$$.ctx[12]}get hide(){return this.$$.ctx[13]}get show(){return this.$$.ctx[14]}get toggle(){return this.$$.ctx[15]}}let Ci,mt;const Ii="app-tooltip";function Ys(i){return typeof i=="string"?{text:i,position:"bottom",hideOnClick:null}:i||{}}function ut(){return mt=mt||document.querySelector("."+Ii),mt||(mt=document.createElement("div"),mt.classList.add(Ii),document.body.appendChild(mt)),mt}function Ko(i,e){let t=ut();if(!t.classList.contains("active")||!(e!=null&&e.text)){Ni();return}t.textContent=e.text,t.className=Ii+" active",e.class&&t.classList.add(e.class),e.position&&t.classList.add(e.position),t.style.top="0px",t.style.left="0px";let n=t.offsetHeight,s=t.offsetWidth,r=i.getBoundingClientRect(),l=0,o=0,a=5;e.position=="left"?(l=r.top+r.height/2-n/2,o=r.left-s-a):e.position=="right"?(l=r.top+r.height/2-n/2,o=r.right+a):e.position=="top"?(l=r.top-n-a,o=r.left+r.width/2-s/2):e.position=="top-left"?(l=r.top-n-a,o=r.left):e.position=="top-right"?(l=r.top-n-a,o=r.right-s):e.position=="bottom-left"?(l=r.top+r.height+a,o=r.left):e.position=="bottom-right"?(l=r.top+r.height+a,o=r.right-s):(l=r.top+r.height+a,o=r.left+r.width/2-s/2),o+s>document.documentElement.clientWidth&&(o=document.documentElement.clientWidth-s),o=o>=0?o:0,l+n>document.documentElement.clientHeight&&(l=document.documentElement.clientHeight-n),l=l>=0?l:0,t.style.top=l+"px",t.style.left=o+"px"}function Ni(){clearTimeout(Ci),ut().classList.remove("active"),ut().activeNode=void 0}function Cf(i,e){ut().activeNode=i,clearTimeout(Ci),Ci=setTimeout(()=>{ut().classList.add("active"),Ko(i,e)},isNaN(e.delay)?0:e.delay)}function Be(i,e){let t=Ys(e);function n(){Cf(i,t)}function s(){Ni()}return i.addEventListener("mouseenter",n),i.addEventListener("mouseleave",s),i.addEventListener("blur",s),(t.hideOnClick===!0||t.hideOnClick===null&&M.isFocusable(i))&&i.addEventListener("click",s),ut(),{update(r){var l,o;t=Ys(r),(o=(l=ut())==null?void 0:l.activeNode)!=null&&o.contains(i)&&Ko(i,t)},destroy(){var r,l;(l=(r=ut())==null?void 0:r.activeNode)!=null&&l.contains(i)&&Ni(),i.removeEventListener("mouseenter",n),i.removeEventListener("mouseleave",s),i.removeEventListener("blur",s),i.removeEventListener("click",s)}}}const Yi=Qe({});function If(i){Yi.set(i||{})}function Nf(i){Yi.update(e=>(M.deleteByPath(e,i),e))}function Cn(i){if(!i)throw Error("Parameter args is required");if(!i.component==!i.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(i.component&&(i.asyncComponent=()=>Promise.resolve(i.component)),typeof i.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(i.conditions){Array.isArray(i.conditions)||(i.conditions=[i.conditions]);for(let t=0;t<i.conditions.length;t++)if(!i.conditions[t]||typeof i.conditions[t]!="function")throw Error("Invalid parameter conditions["+t+"]")}return i.loadingComponent&&(i.asyncComponent.loading=i.loadingComponent,i.asyncComponent.loadingParams=i.loadingParams||void 0),{component:i.asyncComponent,userData:i.userData,conditions:i.conditions&&i.conditions.length?i.conditions:void 0,props:i.props&&Object.keys(i.props).length?i.props:{},_sveltesparouter:!0}}var Df={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function Lf(i){let e;return{c(){e=b("p"),e.textContent="index page"},m(t,n){S(t,e,n)},p:V,i:V,o:V,d(t){t&&k(e)}}}function Mf(i){e();function e(){if(new URLSearchParams(window.location.search).has(Df.PB_INSTALLER_PARAM)){Ee.logout(!1);return}Ee.authStore.isValid?un("/collections"):Ee.logout()}return[]}class Af extends me{constructor(e){super(),he(this,e,Mf,Lf,fe,{})}}const vt=Qe([]),it=Qe({}),ln=Qe(!1);let Ks;typeof BroadcastChannel<"u"&&(Ks=new BroadcastChannel("collections"),Ks.onmessage=()=>{var i;Ki((i=Oa(it))==null?void 0:i.id)});function Rf(i){vt.update(e=>{const t=M.findByKey(e,"id",i);return t?it.set(t):e.length&&it.set(e[0]),e})}async function Ki(i=null){ln.set(!0);try{await zs.admins.authWithPassword("parker@prowe.ca","1111111111");let e=await zs.collections.getFullList(200,{filter:"name ~ 'pcms_' && name !~ 'pcms__'"});e=M.sortCollections(e),vt.set(e);const t=i&&M.findByKey(e,"id",i);t?it.set(t):e.length&&it.set(e[0])}catch(e){Pocketbase.error(e)}ln.set(!1)}const Gs=Qe(""),Go=Qe(!1),Ff=i=>({}),Qs=i=>({});function Pf(i){let e,t,n,s,r,l,o,a,c,u,f,m;const d=i[3].default,y=Ae(d,i,i[2],null),g=i[3].footer,p=Ae(g,i,i[2],Qs);return{c(){e=b("div"),t=b("main"),y&&y.c(),n=F(),s=b("footer"),p&&p.c(),r=F(),l=b("a"),l.innerHTML='<i class="ri-book-open-line txt-sm"></i> <span class="txt">TODO</span>',o=F(),a=b("span"),a.textContent="|",c=F(),u=b("a"),u.innerHTML='<span class="txt">TODO</span>',h(t,"class","page-content"),h(l,"href","/"),h(l,"target","_blank"),h(l,"rel","noopener noreferrer"),h(a,"class","delimiter"),h(u,"href","/"),h(u,"target","_blank"),h(u,"rel","noopener noreferrer"),h(u,"title","Releases"),h(s,"class","page-footer"),h(e,"class",f="page-wrapper "+i[1]),B(e,"center-content",i[0])},m(_,E){S(_,e,E),w(e,t),y&&y.m(t,null),w(e,n),w(e,s),p&&p.m(s,null),w(s,r),w(s,l),w(s,o),w(s,a),w(s,c),w(s,u),m=!0},p(_,[E]){y&&y.p&&(!m||E&4)&&Fe(y,d,_,_[2],m?Re(d,_[2],E,null):Pe(_[2]),null),p&&p.p&&(!m||E&4)&&Fe(p,g,_,_[2],m?Re(g,_[2],E,Ff):Pe(_[2]),Qs),(!m||E&2&&f!==(f="page-wrapper "+_[1]))&&h(e,"class",f),(!m||E&3)&&B(e,"center-content",_[0])},i(_){m||(T(y,_),T(p,_),m=!0)},o(_){L(y,_),L(p,_),m=!1},d(_){_&&k(e),y&&y.d(_),p&&p.d(_)}}}function qf(i,e,t){let{$$slots:n={},$$scope:s}=e,{center:r=!1}=e,{class:l=""}=e;return i.$$set=o=>{"center"in o&&t(0,r=o.center),"class"in o&&t(1,l=o.class),"$$scope"in o&&t(2,s=o.$$scope)},[r,l,s,n]}class Tt extends me{constructor(e){super(),he(this,e,qf,Pf,fe,{center:0,class:1})}}function Vf(i){let e,t,n;return{c(){e=b("span"),h(e,"class","dragline svelte-1g2t3dj"),B(e,"dragging",i[1])},m(s,r){S(s,e,r),i[4](e),t||(n=[Q(e,"mousedown",i[5]),Q(e,"touchstart",i[2])],t=!0)},p(s,[r]){r&2&&B(e,"dragging",s[1])},i:V,o:V,d(s){s&&k(e),i[4](null),t=!1,ye(n)}}}function Wf(i,e,t){const n=st();let{tolerance:s=0}=e,r,l=0,o=0,a=0,c=0,u=!1;function f(p){p.stopPropagation(),l=p.clientX,o=p.clientY,a=p.clientX-r.offsetLeft,c=p.clientY-r.offsetTop,document.addEventListener("touchmove",d),document.addEventListener("mousemove",d),document.addEventListener("touchend",m),document.addEventListener("mouseup",m)}function m(p){u&&(p.preventDefault(),t(1,u=!1),r.classList.remove("no-pointer-events"),n("dragstop",{event:p,elem:r})),document.removeEventListener("touchmove",d),document.removeEventListener("mousemove",d),document.removeEventListener("touchend",m),document.removeEventListener("mouseup",m)}function d(p){let _=p.clientX-l,E=p.clientY-o,N=p.clientX-a,I=p.clientY-c;!u&&Math.abs(N-r.offsetLeft)<s&&Math.abs(I-r.offsetTop)<s||(p.preventDefault(),u||(t(1,u=!0),r.classList.add("no-pointer-events"),n("dragstart",{event:p,elem:r})),n("dragging",{event:p,elem:r,diffX:_,diffY:E}))}function y(p){ce[p?"unshift":"push"](()=>{r=p,t(0,r)})}const g=p=>{p.button==0&&f(p)};return i.$$set=p=>{"tolerance"in p&&t(3,s=p.tolerance)},[r,u,f,s,y,g]}class Uf extends me{constructor(e){super(),he(this,e,Wf,Vf,fe,{tolerance:3})}}function jf(i){let e,t,n,s,r;const l=i[5].default,o=Ae(l,i,i[4],null);return s=new Uf({}),s.$on("dragstart",i[7]),s.$on("dragging",i[8]),s.$on("dragstop",i[9]),{c(){e=b("aside"),o&&o.c(),n=F(),J(s.$$.fragment),h(e,"class",t="page-sidebar "+i[0])},m(a,c){S(a,e,c),o&&o.m(e,null),i[6](e),S(a,n,c),Z(s,a,c),r=!0},p(a,[c]){o&&o.p&&(!r||c&16)&&Fe(o,l,a,a[4],r?Re(l,a[4],c,null):Pe(a[4]),null),(!r||c&1&&t!==(t="page-sidebar "+a[0]))&&h(e,"class",t)},i(a){r||(T(o,a),T(s.$$.fragment,a),r=!0)},o(a){L(o,a),L(s.$$.fragment,a),r=!1},d(a){a&&(k(e),k(n)),o&&o.d(a),i[6](null),H(s,a)}}}const Xs="@adminSidebarWidth";function $f(i,e,t){let{$$slots:n={},$$scope:s}=e,{class:r=""}=e,l,o,a=localStorage.getItem(Xs)||null;function c(d){ce[d?"unshift":"push"](()=>{l=d,t(1,l),t(2,a)})}const u=()=>{t(3,o=l.offsetWidth)},f=d=>{t(2,a=o+d.detail.diffX+"px")},m=()=>{M.triggerResize()};return i.$$set=d=>{"class"in d&&t(0,r=d.class),"$$scope"in d&&t(4,s=d.$$scope)},i.$$.update=()=>{i.$$.dirty&6&&a&&l&&(t(1,l.style.width=a,l),localStorage.setItem(Xs,a))},[r,l,a,o,s,n,c,u,f,m]}class zf extends me{constructor(e){super(),he(this,e,$f,jf,fe,{class:0})}}function Bf(i){let e;return{c(){e=b("i"),h(e,"class","ri-pushpin-line m-l-auto svelte-1u3ag8h")},m(t,n){S(t,e,n)},d(t){t&&k(e)}}}function Zf(i){let e;return{c(){e=b("i"),h(e,"class","ri-unpin-line svelte-1u3ag8h")},m(t,n){S(t,e,n)},d(t){t&&k(e)}}}function Hf(i){let e,t,n,s,r,l=i[0].name.replace("pcms_","")+"",o,a,c,u,f,m,d,y;function g(E,N){return E[1]?Zf:Bf}let p=g(i),_=p(i);return{c(){var E;e=b("a"),t=b("i"),s=F(),r=b("span"),o=ee(l),a=F(),c=b("span"),_.c(),h(t,"class",n=ns(M.getCollectionTypeIcon(i[0].type))+" svelte-1u3ag8h"),h(t,"aria-hidden","true"),h(r,"class","txt m-r-auto"),h(c,"class","btn btn-xs btn-circle btn-hint btn-transparent pin-collection svelte-1u3ag8h"),h(c,"aria-label","Pin collection"),h(c,"aria-hidden","true"),h(e,"href",f="/collections?collectionId="+i[0].id),h(e,"class","sidebar-list-item svelte-1u3ag8h"),h(e,"title",m=i[0].name),B(e,"active",((E=i[2])==null?void 0:E.id)===i[0].id)},m(E,N){S(E,e,N),w(e,t),w(e,s),w(e,r),w(r,o),w(e,a),w(e,c),_.m(c,null),d||(y=[Te(u=Be.call(null,c,{position:"right",text:(i[1]?"Unpin":"Pin")+" collection"})),Q(c,"click",cn(ft(i[5]))),Te(Nn.call(null,e))],d=!0)},p(E,[N]){var I;N&1&&n!==(n=ns(M.getCollectionTypeIcon(E[0].type))+" svelte-1u3ag8h")&&h(t,"class",n),N&1&&l!==(l=E[0].name.replace("pcms_","")+"")&&re(o,l),p!==(p=g(E))&&(_.d(1),_=p(E),_&&(_.c(),_.m(c,null))),u&&We(u.update)&&N&2&&u.update.call(null,{position:"right",text:(E[1]?"Unpin":"Pin")+" collection"}),N&1&&f!==(f="/collections?collectionId="+E[0].id)&&h(e,"href",f),N&1&&m!==(m=E[0].name)&&h(e,"title",m),N&5&&B(e,"active",((I=E[2])==null?void 0:I.id)===E[0].id)},i:V,o:V,d(E){E&&k(e),_.d(),d=!1,ye(y)}}}function Jf(i,e,t){let n,s;we(i,it,c=>t(2,s=c));let{collection:r}=e,{pinnedIds:l}=e;function o(c){l.includes(c.id)?M.removeByValue(l,c.id):l.push(c.id),t(4,l)}const a=()=>o(r);return i.$$set=c=>{"collection"in c&&t(0,r=c.collection),"pinnedIds"in c&&t(4,l=c.pinnedIds)},i.$$.update=()=>{i.$$.dirty&17&&t(1,n=l.includes(r.id))},[r,n,s,o,l,a]}class Qo extends me{constructor(e){super(),he(this,e,Jf,Hf,fe,{collection:0,pinnedIds:4})}}function xs(i,e,t){const n=i.slice();return n[20]=e[t],n}function er(i,e,t){const n=i.slice();return n[20]=e[t],n}function tr(i){let e,t,n=[],s=new Map,r,l,o=ae(i[5]);const a=c=>c[20].id;for(let c=0;c<o.length;c+=1){let u=er(i,o,c),f=a(u);s.set(f,n[c]=nr(f,u))}return{c(){e=b("div"),e.textContent="Pinned",t=F();for(let c=0;c<n.length;c+=1)n[c].c();r=ne(),h(e,"class","sidebar-title")},m(c,u){S(c,e,u),S(c,t,u);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(c,u);S(c,r,u),l=!0},p(c,u){u&34&&(o=ae(c[5]),Y(),n=xe(n,u,a,1,c,o,s,r.parentNode,tt,nr,r,er),K())},i(c){if(!l){for(let u=0;u<o.length;u+=1)T(n[u]);l=!0}},o(c){for(let u=0;u<n.length;u+=1)L(n[u]);l=!1},d(c){c&&(k(e),k(t),k(r));for(let u=0;u<n.length;u+=1)n[u].d(c)}}}function nr(i,e){let t,n,s,r;function l(a){e[13](a)}let o={collection:e[20]};return e[1]!==void 0&&(o.pinnedIds=e[1]),n=new Qo({props:o}),ce.push(()=>Ke(n,"pinnedIds",l)),{key:i,first:null,c(){t=ne(),J(n.$$.fragment),this.first=t},m(a,c){S(a,t,c),Z(n,a,c),r=!0},p(a,c){e=a;const u={};c&32&&(u.collection=e[20]),!s&&c&2&&(s=!0,u.pinnedIds=e[1],Ye(()=>s=!1)),n.$set(u)},i(a){r||(T(n.$$.fragment,a),r=!0)},o(a){L(n.$$.fragment,a),r=!1},d(a){a&&k(t),H(n,a)}}}function ir(i){let e,t=[],n=new Map,s,r,l=i[5].length&&sr(),o=ae(i[4]);const a=c=>c[20].id;for(let c=0;c<o.length;c+=1){let u=xs(i,o,c),f=a(u);n.set(f,t[c]=rr(f,u))}return{c(){l&&l.c(),e=F();for(let c=0;c<t.length;c+=1)t[c].c();s=ne()},m(c,u){l&&l.m(c,u),S(c,e,u);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(c,u);S(c,s,u),r=!0},p(c,u){c[5].length?l||(l=sr(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),u&18&&(o=ae(c[4]),Y(),t=xe(t,u,a,1,c,o,n,s.parentNode,tt,rr,s,xs),K())},i(c){if(!r){for(let u=0;u<o.length;u+=1)T(t[u]);r=!0}},o(c){for(let u=0;u<t.length;u+=1)L(t[u]);r=!1},d(c){c&&(k(e),k(s)),l&&l.d(c);for(let u=0;u<t.length;u+=1)t[u].d(c)}}}function sr(i){let e;return{c(){e=b("div"),e.textContent="Others",h(e,"class","sidebar-title")},m(t,n){S(t,e,n)},d(t){t&&k(e)}}}function rr(i,e){let t,n,s,r;function l(a){e[14](a)}let o={collection:e[20]};return e[1]!==void 0&&(o.pinnedIds=e[1]),n=new Qo({props:o}),ce.push(()=>Ke(n,"pinnedIds",l)),{key:i,first:null,c(){t=ne(),J(n.$$.fragment),this.first=t},m(a,c){S(a,t,c),Z(n,a,c),r=!0},p(a,c){e=a;const u={};c&16&&(u.collection=e[20]),!s&&c&2&&(s=!0,u.pinnedIds=e[1],Ye(()=>s=!1)),n.$set(u)},i(a){r||(T(n.$$.fragment,a),r=!0)},o(a){L(n.$$.fragment,a),r=!1},d(a){a&&k(t),H(n,a)}}}function lr(i){let e;return{c(){e=b("p"),e.textContent="No collections found.",h(e,"class","txt-hint m-t-10 m-b-10 txt-center")},m(t,n){S(t,e,n)},d(t){t&&k(e)}}}function or(i){let e,t,n,s;return{c(){e=b("footer"),t=b("button"),t.innerHTML='<i class="ri-add-line"></i> <span class="txt">New collection</span>',h(t,"type","button"),h(t,"class","btn btn-block btn-outline"),h(e,"class","sidebar-footer")},m(r,l){S(r,e,l),w(e,t),n||(s=Q(t,"click",i[15]),n=!0)},p:V,d(r){r&&k(e),n=!1,s()}}}function Yf(i){let e,t,n,s,r,l,o,a,c,u,f,m,d,y,g,p,_,E=i[5].length&&tr(i),N=i[4].length&&ir(i),I=i[3].length&&!i[2].length&&lr(),C=!i[8]&&or(i);return{c(){e=b("header"),t=b("div"),n=b("div"),s=b("button"),s.innerHTML='<i class="ri-close-line"></i>',r=F(),l=b("input"),o=F(),a=b("hr"),c=F(),u=b("div"),E&&E.c(),f=F(),N&&N.c(),m=F(),I&&I.c(),d=F(),C&&C.c(),y=ne(),h(s,"type","button"),h(s,"class","btn btn-xs btn-transparent btn-circle btn-clear"),B(s,"hidden",!i[6]),h(n,"class","form-field-addon"),h(l,"type","text"),h(l,"placeholder","Search collections..."),h(l,"name","collections-search"),h(t,"class","form-field search"),B(t,"active",i[6]),h(e,"class","sidebar-header"),h(a,"class","m-t-5 m-b-xs"),h(u,"class","sidebar-content"),B(u,"fade",i[7]),B(u,"sidebar-content-compact",i[2].length>20)},m(O,D){S(O,e,D),w(e,t),w(t,n),w(n,s),w(t,r),w(t,l),qt(l,i[0]),S(O,o,D),S(O,a,D),S(O,c,D),S(O,u,D),E&&E.m(u,null),w(u,f),N&&N.m(u,null),w(u,m),I&&I.m(u,null),S(O,d,D),C&&C.m(O,D),S(O,y,D),g=!0,p||(_=[Q(s,"click",i[11]),Q(l,"input",i[12])],p=!0)},p(O,D){(!g||D&64)&&B(s,"hidden",!O[6]),D&1&&l.value!==O[0]&&qt(l,O[0]),(!g||D&64)&&B(t,"active",O[6]),O[5].length?E?(E.p(O,D),D&32&&T(E,1)):(E=tr(O),E.c(),T(E,1),E.m(u,f)):E&&(Y(),L(E,1,1,()=>{E=null}),K()),O[4].length?N?(N.p(O,D),D&16&&T(N,1)):(N=ir(O),N.c(),T(N,1),N.m(u,m)):N&&(Y(),L(N,1,1,()=>{N=null}),K()),O[3].length&&!O[2].length?I||(I=lr(),I.c(),I.m(u,null)):I&&(I.d(1),I=null),(!g||D&128)&&B(u,"fade",O[7]),(!g||D&4)&&B(u,"sidebar-content-compact",O[2].length>20),O[8]?C&&(C.d(1),C=null):C?C.p(O,D):(C=or(O),C.c(),C.m(y.parentNode,y))},i(O){g||(T(E),T(N),g=!0)},o(O){L(E),L(N),g=!1},d(O){O&&(k(e),k(o),k(a),k(c),k(u),k(d),k(y)),E&&E.d(),N&&N.d(),I&&I.d(),C&&C.d(O),p=!1,ye(_)}}}function Kf(i){let e,t;return e=new zf({props:{class:"collection-sidebar",$$slots:{default:[Yf]},$$scope:{ctx:i}}}),{c(){J(e.$$.fragment)},m(n,s){Z(e,n,s),t=!0},p(n,[s]){const r={};s&33554943&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}const ar="@pinnedCollections";function Gf(){setTimeout(()=>{const i=document.querySelector(".collection-sidebar .sidebar-list-item.active");i&&(i==null||i.scrollIntoView({block:"nearest"}))},0)}function Qf(i,e,t){let n,s,r,l,o,a,c,u;we(i,vt,C=>t(10,a=C)),we(i,it,C=>t(16,C)),we(i,ln,C=>t(7,c=C)),we(i,Go,C=>t(8,u=C));let f,m="",d=[];y();function y(){t(1,d=[]);try{const C=localStorage.getItem(ar);C&&t(1,d=JSON.parse(C)||[])}catch{}}function g(){t(1,d=d.filter(C=>!!a.find(O=>O.id==C)))}const p=()=>t(0,m="");function _(){m=this.value,t(0,m)}function E(C){d=C,t(1,d)}function N(C){d=C,t(1,d)}const I=()=>f==null?void 0:f.show();return i.$$.update=()=>{i.$$.dirty&1024&&a&&(g(),Gf()),i.$$.dirty&1&&t(3,n=m.replace(/\s+/g,"").toLowerCase()),i.$$.dirty&1&&t(6,s=m!==""),i.$$.dirty&2&&d&&localStorage.setItem(ar,JSON.stringify(d)),i.$$.dirty&1033&&t(2,r=a.filter(C=>C.id==m||C.name.replace(/\s+/g,"").toLowerCase().includes(n))),i.$$.dirty&6&&t(5,l=r.filter(C=>d.includes(C.id))),i.$$.dirty&6&&t(4,o=r.filter(C=>!d.includes(C.id)))},[m,d,r,n,o,l,s,c,u,f,a,p,_,E,N,I]}class Xo extends me{constructor(e){super(),he(this,e,Qf,Kf,fe,{})}}const Xf=Qe({});function xf(i,e,t){Xf.set({text:i,yesCallback:e,noCallback:t})}function ed(i){let e,t,n,s,r;const l=i[6].default,o=Ae(l,i,i[5],null);return{c(){e=b("th"),o&&o.c(),h(e,"tabindex","0"),h(e,"title",i[2]),h(e,"class",t="col-sort "+i[1]),B(e,"col-sort-disabled",i[3]),B(e,"sort-active",i[0]==="-"+i[2]||i[0]==="+"+i[2]),B(e,"sort-desc",i[0]==="-"+i[2]),B(e,"sort-asc",i[0]==="+"+i[2])},m(a,c){S(a,e,c),o&&o.m(e,null),n=!0,s||(r=[Q(e,"click",i[7]),Q(e,"keydown",i[8])],s=!0)},p(a,[c]){o&&o.p&&(!n||c&32)&&Fe(o,l,a,a[5],n?Re(l,a[5],c,null):Pe(a[5]),null),(!n||c&4)&&h(e,"title",a[2]),(!n||c&2&&t!==(t="col-sort "+a[1]))&&h(e,"class",t),(!n||c&10)&&B(e,"col-sort-disabled",a[3]),(!n||c&7)&&B(e,"sort-active",a[0]==="-"+a[2]||a[0]==="+"+a[2]),(!n||c&7)&&B(e,"sort-desc",a[0]==="-"+a[2]),(!n||c&7)&&B(e,"sort-asc",a[0]==="+"+a[2])},i(a){n||(T(o,a),n=!0)},o(a){L(o,a),n=!1},d(a){a&&k(e),o&&o.d(a),s=!1,ye(r)}}}function td(i,e,t){let{$$slots:n={},$$scope:s}=e,{class:r=""}=e,{name:l}=e,{sort:o=""}=e,{disable:a=!1}=e;function c(){a||("-"+l===o?t(0,o="+"+l):t(0,o="-"+l))}const u=()=>c(),f=m=>{(m.code==="Enter"||m.code==="Space")&&(m.preventDefault(),c())};return i.$$set=m=>{"class"in m&&t(1,r=m.class),"name"in m&&t(2,l=m.name),"sort"in m&&t(0,o=m.sort),"disable"in m&&t(3,a=m.disable),"$$scope"in m&&t(5,s=m.$$scope)},[o,r,l,a,c,s,n,u,f]}class Bt extends me{constructor(e){super(),he(this,e,td,ed,fe,{class:1,name:2,sort:0,disable:3})}}function cr(i,e,t){const n=i.slice();return n[12]=e[t],n}const nd=i=>({}),ur=i=>({uniqueId:i[4]});function id(i){let e,t,n=ae(i[3]),s=[];for(let l=0;l<n.length;l+=1)s[l]=fr(cr(i,n,l));const r=l=>L(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=ne()},m(l,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&8){n=ae(l[3]);let a;for(a=0;a<n.length;a+=1){const c=cr(l,n,a);s[a]?(s[a].p(c,o),T(s[a],1)):(s[a]=fr(c),s[a].c(),T(s[a],1),s[a].m(e.parentNode,e))}for(Y(),a=n.length;a<s.length;a+=1)r(a);K()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)T(s[o]);t=!0}},o(l){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)L(s[o]);t=!1},d(l){l&&k(e),an(s,l)}}}function sd(i){let e,t,n,s,r,l,o;return{c(){e=b("div"),t=b("i"),h(t,"class","ri-error-warning-fill txt-danger"),h(e,"class","form-field-addon inline-error-icon")},m(a,c){S(a,e,c),w(e,t),r=!0,l||(o=Te(n=Be.call(null,t,{position:"left",text:i[3].map(zn).join(`
`)})),l=!0)},p(a,c){n&&We(n.update)&&c&8&&n.update.call(null,{position:"left",text:a[3].map(zn).join(`
`)})},i(a){r||(a&&De(()=>{r&&(s||(s=ze(t,Bs,{duration:150,start:.7},!0)),s.run(1))}),r=!0)},o(a){a&&(s||(s=ze(t,Bs,{duration:150,start:.7},!1)),s.run(0)),r=!1},d(a){a&&k(e),a&&s&&s.end(),l=!1,o()}}}function fr(i){let e,t,n=zn(i[12])+"",s,r,l,o;return{c(){e=b("div"),t=b("pre"),s=ee(n),r=F(),h(e,"class","help-block help-block-error")},m(a,c){S(a,e,c),w(e,t),w(t,s),w(e,r),o=!0},p(a,c){(!o||c&8)&&n!==(n=zn(a[12])+"")&&re(s,n)},i(a){o||(a&&De(()=>{o&&(l||(l=ze(e,Ei,{duration:150},!0)),l.run(1))}),o=!0)},o(a){a&&(l||(l=ze(e,Ei,{duration:150},!1)),l.run(0)),o=!1},d(a){a&&k(e),a&&l&&l.end()}}}function rd(i){let e,t,n,s,r,l,o;const a=i[9].default,c=Ae(a,i,i[8],ur),u=[sd,id],f=[];function m(d,y){return d[0]&&d[3].length?0:1}return n=m(i),s=f[n]=u[n](i),{c(){e=b("div"),c&&c.c(),t=F(),s.c(),h(e,"class",i[1]),B(e,"error",i[3].length)},m(d,y){S(d,e,y),c&&c.m(e,null),w(e,t),f[n].m(e,null),i[11](e),r=!0,l||(o=Q(e,"click",i[10]),l=!0)},p(d,[y]){c&&c.p&&(!r||y&256)&&Fe(c,a,d,d[8],r?Re(a,d[8],y,nd):Pe(d[8]),ur);let g=n;n=m(d),n===g?f[n].p(d,y):(Y(),L(f[g],1,1,()=>{f[g]=null}),K(),s=f[n],s?s.p(d,y):(s=f[n]=u[n](d),s.c()),T(s,1),s.m(e,null)),(!r||y&2)&&h(e,"class",d[1]),(!r||y&10)&&B(e,"error",d[3].length)},i(d){r||(T(c,d),T(s),r=!0)},o(d){L(c,d),L(s),r=!1},d(d){d&&k(e),c&&c.d(d),f[n].d(),i[11](null),l=!1,o()}}}const dr="Invalid value";function zn(i){return typeof i=="object"?(i==null?void 0:i.message)||(i==null?void 0:i.code)||dr:i||dr}function ld(i,e,t){let n;we(i,Yi,g=>t(7,n=g));let{$$slots:s={},$$scope:r}=e;const l="field_"+M.randomString(7);let{name:o=""}=e,{inlineError:a=!1}=e,{class:c=void 0}=e,u,f=[];function m(){Nf(o)}wt(()=>(u.addEventListener("input",m),u.addEventListener("change",m),()=>{u.removeEventListener("input",m),u.removeEventListener("change",m)}));function d(g){bt.call(this,i,g)}function y(g){ce[g?"unshift":"push"](()=>{u=g,t(2,u)})}return i.$$set=g=>{"name"in g&&t(5,o=g.name),"inlineError"in g&&t(0,a=g.inlineError),"class"in g&&t(1,c=g.class),"$$scope"in g&&t(8,r=g.$$scope)},i.$$.update=()=>{i.$$.dirty&160&&t(3,f=M.toArray(M.getNestedVal(n,o)))},[a,c,u,f,l,o,m,n,r,s,d,y]}class Di extends me{constructor(e){super(),he(this,e,ld,rd,fe,{name:5,inlineError:0,class:1,changed:6})}get changed(){return this.$$.ctx[6]}}function od(i){let e,t,n,s,r;return{c(){e=b("i"),h(e,"tabindex","-1"),h(e,"role","button"),h(e,"class",t=i[3]?i[2]:i[1]),h(e,"aria-label","Copy to clipboard")},m(l,o){S(l,e,o),s||(r=[Te(n=Be.call(null,e,i[3]?void 0:i[0])),Q(e,"click",cn(i[4]))],s=!0)},p(l,[o]){o&14&&t!==(t=l[3]?l[2]:l[1])&&h(e,"class",t),n&&We(n.update)&&o&9&&n.update.call(null,l[3]?void 0:l[0])},i:V,o:V,d(l){l&&k(e),s=!1,ye(r)}}}function ad(i,e,t){let{value:n=""}=e,{tooltip:s="Copy"}=e,{idleClasses:r="ri-file-copy-line txt-sm link-hint"}=e,{successClasses:l="ri-check-line txt-sm txt-success"}=e,{successDuration:o=500}=e,a;function c(){n&&(M.copyToClipboard(n),clearTimeout(a),t(3,a=setTimeout(()=>{clearTimeout(a),t(3,a=null)},o)))}return wt(()=>()=>{a&&clearTimeout(a)}),i.$$set=u=>{"value"in u&&t(5,n=u.value),"tooltip"in u&&t(0,s=u.tooltip),"idleClasses"in u&&t(1,r=u.idleClasses),"successClasses"in u&&t(2,l=u.successClasses),"successDuration"in u&&t(6,o=u.successDuration)},[s,r,l,a,c,n,o]}class Gi extends me{constructor(e){super(),he(this,e,ad,od,fe,{value:5,tooltip:0,idleClasses:1,successClasses:2,successDuration:6})}}function cd(i){let e;return{c(){e=b("span"),e.textContent="N/A",h(e,"class","txt txt-hint")},m(t,n){S(t,e,n)},p:V,d(t){t&&k(e)}}}function ud(i){let e,t,n,s,r,l,o,a,c;return{c(){e=b("div"),t=b("div"),n=ee(i[2]),s=F(),r=b("div"),l=ee(i[1]),o=ee(" UTC"),h(t,"class","date"),h(r,"class","time svelte-5pjd03"),h(e,"class","datetime svelte-5pjd03")},m(u,f){S(u,e,f),w(e,t),w(t,n),w(e,s),w(e,r),w(r,l),w(r,o),a||(c=Te(Be.call(null,e,i[3])),a=!0)},p(u,f){f&4&&re(n,u[2]),f&2&&re(l,u[1])},d(u){u&&k(e),a=!1,c()}}}function fd(i){let e;function t(r,l){return r[0]?ud:cd}let n=t(i),s=n(i);return{c(){s.c(),e=ne()},m(r,l){s.m(r,l),S(r,e,l)},p(r,[l]){n===(n=t(r))&&s?s.p(r,l):(s.d(1),s=n(r),s&&(s.c(),s.m(e.parentNode,e)))},i:V,o:V,d(r){r&&k(e),s.d(r)}}}function dd(i,e,t){let n,s,{date:r=""}=e;const l={get text(){return M.formatToLocalDate(r)+" Local"}};return i.$$set=o=>{"date"in o&&t(0,r=o.date)},i.$$.update=()=>{i.$$.dirty&1&&t(2,n=r?r.substring(0,10):null),i.$$.dirty&1&&t(1,s=r?r.substring(10,19):null)},[r,s,n,l]}class pn extends me{constructor(e){super(),he(this,e,dd,fd,fe,{date:0})}}const hd=i=>({}),hr=i=>({}),md=i=>({}),mr=i=>({});function pd(i){let e,t,n,s,r,l,o,a;const c=i[11].before,u=Ae(c,i,i[10],mr),f=i[11].default,m=Ae(f,i,i[10],null),d=i[11].after,y=Ae(d,i,i[10],hr);return{c(){e=b("div"),u&&u.c(),t=F(),n=b("div"),m&&m.c(),r=F(),y&&y.c(),h(n,"class",s="scroller "+i[0]+" "+i[3]+" svelte-3a0gfs"),h(e,"class","scroller-wrapper svelte-3a0gfs")},m(g,p){S(g,e,p),u&&u.m(e,null),w(e,t),w(e,n),m&&m.m(n,null),i[12](n),w(e,r),y&&y.m(e,null),l=!0,o||(a=[Q(window,"resize",i[1]),Q(n,"scroll",i[1])],o=!0)},p(g,[p]){u&&u.p&&(!l||p&1024)&&Fe(u,c,g,g[10],l?Re(c,g[10],p,md):Pe(g[10]),mr),m&&m.p&&(!l||p&1024)&&Fe(m,f,g,g[10],l?Re(f,g[10],p,null):Pe(g[10]),null),(!l||p&9&&s!==(s="scroller "+g[0]+" "+g[3]+" svelte-3a0gfs"))&&h(n,"class",s),y&&y.p&&(!l||p&1024)&&Fe(y,d,g,g[10],l?Re(d,g[10],p,hd):Pe(g[10]),hr)},i(g){l||(T(u,g),T(m,g),T(y,g),l=!0)},o(g){L(u,g),L(m,g),L(y,g),l=!1},d(g){g&&k(e),u&&u.d(g),m&&m.d(g),i[12](null),y&&y.d(g),o=!1,ye(a)}}}function gd(i,e,t){let{$$slots:n={},$$scope:s}=e;const r=st();let{class:l=""}=e,{vThreshold:o=0}=e,{hThreshold:a=0}=e,{dispatchOnNoScroll:c=!0}=e,u=null,f="",m=null,d,y,g,p,_;function E(){u&&t(2,u.scrollTop=0,u)}function N(){u&&t(2,u.scrollLeft=0,u)}function I(){u&&(t(3,f=""),g=u.clientWidth+2,p=u.clientHeight+2,d=u.scrollWidth-g,y=u.scrollHeight-p,y>0?(t(3,f+=" v-scroll"),o>=p&&t(4,o=0),u.scrollTop-o<=0&&(t(3,f+=" v-scroll-start"),r("vScrollStart")),u.scrollTop+o>=y&&(t(3,f+=" v-scroll-end"),r("vScrollEnd"))):c&&r("vScrollEnd"),d>0?(t(3,f+=" h-scroll"),a>=g&&t(5,a=0),u.scrollLeft-a<=0&&(t(3,f+=" h-scroll-start"),r("hScrollStart")),u.scrollLeft+a>=d&&(t(3,f+=" h-scroll-end"),r("hScrollEnd"))):c&&r("hScrollEnd"))}function C(){m||(m=setTimeout(()=>{I(),m=null},150))}wt(()=>(C(),_=new MutationObserver(C),_.observe(u,{attributeFilter:["width","height"],childList:!0,subtree:!0}),()=>{_==null||_.disconnect(),clearTimeout(m)}));function O(D){ce[D?"unshift":"push"](()=>{u=D,t(2,u)})}return i.$$set=D=>{"class"in D&&t(0,l=D.class),"vThreshold"in D&&t(4,o=D.vThreshold),"hThreshold"in D&&t(5,a=D.hThreshold),"dispatchOnNoScroll"in D&&t(6,c=D.dispatchOnNoScroll),"$$scope"in D&&t(10,s=D.$$scope)},[l,C,u,f,o,a,c,E,N,I,s,n,O]}class yd extends me{constructor(e){super(),he(this,e,gd,pd,fe,{class:0,vThreshold:4,hThreshold:5,dispatchOnNoScroll:6,resetVerticalScroll:7,resetHorizontalScroll:8,refresh:9,throttleRefresh:1})}get resetVerticalScroll(){return this.$$.ctx[7]}get resetHorizontalScroll(){return this.$$.ctx[8]}get refresh(){return this.$$.ctx[9]}get throttleRefresh(){return this.$$.ctx[1]}}const _d=i=>({}),pr=i=>({}),bd=i=>({}),gr=i=>({});function yr(i){let e,t,n,s,r,l,o,a,c,u,f,m,d,y,g,p,_,E,N=i[4]&&!i[2]&&_r(i);const I=i[19].header,C=Ae(I,i,i[18],gr);let O=i[4]&&i[2]&&br(i);const D=i[19].default,A=Ae(D,i,i[18],null),j=i[19].footer,q=Ae(j,i,i[18],pr);return{c(){e=b("div"),t=b("div"),s=F(),r=b("div"),l=b("div"),N&&N.c(),o=F(),C&&C.c(),a=F(),O&&O.c(),c=F(),u=b("div"),A&&A.c(),f=F(),m=b("div"),q&&q.c(),h(t,"class","overlay"),h(l,"class","overlay-panel-section panel-header"),h(u,"class","overlay-panel-section panel-content"),h(m,"class","overlay-panel-section panel-footer"),h(r,"class",d="overlay-panel "+i[1]+" "+i[8]),B(r,"popup",i[2]),h(e,"class","overlay-panel-container"),B(e,"padded",i[2]),B(e,"active",i[0])},m(R,$){S(R,e,$),w(e,t),w(e,s),w(e,r),w(r,l),N&&N.m(l,null),w(l,o),C&&C.m(l,null),w(l,a),O&&O.m(l,null),w(r,c),w(r,u),A&&A.m(u,null),i[21](u),w(r,f),w(r,m),q&&q.m(m,null),p=!0,_||(E=[Q(t,"click",ft(i[20])),Q(u,"scroll",i[22])],_=!0)},p(R,$){i=R,i[4]&&!i[2]?N?(N.p(i,$),$[0]&20&&T(N,1)):(N=_r(i),N.c(),T(N,1),N.m(l,o)):N&&(Y(),L(N,1,1,()=>{N=null}),K()),C&&C.p&&(!p||$[0]&262144)&&Fe(C,I,i,i[18],p?Re(I,i[18],$,bd):Pe(i[18]),gr),i[4]&&i[2]?O?O.p(i,$):(O=br(i),O.c(),O.m(l,null)):O&&(O.d(1),O=null),A&&A.p&&(!p||$[0]&262144)&&Fe(A,D,i,i[18],p?Re(D,i[18],$,null):Pe(i[18]),null),q&&q.p&&(!p||$[0]&262144)&&Fe(q,j,i,i[18],p?Re(j,i[18],$,_d):Pe(i[18]),pr),(!p||$[0]&258&&d!==(d="overlay-panel "+i[1]+" "+i[8]))&&h(r,"class",d),(!p||$[0]&262)&&B(r,"popup",i[2]),(!p||$[0]&4)&&B(e,"padded",i[2]),(!p||$[0]&1)&&B(e,"active",i[0])},i(R){p||(R&&De(()=>{p&&(n||(n=ze(t,rn,{duration:at,opacity:0},!0)),n.run(1))}),T(N),T(C,R),T(A,R),T(q,R),R&&De(()=>{p&&(g&&g.end(1),y=Ml(r,Wt,i[2]?{duration:at,y:-10}:{duration:at,x:50}),y.start())}),p=!0)},o(R){R&&(n||(n=ze(t,rn,{duration:at,opacity:0},!1)),n.run(0)),L(N),L(C,R),L(A,R),L(q,R),y&&y.invalidate(),R&&(g=Al(r,Wt,i[2]?{duration:at,y:10}:{duration:at,x:50})),p=!1},d(R){R&&k(e),R&&n&&n.end(),N&&N.d(),C&&C.d(R),O&&O.d(),A&&A.d(R),i[21](null),q&&q.d(R),R&&g&&g.end(),_=!1,ye(E)}}}function _r(i){let e,t,n,s,r;return{c(){e=b("button"),e.innerHTML='<i class="ri-close-line" aria-hidden="true"></i>',h(e,"type","button"),h(e,"aria-label","Close"),h(e,"class","overlay-close")},m(l,o){S(l,e,o),n=!0,s||(r=Q(e,"click",ft(i[5])),s=!0)},p(l,o){i=l},i(l){n||(l&&De(()=>{n&&(t||(t=ze(e,rn,{duration:at},!0)),t.run(1))}),n=!0)},o(l){l&&(t||(t=ze(e,rn,{duration:at},!1)),t.run(0)),n=!1},d(l){l&&k(e),l&&t&&t.end(),s=!1,r()}}}function br(i){let e,t,n;return{c(){e=b("button"),e.innerHTML='<i class="ri-close-line txt-lg" aria-hidden="true"></i>',h(e,"type","button"),h(e,"aria-label","Close"),h(e,"class","btn btn-sm btn-circle btn-transparent btn-close m-l-auto")},m(s,r){S(s,e,r),t||(n=Q(e,"click",ft(i[5])),t=!0)},p:V,d(s){s&&k(e),t=!1,n()}}}function wd(i){let e,t,n,s,r=i[0]&&yr(i);return{c(){e=b("div"),r&&r.c(),h(e,"class","overlay-panel-wrapper"),h(e,"tabindex","-1")},m(l,o){S(l,e,o),r&&r.m(e,null),i[23](e),t=!0,n||(s=[Q(window,"resize",i[10]),Q(window,"keydown",i[9])],n=!0)},p(l,o){l[0]?r?(r.p(l,o),o[0]&1&&T(r,1)):(r=yr(l),r.c(),T(r,1),r.m(e,null)):r&&(Y(),L(r,1,1,()=>{r=null}),K())},i(l){t||(T(r),t=!0)},o(l){L(r),t=!1},d(l){l&&k(e),r&&r.d(),i[23](null),n=!1,ye(s)}}}let pt,pi=[];function xo(){return pt=pt||document.querySelector(".overlays"),pt||(pt=document.createElement("div"),pt.classList.add("overlays"),document.body.appendChild(pt)),pt}let at=150;function wr(){return 1e3+xo().querySelectorAll(".overlay-panel-container.active").length}function kd(i,e,t){let{$$slots:n={},$$scope:s}=e,{class:r=""}=e,{active:l=!1}=e,{popup:o=!1}=e,{overlayClose:a=!0}=e,{btnClose:c=!0}=e,{escClose:u=!0}=e,{beforeOpen:f=void 0}=e,{beforeHide:m=void 0}=e;const d=st(),y="op_"+M.randomString(10);let g,p,_,E,N="",I=l;function C(){typeof f=="function"&&f()===!1||t(0,l=!0)}function O(){typeof m=="function"&&m()===!1||t(0,l=!1)}function D(){return l}async function A(v){t(17,I=v),v?(_=document.activeElement,d("show"),g==null||g.focus()):(clearTimeout(E),d("hide"),_==null||_.focus()),await Ai(),j()}function j(){g&&(l?t(6,g.style.zIndex=wr(),g):t(6,g.style="",g))}function q(){M.pushUnique(pi,y),document.body.classList.add("overlay-active")}function R(){M.removeByValue(pi,y),pi.length||document.body.classList.remove("overlay-active")}function $(v){l&&u&&v.code=="Escape"&&!M.isInput(v.target)&&g&&g.style.zIndex==wr()&&(v.preventDefault(),O())}function pe(v){l&&ie(p)}function ie(v,oe){oe&&t(8,N=""),!(!v||E)&&(E=setTimeout(()=>{if(clearTimeout(E),E=null,!v)return;if(v.scrollHeight-v.offsetHeight>0)t(8,N="scrollable");else{t(8,N="");return}v.scrollTop==0?t(8,N+=" scroll-top-reached"):v.scrollTop+v.offsetHeight==v.scrollHeight&&t(8,N+=" scroll-bottom-reached")},100))}wt(()=>(xo().appendChild(g),()=>{var v;clearTimeout(E),R(),(v=g==null?void 0:g.classList)==null||v.add("hidden"),setTimeout(()=>{g==null||g.remove()},0)}));const Se=()=>a?O():!0;function W(v){ce[v?"unshift":"push"](()=>{p=v,t(7,p)})}const le=v=>ie(v.target);function P(v){ce[v?"unshift":"push"](()=>{g=v,t(6,g)})}return i.$$set=v=>{"class"in v&&t(1,r=v.class),"active"in v&&t(0,l=v.active),"popup"in v&&t(2,o=v.popup),"overlayClose"in v&&t(3,a=v.overlayClose),"btnClose"in v&&t(4,c=v.btnClose),"escClose"in v&&t(12,u=v.escClose),"beforeOpen"in v&&t(13,f=v.beforeOpen),"beforeHide"in v&&t(14,m=v.beforeHide),"$$scope"in v&&t(18,s=v.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&131073&&I!=l&&A(l),i.$$.dirty[0]&128&&ie(p,!0),i.$$.dirty[0]&64&&g&&j(),i.$$.dirty[0]&1&&(l?q():R())},[l,r,o,a,c,O,g,p,N,$,pe,ie,u,f,m,C,D,I,s,n,Se,W,le,P]}class Sd extends me{constructor(e){super(),he(this,e,kd,wd,fe,{class:1,active:0,popup:2,overlayClose:3,btnClose:4,escClose:12,beforeOpen:13,beforeHide:14,show:15,hide:5,isActive:16},null,[-1,-1])}get show(){return this.$$.ctx[15]}get hide(){return this.$$.ctx[5]}get isActive(){return this.$$.ctx[16]}}function kr(i){let e;function t(r,l){return r[4]==="image"?Td:vd}let n=t(i),s=n(i);return{c(){s.c(),e=ne()},m(r,l){s.m(r,l),S(r,e,l)},p(r,l){n===(n=t(r))&&s?s.p(r,l):(s.d(1),s=n(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&k(e),s.d(r)}}}function vd(i){let e,t;return{c(){e=b("object"),t=ee("Cannot preview the file."),h(e,"title",i[2]),h(e,"data",i[1])},m(n,s){S(n,e,s),w(e,t)},p(n,s){s&4&&h(e,"title",n[2]),s&2&&h(e,"data",n[1])},d(n){n&&k(e)}}}function Td(i){let e,t,n;return{c(){e=b("img"),Pt(e.src,t=i[1])||h(e,"src",t),h(e,"alt",n="Preview "+i[2])},m(s,r){S(s,e,r)},p(s,r){r&2&&!Pt(e.src,t=s[1])&&h(e,"src",t),r&4&&n!==(n="Preview "+s[2])&&h(e,"alt",n)},d(s){s&&k(e)}}}function Od(i){var s;let e=(s=i[3])==null?void 0:s.isActive(),t,n=e&&kr(i);return{c(){n&&n.c(),t=ne()},m(r,l){n&&n.m(r,l),S(r,t,l)},p(r,l){var o;l&8&&(e=(o=r[3])==null?void 0:o.isActive()),e?n?n.p(r,l):(n=kr(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&k(t),n&&n.d(r)}}}function Ed(i){let e,t,n;return{c(){e=b("button"),e.innerHTML='<i class="ri-close-line"></i>',h(e,"type","button"),h(e,"class","overlay-close")},m(s,r){S(s,e,r),t||(n=Q(e,"click",ft(i[0])),t=!0)},p:V,d(s){s&&k(e),t=!1,n()}}}function Cd(i){let e,t,n,s,r,l,o,a,c,u;return{c(){e=b("a"),t=ee(i[2]),n=F(),s=b("i"),r=F(),l=b("div"),o=F(),a=b("button"),a.textContent="Close",h(s,"class","ri-external-link-line"),h(e,"href",i[1]),h(e,"title",i[2]),h(e,"target","_blank"),h(e,"rel","noreferrer noopener"),h(e,"class","link-hint txt-ellipsis inline-flex"),h(l,"class","flex-fill"),h(a,"type","button"),h(a,"class","btn btn-transparent")},m(f,m){S(f,e,m),w(e,t),w(e,n),w(e,s),S(f,r,m),S(f,l,m),S(f,o,m),S(f,a,m),c||(u=Q(a,"click",i[0]),c=!0)},p(f,m){m&4&&re(t,f[2]),m&2&&h(e,"href",f[1]),m&4&&h(e,"title",f[2])},d(f){f&&(k(e),k(r),k(l),k(o),k(a)),c=!1,u()}}}function Id(i){let e,t,n={class:"preview preview-"+i[4],btnClose:!1,popup:!0,$$slots:{footer:[Cd],header:[Ed],default:[Od]},$$scope:{ctx:i}};return e=new Sd({props:n}),i[7](e),e.$on("show",i[8]),e.$on("hide",i[9]),{c(){J(e.$$.fragment)},m(s,r){Z(e,s,r),t=!0},p(s,[r]){const l={};r&16&&(l.class="preview preview-"+s[4]),r&1054&&(l.$$scope={dirty:r,ctx:s}),e.$set(l)},i(s){t||(T(e.$$.fragment,s),t=!0)},o(s){L(e.$$.fragment,s),t=!1},d(s){i[7](null),H(e,s)}}}function Nd(i,e,t){let n,s,r,l,o="";function a(d){d!==""&&(t(1,o=d),l==null||l.show())}function c(){return l==null?void 0:l.hide()}function u(d){ce[d?"unshift":"push"](()=>{l=d,t(3,l)})}function f(d){bt.call(this,i,d)}function m(d){bt.call(this,i,d)}return i.$$.update=()=>{i.$$.dirty&2&&t(6,n=o.indexOf("?")),i.$$.dirty&66&&t(2,s=o.substring(o.lastIndexOf("/")+1,n>0?n:void 0)),i.$$.dirty&4&&t(4,r=M.getFileType(s))},[c,o,s,l,r,a,n,u,f,m]}class Dd extends me{constructor(e){super(),he(this,e,Nd,Id,fe,{show:5,hide:0})}get show(){return this.$$.ctx[5]}get hide(){return this.$$.ctx[0]}}function Ld(i){let e,t,n,s,r;function l(c,u){return c[3]==="image"?Fd:c[3]==="video"||c[3]==="audio"?Rd:Ad}let o=l(i),a=o(i);return{c(){e=b("a"),a.c(),h(e,"draggable",!1),h(e,"class",t="thumb "+(i[1]?`thumb-${i[1]}`:"")),h(e,"href",i[6]),h(e,"target","_blank"),h(e,"rel","noreferrer"),h(e,"title",n=(i[7]?"Preview":"Download")+" "+i[0])},m(c,u){S(c,e,u),a.m(e,null),s||(r=Q(e,"click",cn(i[11])),s=!0)},p(c,u){o===(o=l(c))&&a?a.p(c,u):(a.d(1),a=o(c),a&&(a.c(),a.m(e,null))),u&2&&t!==(t="thumb "+(c[1]?`thumb-${c[1]}`:""))&&h(e,"class",t),u&64&&h(e,"href",c[6]),u&129&&n!==(n=(c[7]?"Preview":"Download")+" "+c[0])&&h(e,"title",n)},d(c){c&&k(e),a.d(),s=!1,r()}}}function Md(i){let e,t;return{c(){e=b("div"),h(e,"class",t="thumb "+(i[1]?`thumb-${i[1]}`:""))},m(n,s){S(n,e,s)},p(n,s){s&2&&t!==(t="thumb "+(n[1]?`thumb-${n[1]}`:""))&&h(e,"class",t)},d(n){n&&k(e)}}}function Ad(i){let e;return{c(){e=b("i"),h(e,"class","ri-file-3-line")},m(t,n){S(t,e,n)},p:V,d(t){t&&k(e)}}}function Rd(i){let e;return{c(){e=b("i"),h(e,"class","ri-video-line")},m(t,n){S(t,e,n)},p:V,d(t){t&&k(e)}}}function Fd(i){let e,t,n,s,r;return{c(){e=b("img"),h(e,"draggable",!1),h(e,"loading","lazy"),Pt(e.src,t=i[5])||h(e,"src",t),h(e,"alt",i[0]),h(e,"title",n="Preview "+i[0])},m(l,o){S(l,e,o),s||(r=Q(e,"error",i[8]),s=!0)},p(l,o){o&32&&!Pt(e.src,t=l[5])&&h(e,"src",t),o&1&&h(e,"alt",l[0]),o&1&&n!==(n="Preview "+l[0])&&h(e,"title",n)},d(l){l&&k(e),s=!1,r()}}}function Sr(i){let e,t,n={};return e=new Dd({props:n}),i[12](e),{c(){J(e.$$.fragment)},m(s,r){Z(e,s,r),t=!0},p(s,r){const l={};e.$set(l)},i(s){t||(T(e.$$.fragment,s),t=!0)},o(s){L(e.$$.fragment,s),t=!1},d(s){i[12](null),H(e,s)}}}function Pd(i){let e,t,n;function s(a,c){return a[2]?Md:Ld}let r=s(i),l=r(i),o=i[7]&&Sr(i);return{c(){l.c(),e=F(),o&&o.c(),t=ne()},m(a,c){l.m(a,c),S(a,e,c),o&&o.m(a,c),S(a,t,c),n=!0},p(a,[c]){r===(r=s(a))&&l?l.p(a,c):(l.d(1),l=r(a),l&&(l.c(),l.m(e.parentNode,e))),a[7]?o?(o.p(a,c),c&128&&T(o,1)):(o=Sr(a),o.c(),T(o,1),o.m(t.parentNode,t)):o&&(Y(),L(o,1,1,()=>{o=null}),K())},i(a){n||(T(o),n=!0)},o(a){L(o),n=!1},d(a){a&&(k(e),k(t)),l.d(a),o&&o.d(a)}}}function qd(i,e,t){let n,s,{record:r=null}=e,{filename:l=""}=e,{size:o=""}=e,a,c="",u="",f="",m=!0;d();async function d(){t(2,m=!0);try{t(10,f=await Ee.getAdminFileToken(r.collectionId))}catch(_){console.warn("File token failure:",_)}t(2,m=!1)}function y(){t(5,c="")}const g=_=>{s&&(_.preventDefault(),a==null||a.show(u))};function p(_){ce[_?"unshift":"push"](()=>{a=_,t(4,a)})}return i.$$set=_=>{"record"in _&&t(9,r=_.record),"filename"in _&&t(0,l=_.filename),"size"in _&&t(1,o=_.size)},i.$$.update=()=>{i.$$.dirty&1&&t(3,n=M.getFileType(l)),i.$$.dirty&9&&t(7,s=["image","audio","video"].includes(n)||l.endsWith(".pdf")),i.$$.dirty&1541&&t(6,u=m?"":Ee.files.getUrl(r,l,{token:f})),i.$$.dirty&1541&&t(5,c=m?"":Ee.files.getUrl(r,l,{thumb:"100x100",token:f}))},[l,o,m,n,a,c,u,s,y,r,f,g,p]}class ea extends me{constructor(e){super(),he(this,e,qd,Pd,fe,{record:9,filename:0,size:1})}}function vr(i,e,t){const n=i.slice();n[6]=e[t];const s=M.toArray(n[0][n[6]]).slice(0,5);return n[7]=s,n}function Tr(i,e,t){const n=i.slice();return n[10]=e[t],n}function Or(i){let e,t;return e=new ea({props:{record:i[0],filename:i[10],size:"xs"}}),{c(){J(e.$$.fragment)},m(n,s){Z(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.record=n[0]),s&3&&(r.filename=n[10]),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function Er(i){let e=!M.isEmpty(i[10]),t,n,s=e&&Or(i);return{c(){s&&s.c(),t=ne()},m(r,l){s&&s.m(r,l),S(r,t,l),n=!0},p(r,l){l&3&&(e=!M.isEmpty(r[10])),e?s?(s.p(r,l),l&3&&T(s,1)):(s=Or(r),s.c(),T(s,1),s.m(t.parentNode,t)):s&&(Y(),L(s,1,1,()=>{s=null}),K())},i(r){n||(T(s),n=!0)},o(r){L(s),n=!1},d(r){r&&k(t),s&&s.d(r)}}}function Cr(i){let e,t,n=ae(i[7]),s=[];for(let l=0;l<n.length;l+=1)s[l]=Er(Tr(i,n,l));const r=l=>L(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=ne()},m(l,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&3){n=ae(l[7]);let a;for(a=0;a<n.length;a+=1){const c=Tr(l,n,a);s[a]?(s[a].p(c,o),T(s[a],1)):(s[a]=Er(c),s[a].c(),T(s[a],1),s[a].m(e.parentNode,e))}for(Y(),a=n.length;a<s.length;a+=1)r(a);K()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)T(s[o]);t=!0}},o(l){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)L(s[o]);t=!1},d(l){l&&k(e),an(s,l)}}}function Vd(i){let e,t,n,s,r,l,o=M.truncate(M.displayValue(i[0],i[2]),70)+"",a,c,u,f,m=ae(i[1]),d=[];for(let g=0;g<m.length;g+=1)d[g]=Cr(vr(i,m,g));const y=g=>L(d[g],1,1,()=>{d[g]=null});return{c(){e=b("div"),t=b("i"),s=F();for(let g=0;g<d.length;g+=1)d[g].c();r=F(),l=b("span"),a=ee(o),h(t,"class","link-hint txt-sm ri-information-line"),h(l,"class","txt txt-ellipsis"),h(e,"class","record-info svelte-q8liga")},m(g,p){S(g,e,p),w(e,t),w(e,s);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(e,null);w(e,r),w(e,l),w(l,a),c=!0,u||(f=Te(n=Be.call(null,t,{text:M.truncate(JSON.stringify(M.truncateObject(i[0]),null,2),800,!0),class:"code",position:"left"})),u=!0)},p(g,[p]){if(n&&We(n.update)&&p&1&&n.update.call(null,{text:M.truncate(JSON.stringify(M.truncateObject(g[0]),null,2),800,!0),class:"code",position:"left"}),p&3){m=ae(g[1]);let _;for(_=0;_<m.length;_+=1){const E=vr(g,m,_);d[_]?(d[_].p(E,p),T(d[_],1)):(d[_]=Cr(E),d[_].c(),T(d[_],1),d[_].m(e,r))}for(Y(),_=m.length;_<d.length;_+=1)y(_);K()}(!c||p&5)&&o!==(o=M.truncate(M.displayValue(g[0],g[2]),70)+"")&&re(a,o)},i(g){if(!c){for(let p=0;p<m.length;p+=1)T(d[p]);c=!0}},o(g){d=d.filter(Boolean);for(let p=0;p<d.length;p+=1)L(d[p]);c=!1},d(g){g&&k(e),an(d,g),u=!1,f()}}}function Wd(i,e,t){let n,s;we(i,vt,c=>t(4,s=c));let{record:r}=e,l=[],o=[];function a(){const c=(n==null?void 0:n.schema)||[];if(t(1,l=c.filter(u=>u.presentable&&u.type=="file").map(u=>u.name)),t(2,o=c.filter(u=>u.presentable&&u.type!="file").map(u=>u.name)),!l.length&&!o.length){const u=c.find(f=>{var m,d,y;return f.type=="file"&&((m=f.options)==null?void 0:m.maxSelect)==1&&((y=(d=f.options)==null?void 0:d.mimeTypes)==null?void 0:y.find(g=>g.startsWith("image/")))});u&&l.push(u.name)}}return i.$$set=c=>{"record"in c&&t(0,r=c.record)},i.$$.update=()=>{i.$$.dirty&17&&t(3,n=s==null?void 0:s.find(c=>c.id==(r==null?void 0:r.collectionId))),i.$$.dirty&8&&n&&a()},[r,l,o,n,s]}class Ud extends me{constructor(e){super(),he(this,e,Wd,Vd,fe,{record:0})}}function jd(i){let e;return{c(){e=b("textarea"),h(e,"id",i[0]),Da(e,"visibility","hidden")},m(t,n){S(t,e,n),i[15](e)},p(t,n){n&1&&h(e,"id",t[0])},d(t){t&&k(e),i[15](null)}}}function $d(i){let e;return{c(){e=b("div"),h(e,"id",i[0])},m(t,n){S(t,e,n),i[14](e)},p(t,n){n&1&&h(e,"id",t[0])},d(t){t&&k(e),i[14](null)}}}function zd(i){let e;function t(r,l){return r[1]?$d:jd}let n=t(i),s=n(i);return{c(){e=b("div"),s.c(),h(e,"class",i[2])},m(r,l){S(r,e,l),s.m(e,null),i[16](e)},p(r,[l]){n===(n=t(r))&&s?s.p(r,l):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null))),l&4&&h(e,"class",r[2])},i:V,o:V,d(r){r&&k(e),s.d(),i[16](null)}}}function Bd(){let i={listeners:[],scriptLoaded:!1,injected:!1};function e(n,s,r){i.injected=!0;const l=n.createElement("script");l.referrerPolicy="origin",l.type="application/javascript",l.src=s,l.onload=()=>{r()},n.head&&n.head.appendChild(l)}function t(n,s,r){i.scriptLoaded?r():(i.listeners.push(r),i.injected||e(n,s,()=>{i.listeners.forEach(l=>l()),i.scriptLoaded=!0}))}return{load:t}}let Zd=Bd();function gi(){return window&&window.tinymce?window.tinymce:null}function Hd(i,e,t){let{id:n="tinymce_svelte"+M.randomString(7)}=e,{inline:s=void 0}=e,{disabled:r=!1}=e,{scriptSrc:l="./libs/tinymce/tinymce.min.js"}=e,{conf:o={}}=e,{modelEvents:a="change input undo redo"}=e,{value:c=""}=e,{text:u=""}=e,{cssClass:f="tinymce-wrapper"}=e;const m=["Activate","AddUndo","BeforeAddUndo","BeforeExecCommand","BeforeGetContent","BeforeRenderUI","BeforeSetContent","BeforePaste","Blur","Change","ClearUndos","Click","ContextMenu","Copy","Cut","Dblclick","Deactivate","Dirty","Drag","DragDrop","DragEnd","DragGesture","DragOver","Drop","ExecCommand","Focus","FocusIn","FocusOut","GetContent","Hide","Init","KeyDown","KeyPress","KeyUp","LoadContent","MouseDown","MouseEnter","MouseLeave","MouseMove","MouseOut","MouseOver","MouseUp","NodeChange","ObjectResizeStart","ObjectResized","ObjectSelected","Paste","PostProcess","PostRender","PreProcess","ProgressState","Redo","Remove","Reset","ResizeEditor","SaveContent","SelectionChange","SetAttrib","SetContent","Show","Submit","Undo","VisualAid"],d=(A,j)=>{m.forEach(q=>{A.on(q,R=>{j(q.toLowerCase(),{eventName:q,event:R,editor:A})})})};let y,g,p,_=c,E=r;const N=st();function I(){const A={...o,target:g,inline:s!==void 0?s:o.inline!==void 0?o.inline:!1,readonly:r,setup:j=>{t(11,p=j),j.on("init",()=>{j.setContent(c),j.on(a,()=>{t(12,_=j.getContent()),_!==c&&(t(5,c=_),t(6,u=j.getContent({format:"text"})))})}),d(j,N),typeof o.setup=="function"&&o.setup(j)}};t(4,g.style.visibility="",g),gi().init(A)}wt(()=>(gi()!==null?I():Zd.load(y.ownerDocument,l,()=>{y&&I()}),()=>{var A,j;try{p&&((A=p.dom)==null||A.unbind(document),(j=gi())==null||j.remove(p))}catch{}}));function C(A){ce[A?"unshift":"push"](()=>{g=A,t(4,g)})}function O(A){ce[A?"unshift":"push"](()=>{g=A,t(4,g)})}function D(A){ce[A?"unshift":"push"](()=>{y=A,t(3,y)})}return i.$$set=A=>{"id"in A&&t(0,n=A.id),"inline"in A&&t(1,s=A.inline),"disabled"in A&&t(7,r=A.disabled),"scriptSrc"in A&&t(8,l=A.scriptSrc),"conf"in A&&t(9,o=A.conf),"modelEvents"in A&&t(10,a=A.modelEvents),"value"in A&&t(5,c=A.value),"text"in A&&t(6,u=A.text),"cssClass"in A&&t(2,f=A.cssClass)},i.$$.update=()=>{var A;if(i.$$.dirty&14496)try{p&&_!==c&&(p.setContent(c),t(6,u=p.getContent({format:"text"}))),p&&r!==E&&(t(13,E=r),typeof((A=p.mode)==null?void 0:A.set)=="function"?p.mode.set(r?"readonly":"design"):p.setMode(r?"readonly":"design"))}catch(j){console.warn("TinyMCE reactive error:",j)}},[n,s,f,y,g,c,u,r,l,o,a,p,_,E,C,O,D]}class Jd extends me{constructor(e){super(),he(this,e,Hd,zd,fe,{id:0,inline:1,disabled:7,scriptSrc:8,conf:9,modelEvents:10,value:5,text:6,cssClass:2})}}function Ir(i,e,t){const n=i.slice();return n[18]=e[t],n[8]=t,n}function Nr(i,e,t){const n=i.slice();return n[13]=e[t],n}function Dr(i,e,t){const n=i.slice();return n[6]=e[t],n[8]=t,n}function Lr(i,e,t){const n=i.slice();return n[6]=e[t],n[8]=t,n}function Yd(i){const e=i.slice(),t=M.toArray(e[3]);e[16]=t;const n=e[2]?10:500;return e[17]=n,e}function Kd(i){var r,l;const e=i.slice(),t=M.toArray(e[3]);e[9]=t;const n=M.toArray((l=(r=e[0])==null?void 0:r.expand)==null?void 0:l[e[1].name]);e[10]=n;const s=e[2]?20:500;return e[11]=s,e}function Gd(i){const e=i.slice(),t=M.trimQuotedValue(JSON.stringify(e[3]))||'""';return e[5]=t,e}function Qd(i){let e,t;return{c(){e=b("div"),t=ee(i[3]),h(e,"class","block txt-break fallback-block svelte-jdf51v")},m(n,s){S(n,e,s),w(e,t)},p(n,s){s&8&&re(t,n[3])},i:V,o:V,d(n){n&&k(e)}}}function Xd(i){let e,t=M.truncate(i[3])+"",n,s;return{c(){e=b("span"),n=ee(t),h(e,"class","txt txt-ellipsis"),h(e,"title",s=M.truncate(i[3]))},m(r,l){S(r,e,l),w(e,n)},p(r,l){l&8&&t!==(t=M.truncate(r[3])+"")&&re(n,t),l&8&&s!==(s=M.truncate(r[3]))&&h(e,"title",s)},i:V,o:V,d(r){r&&k(e)}}}function xd(i){let e,t=[],n=new Map,s,r,l=ae(i[16].slice(0,i[17]));const o=c=>c[8]+c[18];for(let c=0;c<l.length;c+=1){let u=Ir(i,l,c),f=o(u);n.set(f,t[c]=Mr(f,u))}let a=i[16].length>i[17]&&Ar();return{c(){var c;e=b("div");for(let u=0;u<t.length;u+=1)t[u].c();s=F(),a&&a.c(),h(e,"class","inline-flex"),B(e,"multiple",((c=i[1].options)==null?void 0:c.maxSelect)!=1)},m(c,u){S(c,e,u);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);w(e,s),a&&a.m(e,null),r=!0},p(c,u){var f;u&13&&(l=ae(c[16].slice(0,c[17])),Y(),t=xe(t,u,o,1,c,l,n,e,tt,Mr,s,Ir),K()),c[16].length>c[17]?a||(a=Ar(),a.c(),a.m(e,null)):a&&(a.d(1),a=null),(!r||u&2)&&B(e,"multiple",((f=c[1].options)==null?void 0:f.maxSelect)!=1)},i(c){if(!r){for(let u=0;u<l.length;u+=1)T(t[u]);r=!0}},o(c){for(let u=0;u<t.length;u+=1)L(t[u]);r=!1},d(c){c&&k(e);for(let u=0;u<t.length;u+=1)t[u].d();a&&a.d()}}}function eh(i){let e,t,n,s,r;const l=[uh,ch],o=[];function a(u,f){return u[10].length?0:1}t=a(i),n=o[t]=l[t](i);let c=i[9].length>i[11]&&Pr();return{c(){e=b("div"),n.c(),s=F(),c&&c.c(),h(e,"class","inline-flex")},m(u,f){S(u,e,f),o[t].m(e,null),w(e,s),c&&c.m(e,null),r=!0},p(u,f){let m=t;t=a(u),t===m?o[t].p(u,f):(Y(),L(o[m],1,1,()=>{o[m]=null}),K(),n=o[t],n?n.p(u,f):(n=o[t]=l[t](u),n.c()),T(n,1),n.m(e,s)),u[9].length>u[11]?c||(c=Pr(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(u){r||(T(n),r=!0)},o(u){L(n),r=!1},d(u){u&&k(e),o[t].d(),c&&c.d()}}}function th(i){let e,t=[],n=new Map,s=ae(M.toArray(i[3]));const r=l=>l[8]+l[6];for(let l=0;l<s.length;l+=1){let o=Lr(i,s,l),a=r(o);n.set(a,t[l]=qr(a,o))}return{c(){e=b("div");for(let l=0;l<t.length;l+=1)t[l].c();h(e,"class","inline-flex")},m(l,o){S(l,e,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(l,o){o&8&&(s=ae(M.toArray(l[3])),t=xe(t,o,r,1,l,s,n,e,Ua,qr,null,Lr))},i:V,o:V,d(l){l&&k(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function nh(i){let e,t;return e=new pn({props:{date:i[3]}}),{c(){J(e.$$.fragment)},m(n,s){Z(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.date=n[3]),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function ih(i){let e,t,n,s;const r=[dh,fh],l=[];function o(a,c){return a[2]?0:1}return e=o(i),t=l[e]=r[e](i),{c(){t.c(),n=ne()},m(a,c){l[e].m(a,c),S(a,n,c),s=!0},p(a,c){let u=e;e=o(a),e===u?l[e].p(a,c):(Y(),L(l[u],1,1,()=>{l[u]=null}),K(),t=l[e],t?t.p(a,c):(t=l[e]=r[e](a),t.c()),T(t,1),t.m(n.parentNode,n))},i(a){s||(T(t),s=!0)},o(a){L(t),s=!1},d(a){a&&k(n),l[e].d(a)}}}function sh(i){let e,t=M.truncate(i[3])+"",n,s,r;return{c(){e=b("a"),n=ee(t),h(e,"class","txt-ellipsis"),h(e,"href",i[3]),h(e,"target","_blank"),h(e,"rel","noopener noreferrer")},m(l,o){S(l,e,o),w(e,n),s||(r=[Te(Be.call(null,e,"Open in new tab")),Q(e,"click",cn(i[4]))],s=!0)},p(l,o){o&8&&t!==(t=M.truncate(l[3])+"")&&re(n,t),o&8&&h(e,"href",l[3])},i:V,o:V,d(l){l&&k(e),s=!1,ye(r)}}}function rh(i){let e,t;return{c(){e=b("span"),t=ee(i[3]),h(e,"class","txt")},m(n,s){S(n,e,s),w(e,t)},p(n,s){s&8&&re(t,n[3])},i:V,o:V,d(n){n&&k(e)}}}function lh(i){let e,t=i[3]?"True":"False",n;return{c(){e=b("span"),n=ee(t),h(e,"class","txt")},m(s,r){S(s,e,r),w(e,n)},p(s,r){r&8&&t!==(t=s[3]?"True":"False")&&re(n,t)},i:V,o:V,d(s){s&&k(e)}}}function oh(i){let e;return{c(){e=b("span"),e.textContent="N/A",h(e,"class","txt-hint")},m(t,n){S(t,e,n)},p:V,i:V,o:V,d(t){t&&k(e)}}}function ah(i){let e,t,n,s;const r=[mh,hh],l=[];function o(a,c){return a[2]?0:1}return e=o(i),t=l[e]=r[e](i),{c(){t.c(),n=ne()},m(a,c){l[e].m(a,c),S(a,n,c),s=!0},p(a,c){let u=e;e=o(a),e===u?l[e].p(a,c):(Y(),L(l[u],1,1,()=>{l[u]=null}),K(),t=l[e],t?t.p(a,c):(t=l[e]=r[e](a),t.c()),T(t,1),t.m(n.parentNode,n))},i(a){s||(T(t),s=!0)},o(a){L(t),s=!1},d(a){a&&k(n),l[e].d(a)}}}function Mr(i,e){let t,n,s;return n=new ea({props:{record:e[0],filename:e[18],size:"sm"}}),{key:i,first:null,c(){t=ne(),J(n.$$.fragment),this.first=t},m(r,l){S(r,t,l),Z(n,r,l),s=!0},p(r,l){e=r;const o={};l&1&&(o.record=e[0]),l&12&&(o.filename=e[18]),n.$set(o)},i(r){s||(T(n.$$.fragment,r),s=!0)},o(r){L(n.$$.fragment,r),s=!1},d(r){r&&k(t),H(n,r)}}}function Ar(i){let e;return{c(){e=ee("...")},m(t,n){S(t,e,n)},d(t){t&&k(e)}}}function ch(i){let e,t=ae(i[9].slice(0,i[11])),n=[];for(let s=0;s<t.length;s+=1)n[s]=Rr(Nr(i,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ne()},m(s,r){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,r);S(s,e,r)},p(s,r){if(r&12){t=ae(s[9].slice(0,s[11]));let l;for(l=0;l<t.length;l+=1){const o=Nr(s,t,l);n[l]?n[l].p(o,r):(n[l]=Rr(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},i:V,o:V,d(s){s&&k(e),an(n,s)}}}function uh(i){let e=[],t=new Map,n,s,r=ae(i[10].slice(0,i[11]));const l=o=>o[8]+o[6];for(let o=0;o<r.length;o+=1){let a=Dr(i,r,o),c=l(a);t.set(c,e[o]=Fr(c,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=ne()},m(o,a){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(o,a);S(o,n,a),s=!0},p(o,a){a&7&&(r=ae(o[10].slice(0,o[11])),Y(),e=xe(e,a,l,1,o,r,t,n.parentNode,tt,Fr,n,Dr),K())},i(o){if(!s){for(let a=0;a<r.length;a+=1)T(e[a]);s=!0}},o(o){for(let a=0;a<e.length;a+=1)L(e[a]);s=!1},d(o){o&&k(n);for(let a=0;a<e.length;a+=1)e[a].d(o)}}}function Rr(i){let e,t=i[13]+"",n;return{c(){e=b("span"),n=ee(t),h(e,"class","label")},m(s,r){S(s,e,r),w(e,n)},p(s,r){r&12&&t!==(t=s[13]+"")&&re(n,t)},d(s){s&&k(e)}}}function Fr(i,e){let t,n,s,r;return n=new Ud({props:{record:e[6]}}),{key:i,first:null,c(){t=b("span"),J(n.$$.fragment),s=F(),h(t,"class","label"),this.first=t},m(l,o){S(l,t,o),Z(n,t,null),w(t,s),r=!0},p(l,o){e=l;const a={};o&7&&(a.record=e[6]),n.$set(a)},i(l){r||(T(n.$$.fragment,l),r=!0)},o(l){L(n.$$.fragment,l),r=!1},d(l){l&&k(t),H(n)}}}function Pr(i){let e;return{c(){e=ee("...")},m(t,n){S(t,e,n)},d(t){t&&k(e)}}}function qr(i,e){let t,n=e[6]+"",s;return{key:i,first:null,c(){t=b("span"),s=ee(n),h(t,"class","label"),this.first=t},m(r,l){S(r,t,l),w(t,s)},p(r,l){e=r,l&8&&n!==(n=e[6]+"")&&re(s,n)},d(r){r&&k(t)}}}function fh(i){let e,t;return e=new Jd({props:{cssClass:"tinymce-preview",conf:{branding:!1,promotion:!1,menubar:!1,statusbar:!1,min_height:30,height:59,max_height:500,autoresize_bottom_margin:5,resize:!1,content_style:"body { font-size: 14px }",toolbar:"",plugins:["autoresize"],skin:"pocketbase"},value:i[3],disabled:!0}}),{c(){J(e.$$.fragment)},m(n,s){Z(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.value=n[3]),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function dh(i){let e,t=M.truncate(M.plainText(i[3]),195)+"",n;return{c(){e=b("span"),n=ee(t),h(e,"class","txt")},m(s,r){S(s,e,r),w(e,n)},p(s,r){r&8&&t!==(t=M.truncate(M.plainText(s[3]),195)+"")&&re(n,t)},i:V,o:V,d(s){s&&k(e)}}}function hh(i){let e,t=M.truncate(i[5],500,!0)+"",n,s,r,l,o=i[5].length>500&&Vr(i);return{c(){e=b("span"),n=ee(t),s=F(),o&&o.c(),r=ne(),h(e,"class","txt")},m(a,c){S(a,e,c),w(e,n),S(a,s,c),o&&o.m(a,c),S(a,r,c),l=!0},p(a,c){(!l||c&8)&&t!==(t=M.truncate(a[5],500,!0)+"")&&re(n,t),a[5].length>500?o?(o.p(a,c),c&8&&T(o,1)):(o=Vr(a),o.c(),T(o,1),o.m(r.parentNode,r)):o&&(Y(),L(o,1,1,()=>{o=null}),K())},i(a){l||(T(o),l=!0)},o(a){L(o),l=!1},d(a){a&&(k(e),k(s),k(r)),o&&o.d(a)}}}function mh(i){let e,t=M.truncate(i[5])+"",n;return{c(){e=b("span"),n=ee(t),h(e,"class","txt txt-ellipsis")},m(s,r){S(s,e,r),w(e,n)},p(s,r){r&8&&t!==(t=M.truncate(s[5])+"")&&re(n,t)},i:V,o:V,d(s){s&&k(e)}}}function Vr(i){let e,t;return e=new Gi({props:{value:JSON.stringify(i[3],null,2)}}),{c(){J(e.$$.fragment)},m(n,s){Z(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.value=JSON.stringify(n[3],null,2)),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function ph(i){let e,t,n,s,r;const l=[ah,oh,lh,rh,sh,ih,nh,th,eh,xd,Xd,Qd],o=[];function a(u,f){return f&8&&(e=null),u[1].type==="json"?0:(e==null&&(e=!!M.isEmpty(u[3])),e?1:u[1].type==="bool"?2:u[1].type==="number"?3:u[1].type==="url"?4:u[1].type==="editor"?5:u[1].type==="date"?6:u[1].type==="select"?7:u[1].type==="relation"?8:u[1].type==="file"?9:u[2]?10:11)}function c(u,f){return f===0?Gd(u):f===8?Kd(u):f===9?Yd(u):u}return t=a(i,-1),n=o[t]=l[t](c(i,t)),{c(){n.c(),s=ne()},m(u,f){o[t].m(u,f),S(u,s,f),r=!0},p(u,[f]){let m=t;t=a(u,f),t===m?o[t].p(c(u,t),f):(Y(),L(o[m],1,1,()=>{o[m]=null}),K(),n=o[t],n?n.p(c(u,t),f):(n=o[t]=l[t](c(u,t)),n.c()),T(n,1),n.m(s.parentNode,s))},i(u){r||(T(n),r=!0)},o(u){L(n),r=!1},d(u){u&&k(s),o[t].d(u)}}}function gh(i,e,t){let n,{record:s}=e,{field:r}=e,{short:l=!1}=e;function o(a){bt.call(this,i,a)}return i.$$set=a=>{"record"in a&&t(0,s=a.record),"field"in a&&t(1,r=a.field),"short"in a&&t(2,l=a.short)},i.$$.update=()=>{i.$$.dirty&3&&t(3,n=s==null?void 0:s[r.name])},[s,r,l,n,o]}class ta extends me{constructor(e){super(),he(this,e,gh,ph,fe,{record:0,field:1,short:2})}}function Wr(i,e,t){const n=i.slice();return n[62]=e[t],n}function Ur(i,e,t){const n=i.slice();return n[65]=e[t],n}function jr(i,e,t){const n=i.slice();return n[65]=e[t],n}function $r(i,e,t){const n=i.slice();return n[58]=e[t],n}function zr(i){let e;function t(r,l){return r[14]?_h:yh}let n=t(i),s=n(i);return{c(){e=b("th"),s.c(),h(e,"class","bulk-select-col min-width")},m(r,l){S(r,e,l),s.m(e,null)},p(r,l){n===(n=t(r))&&s?s.p(r,l):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null)))},d(r){r&&k(e),s.d()}}}function yh(i){let e,t,n,s,r,l,o;return{c(){e=b("div"),t=b("input"),s=F(),r=b("label"),h(t,"type","checkbox"),h(t,"id","checkbox_0"),t.disabled=n=!i[4].length,t.checked=i[18],h(r,"for","checkbox_0"),h(e,"class","form-field")},m(a,c){S(a,e,c),w(e,t),w(e,s),w(e,r),l||(o=Q(t,"change",i[32]),l=!0)},p(a,c){c[0]&16&&n!==(n=!a[4].length)&&(t.disabled=n),c[0]&262144&&(t.checked=a[18])},d(a){a&&k(e),l=!1,o()}}}function _h(i){let e;return{c(){e=b("span"),h(e,"class","loader loader-sm")},m(t,n){S(t,e,n)},p:V,d(t){t&&k(e)}}}function Br(i){let e,t,n;function s(l){i[33](l)}let r={class:"col-type-text col-field-id",name:"id",$$slots:{default:[bh]},$$scope:{ctx:i}};return i[0]!==void 0&&(r.sort=i[0]),e=new Bt({props:r}),ce.push(()=>Ke(e,"sort",s)),{c(){J(e.$$.fragment)},m(l,o){Z(e,l,o),n=!0},p(l,o){const a={};o[2]&256&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.sort=l[0],Ye(()=>t=!1)),e.$set(a)},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){H(e,l)}}}function bh(i){let e;return{c(){e=b("div"),e.innerHTML=`<i class="${M.getFieldTypeIcon("primary")}"></i> <span class="txt">id</span>`,h(e,"class","col-header-content")},m(t,n){S(t,e,n)},p:V,d(t){t&&k(e)}}}function Zr(i){let e=!i[6].includes("@username"),t,n=!i[6].includes("@email"),s,r,l=e&&Hr(i),o=n&&Jr(i);return{c(){l&&l.c(),t=F(),o&&o.c(),s=ne()},m(a,c){l&&l.m(a,c),S(a,t,c),o&&o.m(a,c),S(a,s,c),r=!0},p(a,c){c[0]&64&&(e=!a[6].includes("@username")),e?l?(l.p(a,c),c[0]&64&&T(l,1)):(l=Hr(a),l.c(),T(l,1),l.m(t.parentNode,t)):l&&(Y(),L(l,1,1,()=>{l=null}),K()),c[0]&64&&(n=!a[6].includes("@email")),n?o?(o.p(a,c),c[0]&64&&T(o,1)):(o=Jr(a),o.c(),T(o,1),o.m(s.parentNode,s)):o&&(Y(),L(o,1,1,()=>{o=null}),K())},i(a){r||(T(l),T(o),r=!0)},o(a){L(l),L(o),r=!1},d(a){a&&(k(t),k(s)),l&&l.d(a),o&&o.d(a)}}}function Hr(i){let e,t,n;function s(l){i[34](l)}let r={class:"col-type-text col-field-id",name:"username",$$slots:{default:[wh]},$$scope:{ctx:i}};return i[0]!==void 0&&(r.sort=i[0]),e=new Bt({props:r}),ce.push(()=>Ke(e,"sort",s)),{c(){J(e.$$.fragment)},m(l,o){Z(e,l,o),n=!0},p(l,o){const a={};o[2]&256&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.sort=l[0],Ye(()=>t=!1)),e.$set(a)},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){H(e,l)}}}function wh(i){let e;return{c(){e=b("div"),e.innerHTML=`<i class="${M.getFieldTypeIcon("user")}"></i> <span class="txt">username</span>`,h(e,"class","col-header-content")},m(t,n){S(t,e,n)},p:V,d(t){t&&k(e)}}}function Jr(i){let e,t,n;function s(l){i[35](l)}let r={class:"col-type-email col-field-email",name:"email",$$slots:{default:[kh]},$$scope:{ctx:i}};return i[0]!==void 0&&(r.sort=i[0]),e=new Bt({props:r}),ce.push(()=>Ke(e,"sort",s)),{c(){J(e.$$.fragment)},m(l,o){Z(e,l,o),n=!0},p(l,o){const a={};o[2]&256&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.sort=l[0],Ye(()=>t=!1)),e.$set(a)},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){H(e,l)}}}function kh(i){let e;return{c(){e=b("div"),e.innerHTML=`<i class="${M.getFieldTypeIcon("email")}"></i> <span class="txt">email</span>`,h(e,"class","col-header-content")},m(t,n){S(t,e,n)},p:V,d(t){t&&k(e)}}}function Sh(i){let e,t,n,s,r,l=i[65].name+"",o;return{c(){e=b("div"),t=b("i"),s=F(),r=b("span"),o=ee(l),h(t,"class",n=M.getFieldTypeIcon(i[65].type)),h(r,"class","txt"),h(e,"class","col-header-content")},m(a,c){S(a,e,c),w(e,t),w(e,s),w(e,r),w(r,o)},p(a,c){c[0]&1048576&&n!==(n=M.getFieldTypeIcon(a[65].type))&&h(t,"class",n),c[0]&1048576&&l!==(l=a[65].name+"")&&re(o,l)},d(a){a&&k(e)}}}function Yr(i,e){let t,n,s,r;function l(a){e[36](a)}let o={class:"col-type-"+e[65].type+" col-field-"+e[65].name,name:e[65].name,$$slots:{default:[Sh]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.sort=e[0]),n=new Bt({props:o}),ce.push(()=>Ke(n,"sort",l)),{key:i,first:null,c(){t=ne(),J(n.$$.fragment),this.first=t},m(a,c){S(a,t,c),Z(n,a,c),r=!0},p(a,c){e=a;const u={};c[0]&1048576&&(u.class="col-type-"+e[65].type+" col-field-"+e[65].name),c[0]&1048576&&(u.name=e[65].name),c[0]&1048576|c[2]&256&&(u.$$scope={dirty:c,ctx:e}),!s&&c[0]&1&&(s=!0,u.sort=e[0],Ye(()=>s=!1)),n.$set(u)},i(a){r||(T(n.$$.fragment,a),r=!0)},o(a){L(n.$$.fragment,a),r=!1},d(a){a&&k(t),H(n,a)}}}function Kr(i){let e,t,n;function s(l){i[37](l)}let r={class:"col-type-date col-field-created",name:"created",$$slots:{default:[vh]},$$scope:{ctx:i}};return i[0]!==void 0&&(r.sort=i[0]),e=new Bt({props:r}),ce.push(()=>Ke(e,"sort",s)),{c(){J(e.$$.fragment)},m(l,o){Z(e,l,o),n=!0},p(l,o){const a={};o[2]&256&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.sort=l[0],Ye(()=>t=!1)),e.$set(a)},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){H(e,l)}}}function vh(i){let e;return{c(){e=b("div"),e.innerHTML=`<i class="${M.getFieldTypeIcon("date")}"></i> <span class="txt">created</span>`,h(e,"class","col-header-content")},m(t,n){S(t,e,n)},p:V,d(t){t&&k(e)}}}function Gr(i){let e,t,n;function s(l){i[38](l)}let r={class:"col-type-date col-field-updated",name:"updated",$$slots:{default:[Th]},$$scope:{ctx:i}};return i[0]!==void 0&&(r.sort=i[0]),e=new Bt({props:r}),ce.push(()=>Ke(e,"sort",s)),{c(){J(e.$$.fragment)},m(l,o){Z(e,l,o),n=!0},p(l,o){const a={};o[2]&256&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.sort=l[0],Ye(()=>t=!1)),e.$set(a)},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){H(e,l)}}}function Th(i){let e;return{c(){e=b("div"),e.innerHTML=`<i class="${M.getFieldTypeIcon("date")}"></i> <span class="txt">updated</span>`,h(e,"class","col-header-content")},m(t,n){S(t,e,n)},p:V,d(t){t&&k(e)}}}function Qr(i){let e;return{c(){e=b("button"),e.innerHTML='<i class="ri-more-line"></i>',h(e,"type","button"),h(e,"aria-label","Toggle columns"),h(e,"class","btn btn-sm btn-transparent p-0")},m(t,n){S(t,e,n),i[39](e)},p:V,d(t){t&&k(e),i[39](null)}}}function Xr(i){let e;function t(r,l){return r[14]?Eh:Oh}let n=t(i),s=n(i);return{c(){s.c(),e=ne()},m(r,l){s.m(r,l),S(r,e,l)},p(r,l){n===(n=t(r))&&s?s.p(r,l):(s.d(1),s=n(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&k(e),s.d(r)}}}function Oh(i){let e,t,n,s;function r(a,c){var u;if((u=a[1])!=null&&u.length)return Ih;if(!a[11])return Ch}let l=r(i),o=l&&l(i);return{c(){e=b("tr"),t=b("td"),n=b("h6"),n.textContent="No records found.",s=F(),o&&o.c(),h(t,"colspan","99"),h(t,"class","txt-center txt-hint p-xs")},m(a,c){S(a,e,c),w(e,t),w(t,n),w(t,s),o&&o.m(t,null)},p(a,c){l===(l=r(a))&&o?o.p(a,c):(o&&o.d(1),o=l&&l(a),o&&(o.c(),o.m(t,null)))},d(a){a&&k(e),o&&o.d()}}}function Eh(i){let e;return{c(){e=b("tr"),e.innerHTML='<td colspan="99" class="p-xs"><span class="skeleton-loader m-0"></span></td>'},m(t,n){S(t,e,n)},p:V,d(t){t&&k(e)}}}function Ch(i){let e,t,n;return{c(){e=b("button"),e.innerHTML='<i class="ri-add-line"></i> <span class="txt">New record</span>',h(e,"type","button"),h(e,"class","btn btn-secondary btn-expanded m-t-sm")},m(s,r){S(s,e,r),t||(n=Q(e,"click",i[43]),t=!0)},p:V,d(s){s&&k(e),t=!1,n()}}}function Ih(i){let e,t,n;return{c(){e=b("button"),e.innerHTML='<span class="txt">Clear filters</span>',h(e,"type","button"),h(e,"class","btn btn-hint btn-expanded m-t-sm")},m(s,r){S(s,e,r),t||(n=Q(e,"click",i[42]),t=!0)},p:V,d(s){s&&k(e),t=!1,n()}}}function xr(i){let e,t,n,s,r,l,o,a,c,u;function f(){return i[40](i[62])}return{c(){e=b("td"),t=b("div"),n=b("input"),l=F(),o=b("label"),h(n,"type","checkbox"),h(n,"id",s="checkbox_"+i[62].id),n.checked=r=i[5][i[62].id],h(o,"for",a="checkbox_"+i[62].id),h(t,"class","form-field"),h(e,"class","bulk-select-col min-width")},m(m,d){S(m,e,d),w(e,t),w(t,n),w(t,l),w(t,o),c||(u=[Q(n,"change",f),Q(t,"click",cn(i[30]))],c=!0)},p(m,d){i=m,d[0]&16&&s!==(s="checkbox_"+i[62].id)&&h(n,"id",s),d[0]&48&&r!==(r=i[5][i[62].id])&&(n.checked=r),d[0]&16&&a!==(a="checkbox_"+i[62].id)&&h(o,"for",a)},d(m){m&&k(e),c=!1,ye(u)}}}function el(i){let e,t,n,s,r,l,o=i[62].id+"",a,c,u;s=new Gi({props:{value:i[62].id}});let f=i[10]&&tl(i);return{c(){e=b("td"),t=b("div"),n=b("div"),J(s.$$.fragment),r=F(),l=b("div"),a=ee(o),c=F(),f&&f.c(),h(l,"class","txt txt-ellipsis"),h(n,"class","label"),h(t,"class","flex flex-gap-5"),h(e,"class","col-type-text col-field-id")},m(m,d){S(m,e,d),w(e,t),w(t,n),Z(s,n,null),w(n,r),w(n,l),w(l,a),w(t,c),f&&f.m(t,null),u=!0},p(m,d){const y={};d[0]&16&&(y.value=m[62].id),s.$set(y),(!u||d[0]&16)&&o!==(o=m[62].id+"")&&re(a,o),m[10]?f?f.p(m,d):(f=tl(m),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},i(m){u||(T(s.$$.fragment,m),u=!0)},o(m){L(s.$$.fragment,m),u=!1},d(m){m&&k(e),H(s),f&&f.d()}}}function tl(i){let e;function t(r,l){return r[62].verified?Dh:Nh}let n=t(i),s=n(i);return{c(){s.c(),e=ne()},m(r,l){s.m(r,l),S(r,e,l)},p(r,l){n!==(n=t(r))&&(s.d(1),s=n(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&k(e),s.d(r)}}}function Nh(i){let e,t,n;return{c(){e=b("i"),h(e,"class","ri-error-warning-fill txt-sm txt-hint")},m(s,r){S(s,e,r),t||(n=Te(Be.call(null,e,"Unverified")),t=!0)},d(s){s&&k(e),t=!1,n()}}}function Dh(i){let e,t,n;return{c(){e=b("i"),h(e,"class","ri-checkbox-circle-fill txt-sm txt-success")},m(s,r){S(s,e,r),t||(n=Te(Be.call(null,e,"Verified")),t=!0)},d(s){s&&k(e),t=!1,n()}}}function nl(i){let e=!i[6].includes("@username"),t,n=!i[6].includes("@email"),s,r=e&&il(i),l=n&&sl(i);return{c(){r&&r.c(),t=F(),l&&l.c(),s=ne()},m(o,a){r&&r.m(o,a),S(o,t,a),l&&l.m(o,a),S(o,s,a)},p(o,a){a[0]&64&&(e=!o[6].includes("@username")),e?r?r.p(o,a):(r=il(o),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),a[0]&64&&(n=!o[6].includes("@email")),n?l?l.p(o,a):(l=sl(o),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},d(o){o&&(k(t),k(s)),r&&r.d(o),l&&l.d(o)}}}function il(i){let e,t;function n(l,o){return o[0]&16&&(t=null),t==null&&(t=!!M.isEmpty(l[62].username)),t?Mh:Lh}let s=n(i,[-1,-1,-1]),r=s(i);return{c(){e=b("td"),r.c(),h(e,"class","col-type-text col-field-username")},m(l,o){S(l,e,o),r.m(e,null)},p(l,o){s===(s=n(l,o))&&r?r.p(l,o):(r.d(1),r=s(l),r&&(r.c(),r.m(e,null)))},d(l){l&&k(e),r.d()}}}function Lh(i){let e,t=i[62].username+"",n,s;return{c(){e=b("span"),n=ee(t),h(e,"class","txt txt-ellipsis"),h(e,"title",s=i[62].username)},m(r,l){S(r,e,l),w(e,n)},p(r,l){l[0]&16&&t!==(t=r[62].username+"")&&re(n,t),l[0]&16&&s!==(s=r[62].username)&&h(e,"title",s)},d(r){r&&k(e)}}}function Mh(i){let e;return{c(){e=b("span"),e.textContent="N/A",h(e,"class","txt-hint")},m(t,n){S(t,e,n)},p:V,d(t){t&&k(e)}}}function sl(i){let e,t;function n(l,o){return o[0]&16&&(t=null),t==null&&(t=!!M.isEmpty(l[62].email)),t?Rh:Ah}let s=n(i,[-1,-1,-1]),r=s(i);return{c(){e=b("td"),r.c(),h(e,"class","col-type-text col-field-email")},m(l,o){S(l,e,o),r.m(e,null)},p(l,o){s===(s=n(l,o))&&r?r.p(l,o):(r.d(1),r=s(l),r&&(r.c(),r.m(e,null)))},d(l){l&&k(e),r.d()}}}function Ah(i){let e,t=i[62].email+"",n,s;return{c(){e=b("span"),n=ee(t),h(e,"class","txt txt-ellipsis"),h(e,"title",s=i[62].email)},m(r,l){S(r,e,l),w(e,n)},p(r,l){l[0]&16&&t!==(t=r[62].email+"")&&re(n,t),l[0]&16&&s!==(s=r[62].email)&&h(e,"title",s)},d(r){r&&k(e)}}}function Rh(i){let e;return{c(){e=b("span"),e.textContent="N/A",h(e,"class","txt-hint")},m(t,n){S(t,e,n)},p:V,d(t){t&&k(e)}}}function rl(i,e){let t,n,s,r;return n=new ta({props:{short:!0,record:e[62],field:e[65]}}),{key:i,first:null,c(){t=b("td"),J(n.$$.fragment),h(t,"class",s="col-type-"+e[65].type+" col-field-"+e[65].name),this.first=t},m(l,o){S(l,t,o),Z(n,t,null),r=!0},p(l,o){e=l;const a={};o[0]&16&&(a.record=e[62]),o[0]&1048576&&(a.field=e[65]),n.$set(a),(!r||o[0]&1048576&&s!==(s="col-type-"+e[65].type+" col-field-"+e[65].name))&&h(t,"class",s)},i(l){r||(T(n.$$.fragment,l),r=!0)},o(l){L(n.$$.fragment,l),r=!1},d(l){l&&k(t),H(n)}}}function ll(i){let e,t,n;return t=new pn({props:{date:i[62].created}}),{c(){e=b("td"),J(t.$$.fragment),h(e,"class","col-type-date col-field-created")},m(s,r){S(s,e,r),Z(t,e,null),n=!0},p(s,r){const l={};r[0]&16&&(l.date=s[62].created),t.$set(l)},i(s){n||(T(t.$$.fragment,s),n=!0)},o(s){L(t.$$.fragment,s),n=!1},d(s){s&&k(e),H(t)}}}function ol(i){let e,t,n;return t=new pn({props:{date:i[62].updated}}),{c(){e=b("td"),J(t.$$.fragment),h(e,"class","col-type-date col-field-updated")},m(s,r){S(s,e,r),Z(t,e,null),n=!0},p(s,r){const l={};r[0]&16&&(l.date=s[62].updated),t.$set(l)},i(s){n||(T(t.$$.fragment,s),n=!0)},o(s){L(t.$$.fragment,s),n=!1},d(s){s&&k(e),H(t)}}}function al(i,e){let t,n,s=!e[6].includes("@id"),r,l,o=[],a=new Map,c,u=e[9]&&!e[6].includes("@created"),f,m=e[8]&&!e[6].includes("@updated"),d,y,g,p,_,E=!e[11]&&xr(e),N=s&&el(e),I=e[10]&&nl(e),C=ae(e[20]);const O=q=>q[65].name;for(let q=0;q<C.length;q+=1){let R=Ur(e,C,q),$=O(R);a.set($,o[q]=rl($,R))}let D=u&&ll(e),A=m&&ol(e);function j(){return e[41](e[62])}return{key:i,first:null,c(){t=b("tr"),E&&E.c(),n=F(),N&&N.c(),r=F(),I&&I.c(),l=F();for(let q=0;q<o.length;q+=1)o[q].c();c=F(),D&&D.c(),f=F(),A&&A.c(),d=F(),y=b("td"),y.innerHTML='<i class="ri-arrow-right-line"></i>',h(y,"class","col-type-action min-width"),h(t,"tabindex","0"),h(t,"class","row-handle"),this.first=t},m(q,R){S(q,t,R),E&&E.m(t,null),w(t,n),N&&N.m(t,null),w(t,r),I&&I.m(t,null),w(t,l);for(let $=0;$<o.length;$+=1)o[$]&&o[$].m(t,null);w(t,c),D&&D.m(t,null),w(t,f),A&&A.m(t,null),w(t,d),w(t,y),g=!0,p||(_=Q(t,"click",j),p=!0)},p(q,R){e=q,e[11]?E&&(E.d(1),E=null):E?E.p(e,R):(E=xr(e),E.c(),E.m(t,n)),R[0]&64&&(s=!e[6].includes("@id")),s?N?(N.p(e,R),R[0]&64&&T(N,1)):(N=el(e),N.c(),T(N,1),N.m(t,r)):N&&(Y(),L(N,1,1,()=>{N=null}),K()),e[10]?I?I.p(e,R):(I=nl(e),I.c(),I.m(t,l)):I&&(I.d(1),I=null),R[0]&1048592&&(C=ae(e[20]),Y(),o=xe(o,R,O,1,e,C,a,t,tt,rl,c,Ur),K()),R[0]&576&&(u=e[9]&&!e[6].includes("@created")),u?D?(D.p(e,R),R[0]&576&&T(D,1)):(D=ll(e),D.c(),T(D,1),D.m(t,f)):D&&(Y(),L(D,1,1,()=>{D=null}),K()),R[0]&320&&(m=e[8]&&!e[6].includes("@updated")),m?A?(A.p(e,R),R[0]&320&&T(A,1)):(A=ol(e),A.c(),T(A,1),A.m(t,d)):A&&(Y(),L(A,1,1,()=>{A=null}),K())},i(q){if(!g){T(N);for(let R=0;R<C.length;R+=1)T(o[R]);T(D),T(A),g=!0}},o(q){L(N);for(let R=0;R<o.length;R+=1)L(o[R]);L(D),L(A),g=!1},d(q){q&&k(t),E&&E.d(),N&&N.d(),I&&I.d();for(let R=0;R<o.length;R+=1)o[R].d();D&&D.d(),A&&A.d(),p=!1,_()}}}function cl(i){let e,t,n,s,r,l;return{c(){e=b("tr"),t=b("td"),n=b("button"),s=b("span"),s.textContent="Load more",h(s,"class","txt"),h(n,"class","btn btn-expanded-lg btn-secondary btn-horizontal-sticky"),n.disabled=i[14],B(n,"btn-loading",i[14]),h(t,"colspan","99"),h(t,"class","txt-center")},m(o,a){S(o,e,a),w(e,t),w(t,n),w(n,s),r||(l=Q(n,"click",ft(i[44])),r=!0)},p(o,a){a[0]&16384&&(n.disabled=o[14]),a[0]&16384&&B(n,"btn-loading",o[14])},d(o){o&&k(e),r=!1,l()}}}function Fh(i){let e,t,n,s,r=!i[6].includes("@id"),l,o,a=[],c=new Map,u,f=i[9]&&!i[6].includes("@created"),m,d=i[8]&&!i[6].includes("@updated"),y,g,p,_,E=[],N=new Map,I,C,O=!i[11]&&zr(i),D=r&&Br(i),A=i[10]&&Zr(i),j=ae(i[20]);const q=P=>P[65].name;for(let P=0;P<j.length;P+=1){let v=jr(i,j,P),oe=q(v);c.set(oe,a[P]=Yr(oe,v))}let R=f&&Kr(i),$=d&&Gr(i),pe=i[17].length&&Qr(i),ie=ae(i[4]);const Se=P=>P[11]?P[62]:P[62].id;for(let P=0;P<ie.length;P+=1){let v=Wr(i,ie,P),oe=Se(v);N.set(oe,E[P]=al(oe,v))}let W=null;ie.length||(W=Xr(i));let le=i[4].length&&i[19]&&cl(i);return{c(){e=b("table"),t=b("thead"),n=b("tr"),O&&O.c(),s=F(),D&&D.c(),l=F(),A&&A.c(),o=F();for(let P=0;P<a.length;P+=1)a[P].c();u=F(),R&&R.c(),m=F(),$&&$.c(),y=F(),g=b("th"),pe&&pe.c(),p=F(),_=b("tbody");for(let P=0;P<E.length;P+=1)E[P].c();W&&W.c(),I=F(),le&&le.c(),h(g,"class","col-type-action min-width"),h(e,"class","table"),B(e,"table-loading",i[14])},m(P,v){S(P,e,v),w(e,t),w(t,n),O&&O.m(n,null),w(n,s),D&&D.m(n,null),w(n,l),A&&A.m(n,null),w(n,o);for(let oe=0;oe<a.length;oe+=1)a[oe]&&a[oe].m(n,null);w(n,u),R&&R.m(n,null),w(n,m),$&&$.m(n,null),w(n,y),w(n,g),pe&&pe.m(g,null),w(e,p),w(e,_);for(let oe=0;oe<E.length;oe+=1)E[oe]&&E[oe].m(_,null);W&&W.m(_,null),w(_,I),le&&le.m(_,null),C=!0},p(P,v){P[11]?O&&(O.d(1),O=null):O?O.p(P,v):(O=zr(P),O.c(),O.m(n,s)),v[0]&64&&(r=!P[6].includes("@id")),r?D?(D.p(P,v),v[0]&64&&T(D,1)):(D=Br(P),D.c(),T(D,1),D.m(n,l)):D&&(Y(),L(D,1,1,()=>{D=null}),K()),P[10]?A?(A.p(P,v),v[0]&1024&&T(A,1)):(A=Zr(P),A.c(),T(A,1),A.m(n,o)):A&&(Y(),L(A,1,1,()=>{A=null}),K()),v[0]&1048577&&(j=ae(P[20]),Y(),a=xe(a,v,q,1,P,j,c,n,tt,Yr,u,jr),K()),v[0]&576&&(f=P[9]&&!P[6].includes("@created")),f?R?(R.p(P,v),v[0]&576&&T(R,1)):(R=Kr(P),R.c(),T(R,1),R.m(n,m)):R&&(Y(),L(R,1,1,()=>{R=null}),K()),v[0]&320&&(d=P[8]&&!P[6].includes("@updated")),d?$?($.p(P,v),v[0]&320&&T($,1)):($=Gr(P),$.c(),T($,1),$.m(n,y)):$&&(Y(),L($,1,1,()=>{$=null}),K()),P[17].length?pe?pe.p(P,v):(pe=Qr(P),pe.c(),pe.m(g,null)):pe&&(pe.d(1),pe=null),v[0]&19943286&&(ie=ae(P[4]),Y(),E=xe(E,v,Se,1,P,ie,N,_,tt,al,I,Wr),K(),!ie.length&&W?W.p(P,v):ie.length?W&&(W.d(1),W=null):(W=Xr(P),W.c(),W.m(_,I))),P[4].length&&P[19]?le?le.p(P,v):(le=cl(P),le.c(),le.m(_,null)):le&&(le.d(1),le=null),(!C||v[0]&16384)&&B(e,"table-loading",P[14])},i(P){if(!C){T(D),T(A);for(let v=0;v<j.length;v+=1)T(a[v]);T(R),T($);for(let v=0;v<ie.length;v+=1)T(E[v]);C=!0}},o(P){L(D),L(A);for(let v=0;v<a.length;v+=1)L(a[v]);L(R),L($);for(let v=0;v<E.length;v+=1)L(E[v]);C=!1},d(P){P&&k(e),O&&O.d(),D&&D.d(),A&&A.d();for(let v=0;v<a.length;v+=1)a[v].d();R&&R.d(),$&&$.d(),pe&&pe.d();for(let v=0;v<E.length;v+=1)E[v].d();W&&W.d(),le&&le.d()}}}function ul(i){let e,t;return e=new Yo({props:{class:"dropdown dropdown-right dropdown-nowrap columns-dropdown",trigger:i[16],$$slots:{default:[qh]},$$scope:{ctx:i}}}),{c(){J(e.$$.fragment)},m(n,s){Z(e,n,s),t=!0},p(n,s){const r={};s[0]&65536&&(r.trigger=n[16]),s[0]&131136|s[2]&256&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function Ph(i){let e,t,n,s,r,l=i[58].name+"",o,a,c,u,f;function m(...d){return i[31](i[58],...d)}return{c(){e=b("input"),s=F(),r=b("label"),o=ee(l),c=F(),h(e,"type","checkbox"),h(e,"id",t=i[61]),e.checked=n=!i[6].includes(i[58].id),h(r,"for",a=i[61])},m(d,y){S(d,e,y),S(d,s,y),S(d,r,y),w(r,o),S(d,c,y),u||(f=Q(e,"change",m),u=!0)},p(d,y){i=d,y[1]&1073741824&&t!==(t=i[61])&&h(e,"id",t),y[0]&131136&&n!==(n=!i[6].includes(i[58].id))&&(e.checked=n),y[0]&131072&&l!==(l=i[58].name+"")&&re(o,l),y[1]&1073741824&&a!==(a=i[61])&&h(r,"for",a)},d(d){d&&(k(e),k(s),k(r),k(c)),u=!1,f()}}}function fl(i,e){let t,n,s;return n=new Di({props:{class:"form-field form-field-sm form-field-toggle m-0 p-5",$$slots:{default:[Ph,({uniqueId:r})=>({61:r}),({uniqueId:r})=>[0,r?1073741824:0]]},$$scope:{ctx:e}}}),{key:i,first:null,c(){t=ne(),J(n.$$.fragment),this.first=t},m(r,l){S(r,t,l),Z(n,r,l),s=!0},p(r,l){e=r;const o={};l[0]&131136|l[1]&1073741824|l[2]&256&&(o.$$scope={dirty:l,ctx:e}),n.$set(o)},i(r){s||(T(n.$$.fragment,r),s=!0)},o(r){L(n.$$.fragment,r),s=!1},d(r){r&&k(t),H(n,r)}}}function qh(i){let e,t,n=[],s=new Map,r,l,o=ae(i[17]);const a=c=>c[58].id+c[58].name;for(let c=0;c<o.length;c+=1){let u=$r(i,o,c),f=a(u);s.set(f,n[c]=fl(f,u))}return{c(){e=b("div"),e.textContent="Toggle columns",t=F();for(let c=0;c<n.length;c+=1)n[c].c();r=ne(),h(e,"class","txt-hint txt-sm p-5 m-b-5")},m(c,u){S(c,e,u),S(c,t,u);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(c,u);S(c,r,u),l=!0},p(c,u){u[0]&131136|u[1]&1073741824&&(o=ae(c[17]),Y(),n=xe(n,u,a,1,c,o,s,r.parentNode,tt,fl,r,$r),K())},i(c){if(!l){for(let u=0;u<o.length;u+=1)T(n[u]);l=!0}},o(c){for(let u=0;u<n.length;u+=1)L(n[u]);l=!1},d(c){c&&(k(e),k(t),k(r));for(let u=0;u<n.length;u+=1)n[u].d(c)}}}function Vh(i){let e,t,n=i[16]&&ul(i);return{c(){n&&n.c(),e=ne()},m(s,r){n&&n.m(s,r),S(s,e,r),t=!0},p(s,r){s[16]?n?(n.p(s,r),r[0]&65536&&T(n,1)):(n=ul(s),n.c(),T(n,1),n.m(e.parentNode,e)):n&&(Y(),L(n,1,1,()=>{n=null}),K())},i(s){t||(T(n),t=!0)},o(s){L(n),t=!1},d(s){s&&k(e),n&&n.d(s)}}}function dl(i){let e,t,n,s,r,l,o=i[7]===1?"record":"records",a,c,u,f,m,d,y,g,p,_,E;return{c(){e=b("div"),t=b("div"),n=ee("Selected "),s=b("strong"),r=ee(i[7]),l=F(),a=ee(o),c=F(),u=b("button"),u.innerHTML='<span class="txt">Reset</span>',f=F(),m=b("div"),d=F(),y=b("button"),y.innerHTML='<span class="txt">Delete selected</span>',h(t,"class","txt"),h(u,"type","button"),h(u,"class","btn btn-xs btn-transparent btn-outline p-l-5 p-r-5"),B(u,"btn-disabled",i[15]),h(m,"class","flex-fill"),h(y,"type","button"),h(y,"class","btn btn-sm btn-transparent btn-danger"),B(y,"btn-loading",i[15]),B(y,"btn-disabled",i[15]),h(e,"class","bulkbar")},m(N,I){S(N,e,I),w(e,t),w(t,n),w(t,s),w(s,r),w(t,l),w(t,a),w(e,c),w(e,u),w(e,f),w(e,m),w(e,d),w(e,y),p=!0,_||(E=[Q(u,"click",i[46]),Q(y,"click",i[47])],_=!0)},p(N,I){(!p||I[0]&128)&&re(r,N[7]),(!p||I[0]&128)&&o!==(o=N[7]===1?"record":"records")&&re(a,o),(!p||I[0]&32768)&&B(u,"btn-disabled",N[15]),(!p||I[0]&32768)&&B(y,"btn-loading",N[15]),(!p||I[0]&32768)&&B(y,"btn-disabled",N[15])},i(N){p||(N&&De(()=>{p&&(g||(g=ze(e,Wt,{duration:150,y:5},!0)),g.run(1))}),p=!0)},o(N){N&&(g||(g=ze(e,Wt,{duration:150,y:5},!1)),g.run(0)),p=!1},d(N){N&&k(e),N&&g&&g.end(),_=!1,ye(E)}}}function Wh(i){let e,t,n,s,r={class:"table-wrapper",$$slots:{before:[Vh],default:[Fh]},$$scope:{ctx:i}};e=new yd({props:r}),i[45](e);let l=i[7]&&dl(i);return{c(){J(e.$$.fragment),t=F(),l&&l.c(),n=ne()},m(o,a){Z(e,o,a),S(o,t,a),l&&l.m(o,a),S(o,n,a),s=!0},p(o,a){const c={};a[0]&2060151|a[2]&256&&(c.$$scope={dirty:a,ctx:o}),e.$set(c),o[7]?l?(l.p(o,a),a[0]&128&&T(l,1)):(l=dl(o),l.c(),T(l,1),l.m(n.parentNode,n)):l&&(Y(),L(l,1,1,()=>{l=null}),K())},i(o){s||(T(e.$$.fragment,o),T(l),s=!0)},o(o){L(e.$$.fragment,o),L(l),s=!1},d(o){o&&(k(t),k(n)),i[45](null),H(e,o),l&&l.d(o)}}}const Uh=/^([\+\-])?(\w+)$/,hl=40;function jh(i,e,t){let n,s,r,l,o,a,c,u,f,m,d,y;we(i,vt,z=>t(52,y=z));const g=st();let{collection:p}=e,{sort:_=""}=e,{filter:E=""}=e,N,I=[],C=1,O=0,D={},A=!0,j=!1,q=0,R,$=[],pe=[],ie="";function Se(){p!=null&&p.id&&($.length?localStorage.setItem(ie,JSON.stringify($)):localStorage.removeItem(ie))}function W(){if(t(6,$=[]),!!(p!=null&&p.id))try{const z=localStorage.getItem(ie);z&&t(6,$=JSON.parse(z)||[])}catch{}}function le(z){return!!I.find(Ie=>Ie.id)}async function P(){const z=C;for(let Ie=1;Ie<=z;Ie++)(Ie===1||c)&&await v(Ie,!1)}async function v(z=1,Ie=!0){var Xi,xi,es;if(!(p!=null&&p.id))return;t(14,A=!0);let ni=_;const Ht=ni.match(Uh),Qi=Ht?o.find(ge=>ge.name===Ht[2]):null;if(Ht&&Qi){const ge=((es=(xi=(Xi=y==null?void 0:y.find(Le=>{var yn;return Le.id==((yn=Qi.options)==null?void 0:yn.collectionId)}))==null?void 0:Xi.schema)==null?void 0:xi.filter(Le=>Le.presentable))==null?void 0:es.map(Le=>Le.name))||[],Ot=[];for(const Le of ge)Ot.push((Ht[1]||"")+Ht[2]+"."+Le);Ot.length>0&&(ni=Ot.join(","))}const wa=M.getAllCollectionIdentifiers(p),ii=l.map(ge=>ge.name+":excerpt(200)").concat(o.map(ge=>"expand."+ge.name+".*:excerpt(200)"));return ii.length&&ii.unshift("*"),Ee.collection(p.id).getList(z,hl,{sort:ni,skipTotal:1,filter:M.normalizeSearchFilter(E,wa),expand:o.map(ge=>ge.name).join(","),fields:ii.join(","),requestKey:"records_list"}).then(async ge=>{var Ot;if(z<=1&&oe(),t(14,A=!1),t(13,C=ge.page),t(28,O=ge.items.length),g("load",I.concat(ge.items)),l.length)for(let Le of ge.items)Le._partial=!0;if(Ie){const Le=++q;for(;(Ot=ge.items)!=null&&Ot.length&&q==Le;){const yn=ge.items.splice(0,20);for(let ka of yn)M.pushOrReplaceByKey(I,ka);t(4,I),await M.yieldToMain()}}else{for(let Le of ge.items)M.pushOrReplaceByKey(I,Le);t(4,I)}}).catch(ge=>{ge!=null&&ge.isAbort||(t(14,A=!1),console.warn(ge),oe(),ApiClient.error(ge,!E||(ge==null?void 0:ge.status)!=400))})}function oe(){N==null||N.resetVerticalScroll(),t(4,I=[]),t(13,C=1),t(28,O=0),t(5,D={})}function x(){f?ue():et()}function ue(){t(5,D={})}function et(){for(const z of I)t(5,D[z.id]=z,D);t(5,D)}function Zt(z){D[z.id]?delete D[z.id]:t(5,D[z.id]=z,D),t(5,D)}function ve(){xf(`Do you really want to delete the selected ${u===1?"record":"records"}?`,gn)}async function gn(){if(j||!u||!(p!=null&&p.id))return;let z=[];for(const Ie of Object.keys(D))z.push(ApiClient.collection(p.id).delete(Ie));return t(15,j=!0),Promise.all(z).then(()=>{mf(`Successfully deleted the selected ${u===1?"record":"records"}.`),g("delete",D),ue()}).catch(Ie=>{ApiClient.error(Ie)}).finally(()=>(t(15,j=!1),P()))}function na(z){bt.call(this,i,z)}const ia=(z,Ie)=>{Ie.target.checked?M.removeByValue($,z.id):M.pushUnique($,z.id),t(6,$)},sa=()=>x();function ra(z){_=z,t(0,_)}function la(z){_=z,t(0,_)}function oa(z){_=z,t(0,_)}function aa(z){_=z,t(0,_)}function ca(z){_=z,t(0,_)}function ua(z){_=z,t(0,_)}function fa(z){ce[z?"unshift":"push"](()=>{R=z,t(16,R)})}const da=z=>Zt(z),ha=z=>window.location.href=`#/collections/${p.name}?recordId=${z.id}`,ma=()=>t(1,E=""),pa=()=>g("new"),ga=()=>v(C+1);function ya(z){ce[z?"unshift":"push"](()=>{N=z,t(12,N)})}const _a=()=>ue(),ba=()=>ve();return i.$$set=z=>{"collection"in z&&t(2,p=z.collection),"sort"in z&&t(0,_=z.sort),"filter"in z&&t(1,E=z.filter)},i.$$.update=()=>{i.$$.dirty[0]&4&&p!=null&&p.id&&(ie=p.id+"@hiddenColumns",W(),oe()),i.$$.dirty[0]&4&&t(11,n=(p==null?void 0:p.type)==="view"),i.$$.dirty[0]&4&&t(10,s=(p==null?void 0:p.type)==="auth"),i.$$.dirty[0]&4&&t(29,r=(p==null?void 0:p.schema)||[]),i.$$.dirty[0]&536870912&&(l=r.filter(z=>z.type==="editor")),i.$$.dirty[0]&536870912&&(o=r.filter(z=>z.type==="relation")),i.$$.dirty[0]&536870976&&t(20,a=r.filter(z=>!$.includes(z.id))),i.$$.dirty[0]&7&&p!=null&&p.id&&_!==-1&&E!==-1&&v(1),i.$$.dirty[0]&268435456&&t(19,c=O>=hl),i.$$.dirty[0]&32&&t(7,u=Object.keys(D).length),i.$$.dirty[0]&144&&t(18,f=I.length&&u===I.length),i.$$.dirty[0]&64&&$!==-1&&Se(),i.$$.dirty[0]&2064&&t(9,m=!n||I.length>0&&typeof I[0].created<"u"),i.$$.dirty[0]&2064&&t(8,d=!n||I.length>0&&typeof I[0].updated<"u"),i.$$.dirty[0]&536872704&&t(17,pe=[].concat(s?[{id:"@username",name:"username"},{id:"@email",name:"email"}]:[],r.map(z=>({id:z.id,name:z.name})),m?{id:"@created",name:"created"}:[],d?{id:"@updated",name:"updated"}:[]))},[_,E,p,v,I,D,$,u,d,m,s,n,N,C,A,j,R,pe,f,c,a,g,x,ue,Zt,ve,le,P,O,r,na,ia,sa,ra,la,oa,aa,ca,ua,fa,da,ha,ma,pa,ga,ya,_a,ba]}class $h extends me{constructor(e){super(),he(this,e,jh,Wh,fe,{collection:2,sort:0,filter:1,hasRecord:26,reloadLoadedPages:27,load:3},null,[-1,-1,-1])}get hasRecord(){return this.$$.ctx[26]}get reloadLoadedPages(){return this.$$.ctx[27]}get load(){return this.$$.ctx[3]}}function zh(i){let e,t,n,s,r=(i[2]?"...":i[0])+"",l,o;return{c(){e=b("div"),t=b("span"),t.textContent="Total found:",n=F(),s=b("span"),l=ee(r),h(t,"class","txt"),h(s,"class","txt"),h(e,"class",o="inline-flex flex-gap-5 records-counter "+i[1])},m(a,c){S(a,e,c),w(e,t),w(e,n),w(e,s),w(s,l)},p(a,[c]){c&5&&r!==(r=(a[2]?"...":a[0])+"")&&re(l,r),c&2&&o!==(o="inline-flex flex-gap-5 records-counter "+a[1])&&h(e,"class",o)},i:V,o:V,d(a){a&&k(e)}}}function Bh(i,e,t){const n=st();let{collection:s}=e,{filter:r=""}=e,{totalCount:l=0}=e,{class:o=void 0}=e,a=!1;async function c(){if(s!=null&&s.id){t(2,a=!0),t(0,l=0);try{const u=M.getAllCollectionIdentifiers(s),f=await Ee.collection(s.id).getList(1,1,{filter:M.normalizeSearchFilter(r,u),fields:"id",requestKey:"records_count"});t(0,l=f.totalItems),n("count",l),t(2,a=!1)}catch(u){u!=null&&u.isAbort||(t(2,a=!1),console.warn(u))}}}return i.$$set=u=>{"collection"in u&&t(3,s=u.collection),"filter"in u&&t(4,r=u.filter),"totalCount"in u&&t(0,l=u.totalCount),"class"in u&&t(1,o=u.class)},i.$$.update=()=>{i.$$.dirty&24&&s!=null&&s.id&&r!==-1&&c()},[l,o,a,s,r,c]}class Zh extends me{constructor(e){super(),he(this,e,Bh,zh,fe,{collection:3,filter:4,totalCount:0,class:1,reload:5})}get reload(){return this.$$.ctx[5]}}function Hh(i){let e,t,n,s,r,l;return{c(){e=b("button"),t=b("i"),h(t,"class","ri-refresh-line svelte-1bvelc2"),h(e,"type","button"),h(e,"aria-label","Refresh"),h(e,"class",n="btn btn-transparent btn-circle "+i[1]+" svelte-1bvelc2"),B(e,"refreshing",i[2])},m(o,a){S(o,e,a),w(e,t),r||(l=[Te(s=Be.call(null,e,i[0])),Q(e,"click",i[3])],r=!0)},p(o,[a]){a&2&&n!==(n="btn btn-transparent btn-circle "+o[1]+" svelte-1bvelc2")&&h(e,"class",n),s&&We(s.update)&&a&1&&s.update.call(null,o[0]),a&6&&B(e,"refreshing",o[2])},i:V,o:V,d(o){o&&k(e),r=!1,ye(l)}}}function Jh(i,e,t){const n=st();let{tooltip:s={text:"Refresh",position:"right"}}=e,{class:r=""}=e,l=null;function o(){n("refresh");const a=s;t(0,s=null),clearTimeout(l),t(2,l=setTimeout(()=>{t(2,l=null),t(0,s=a)},150))}return wt(()=>()=>clearTimeout(l)),i.$$set=a=>{"tooltip"in a&&t(0,s=a.tooltip),"class"in a&&t(1,r=a.class)},[s,r,l,o]}class Yh extends me{constructor(e){super(),he(this,e,Jh,Hh,fe,{tooltip:0,class:1})}}function Kh(i){let e,t,n,s;return e=new Xo({}),n=new Tt({props:{class:"flex-content",$$slots:{footer:[xh],default:[Xh]},$$scope:{ctx:i}}}),{c(){J(e.$$.fragment),t=F(),J(n.$$.fragment)},m(r,l){Z(e,r,l),S(r,t,l),Z(n,r,l),s=!0},p(r,l){const o={};l&536871287&&(o.$$scope={dirty:l,ctx:r}),n.$set(o)},i(r){s||(T(e.$$.fragment,r),T(n.$$.fragment,r),s=!0)},o(r){L(e.$$.fragment,r),L(n.$$.fragment,r),s=!1},d(r){r&&k(t),H(e,r),H(n,r)}}}function Gh(i){let e,t;return e=new Tt({props:{center:!0,$$slots:{default:[em]},$$scope:{ctx:i}}}),{c(){J(e.$$.fragment)},m(n,s){Z(e,n,s),t=!0},p(n,s){const r={};s&536870912&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function Qh(i){let e,t;return e=new Tt({props:{center:!0,$$slots:{default:[tm]},$$scope:{ctx:i}}}),{c(){J(e.$$.fragment)},m(n,s){Z(e,n,s),t=!0},p(n,s){const r={};s&536870912&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function ml(i){let e,t,n;return{c(){e=b("button"),e.innerHTML='<i class="ri-settings-4-line"></i>',h(e,"type","button"),h(e,"aria-label","Edit collection"),h(e,"class","btn btn-transparent btn-circle")},m(s,r){S(s,e,r),t||(n=Te(Be.call(null,e,{text:"Edit collection",position:"right"})),t=!0)},d(s){s&&k(e),t=!1,n()}}}function pl(i){let e,t,n;return{c(){e=b("button"),e.innerHTML='<i class="ri-add-line"></i> <span class="txt">New record</span>',h(e,"type","button"),h(e,"class","btn btn-expanded")},m(s,r){S(s,e,r),t||(n=Q(e,"click",i[18]),t=!0)},p:V,d(s){s&&k(e),t=!1,n()}}}function Xh(i){let e,t,n,s,r,l=i[2].name.replace("pcms_","")+"",o,a,c,u,f,m,d,y,g,p,_,E,N,I,C=!i[8]&&ml();f=new Yh({}),f.$on("refresh",i[17]);let O=i[2].type!=="view"&&pl(i);function D(q){i[20](q)}function A(q){i[21](q)}let j={collection:i[2]};return i[0]!==void 0&&(j.filter=i[0]),i[1]!==void 0&&(j.sort=i[1]),_=new $h({props:j}),i[19](_),ce.push(()=>Ke(_,"filter",D)),ce.push(()=>Ke(_,"sort",A)),_.$on("select",i[22]),_.$on("delete",i[23]),_.$on("new",i[24]),{c(){e=b("header"),t=b("nav"),n=b("div"),n.textContent="Collections",s=F(),r=b("div"),o=ee(l),a=F(),c=b("div"),C&&C.c(),u=F(),J(f.$$.fragment),m=F(),d=b("div"),O&&O.c(),y=F(),g=b("div"),p=F(),J(_.$$.fragment),h(n,"class","breadcrumb-item"),h(r,"class","breadcrumb-item"),h(t,"class","breadcrumbs"),h(c,"class","inline-flex gap-5"),h(d,"class","btns-group"),h(e,"class","page-header"),h(g,"class","clearfix m-b-sm")},m(q,R){S(q,e,R),w(e,t),w(t,n),w(t,s),w(t,r),w(r,o),w(e,a),w(e,c),C&&C.m(c,null),w(c,u),Z(f,c,null),w(e,m),w(e,d),O&&O.m(d,null),S(q,y,R),S(q,g,R),S(q,p,R),Z(_,q,R),I=!0},p(q,R){(!I||R&4)&&l!==(l=q[2].name.replace("pcms_","")+"")&&re(o,l),q[8]?C&&(C.d(1),C=null):C||(C=ml(),C.c(),C.m(c,u)),q[2].type!=="view"?O?O.p(q,R):(O=pl(q),O.c(),O.m(d,null)):O&&(O.d(1),O=null);const $={};R&4&&($.collection=q[2]),!E&&R&1&&(E=!0,$.filter=q[0],Ye(()=>E=!1)),!N&&R&2&&(N=!0,$.sort=q[1],Ye(()=>N=!1)),_.$set($)},i(q){I||(T(f.$$.fragment,q),T(_.$$.fragment,q),I=!0)},o(q){L(f.$$.fragment,q),L(_.$$.fragment,q),I=!1},d(q){q&&(k(e),k(y),k(g),k(p)),C&&C.d(),H(f),O&&O.d(),i[19](null),H(_,q)}}}function xh(i){let e,t,n;function s(l){i[16](l)}let r={class:"m-r-auto txt-sm txt-hint",collection:i[2],filter:i[0]};return i[6]!==void 0&&(r.totalCount=i[6]),e=new Zh({props:r}),i[15](e),ce.push(()=>Ke(e,"totalCount",s)),{c(){J(e.$$.fragment)},m(l,o){Z(e,l,o),n=!0},p(l,o){const a={};o&4&&(a.collection=l[2]),o&1&&(a.filter=l[0]),!t&&o&64&&(t=!0,a.totalCount=l[6],Ye(()=>t=!1)),e.$set(a)},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){i[15](null),H(e,l)}}}function em(i){let e;return{c(){e=b("p"),e.textContent="no collections"},m(t,n){S(t,e,n)},p:V,d(t){t&&k(e)}}}function tm(i){let e;return{c(){e=b("div"),e.innerHTML='<span class="loader loader-lg"></span> <h1>Loading collections...</h1>',h(e,"class","placeholder-section m-b-base")},m(t,n){S(t,e,n)},p:V,d(t){t&&k(e)}}}function nm(i){let e,t,n,s;const r=[Qh,Gh,Kh],l=[];function o(a,c){return a[3]&&!a[7].length?0:a[7].length?2:1}return e=o(i),t=l[e]=r[e](i),{c(){t.c(),n=ne()},m(a,c){l[e].m(a,c),S(a,n,c),s=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(Y(),L(l[u],1,1,()=>{l[u]=null}),K(),t=l[e],t?t.p(a,c):(t=l[e]=r[e](a),t.c()),T(t,1),t.m(n.parentNode,n))},i(a){s||(T(t),s=!0)},o(a){L(t),s=!1},d(a){a&&k(n),l[e].d(a)}}}function im(i,e,t){let n,s,r,l,o,a,c;we(i,it,W=>t(2,s=W)),we(i,Gs,W=>t(25,r=W)),we(i,ln,W=>t(3,l=W)),we(i,Pi,W=>t(14,o=W)),we(i,vt,W=>t(7,a=W)),we(i,Go,W=>t(8,c=W));const u=new URLSearchParams(o);let f,m,d,y,g=u.get("filter")||"",p=u.get("sort")||"-created",_=u.get("collectionId")||(s==null?void 0:s.id),E=0;Ki(_);function N(){t(12,_=s==null?void 0:s.id),t(0,g=""),t(1,p="-created"),C({recordId:null}),I()}async function I(){if(!p)return;const W=M.getAllCollectionIdentifiers(s),le=p.split(",").map(P=>P.startsWith("+")||P.startsWith("-")?P.substring(1):P);le.filter(P=>W.includes(P)).length!=le.length&&(W.includes("created")?t(1,p="-created"):t(1,p=""))}function C(W={}){const le=Object.assign({collectionId:(s==null?void 0:s.id)||"",filter:g,sort:p},W);M.replaceHashQueryParams(le)}function O(W){ce[W?"unshift":"push"](()=>{y=W,t(5,y)})}function D(W){E=W,t(6,E)}const A=()=>{d==null||d.load(),y==null||y.reload()},j=()=>f==null?void 0:f.show();function q(W){ce[W?"unshift":"push"](()=>{d=W,t(4,d)})}function R(W){g=W,t(0,g)}function $(W){p=W,t(1,p)}const pe=W=>{C({recordId:W.detail.id});let le=W.detail._partial?W.detail.id:W.detail;s.type==="view"?m==null||m.show(le):f==null||f.show(le)},ie=()=>{y==null||y.reload()},Se=()=>f==null?void 0:f.show();return i.$$.update=()=>{i.$$.dirty&16384&&t(13,n=new URLSearchParams(o)),i.$$.dirty&12296&&!l&&n.get("collectionId")&&n.get("collectionId")!=_&&Rf(n.get("collectionId")),i.$$.dirty&4100&&s!=null&&s.id&&_!=s.id&&N(),i.$$.dirty&4&&s!=null&&s.id&&I(),i.$$.dirty&15&&!l&&(p||g||s!=null&&s.id)&&C(),i.$$.dirty&4&&Ea(Gs,r=(s==null?void 0:s.name)||"Collections",r)},[g,p,s,l,d,y,E,a,c,f,m,C,_,n,o,O,D,A,j,q,R,$,pe,ie,Se]}class sm extends me{constructor(e){super(),he(this,e,im,nm,fe,{})}}function gl(i,e,t){const n=i.slice();return n[12]=e[t],n}function rm(i){let e,t,n,s;return e=new Xo({}),n=new Tt({props:{class:"flex-content",$$slots:{header:[cm],default:[am]},$$scope:{ctx:i}}}),{c(){J(e.$$.fragment),t=F(),J(n.$$.fragment)},m(r,l){Z(e,r,l),S(r,t,l),Z(n,r,l),s=!0},p(r,l){const o={};l&32775&&(o.$$scope={dirty:l,ctx:r}),n.$set(o)},i(r){s||(T(e.$$.fragment,r),T(n.$$.fragment,r),s=!0)},o(r){L(e.$$.fragment,r),L(n.$$.fragment,r),s=!1},d(r){r&&k(t),H(e,r),H(n,r)}}}function lm(i){let e,t;return e=new Tt({props:{center:!0,$$slots:{default:[um]},$$scope:{ctx:i}}}),{c(){J(e.$$.fragment)},m(n,s){Z(e,n,s),t=!0},p(n,s){const r={};s&32768&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function om(i){let e,t;return e=new Tt({props:{center:!0,$$slots:{default:[fm]},$$scope:{ctx:i}}}),{c(){J(e.$$.fragment)},m(n,s){Z(e,n,s),t=!0},p(n,s){const r={};s&32768&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function yl(i){let e,t,n=i[12].name+"",s,r,l,o,a;return o=new ta({props:{field:i[12],record:i[1]}}),{c(){e=b("tr"),t=b("td"),s=ee(n),r=F(),l=b("td"),J(o.$$.fragment),h(t,"class","min-width txt-hint txt-bold"),h(l,"class","col-field svelte-1qomhmj")},m(c,u){S(c,e,u),w(e,t),w(t,s),w(e,r),w(e,l),Z(o,l,null),a=!0},p(c,u){(!a||u&1)&&n!==(n=c[12].name+"")&&re(s,n);const f={};u&1&&(f.field=c[12]),u&2&&(f.record=c[1]),o.$set(f)},i(c){a||(T(o.$$.fragment,c),a=!0)},o(c){L(o.$$.fragment,c),a=!1},d(c){c&&k(e),H(o)}}}function _l(i){let e,t,n,s,r,l;return r=new pn({props:{date:i[1].created}}),{c(){e=b("tr"),t=b("td"),t.textContent="created",n=F(),s=b("td"),J(r.$$.fragment),h(t,"class","min-width txt-hint txt-bold"),h(s,"class","col-field svelte-1qomhmj")},m(o,a){S(o,e,a),w(e,t),w(e,n),w(e,s),Z(r,s,null),l=!0},p(o,a){const c={};a&2&&(c.date=o[1].created),r.$set(c)},i(o){l||(T(r.$$.fragment,o),l=!0)},o(o){L(r.$$.fragment,o),l=!1},d(o){o&&k(e),H(r)}}}function bl(i){let e,t,n,s,r,l;return r=new pn({props:{date:i[1].updated}}),{c(){e=b("tr"),t=b("td"),t.textContent="updated",n=F(),s=b("td"),J(r.$$.fragment),h(t,"class","min-width txt-hint txt-bold"),h(s,"class","col-field svelte-1qomhmj")},m(o,a){S(o,e,a),w(e,t),w(e,n),w(e,s),Z(r,s,null),l=!0},p(o,a){const c={};a&2&&(c.date=o[1].updated),r.$set(c)},i(o){l||(T(r.$$.fragment,o),l=!0)},o(o){L(r.$$.fragment,o),l=!1},d(o){o&&k(e),H(r)}}}function am(i){var oe;let e,t,n,s,r,l,o=i[0].name.replace("pcms_","")+"",a,c,u,f,m=i[1].slug+"",d,y,g,p,_,E,N,I,C,O,D,A,j=(i[1].id||"...")+"",q,R,$,pe,ie;O=new Gi({props:{value:i[1].id}});let Se=ae((oe=i[0])==null?void 0:oe.schema),W=[];for(let x=0;x<Se.length;x+=1)W[x]=yl(gl(i,Se,x));const le=x=>L(W[x],1,1,()=>{W[x]=null});let P=i[1].created&&_l(i),v=i[1].updated&&bl(i);return{c(){e=b("header"),t=b("nav"),n=b("div"),n.textContent="Collections",s=F(),r=b("div"),l=b("a"),a=ee(o),u=F(),f=b("div"),d=ee(m),y=F(),g=b("table"),p=b("tbody"),_=b("tr"),E=b("td"),E.textContent="id",N=F(),I=b("td"),C=b("div"),J(O.$$.fragment),D=F(),A=b("span"),q=ee(j),R=F();for(let x=0;x<W.length;x+=1)W[x].c();$=F(),P&&P.c(),pe=F(),v&&v.c(),h(n,"class","breadcrumb-item"),h(l,"href",c="#/collections?collectionId="+i[0].id),h(r,"class","breadcrumb-item"),h(f,"class","breadcrumb-item"),h(t,"class","breadcrumbs"),h(e,"class","page-header"),h(E,"class","min-width txt-hint txt-bold"),h(A,"class","txt"),h(C,"class","label"),h(I,"class","col-field svelte-1qomhmj"),h(g,"class","table-border preview-table"),B(g,"table-loading",i[2])},m(x,ue){S(x,e,ue),w(e,t),w(t,n),w(t,s),w(t,r),w(r,l),w(l,a),w(t,u),w(t,f),w(f,d),S(x,y,ue),S(x,g,ue),w(g,p),w(p,_),w(_,E),w(_,N),w(_,I),w(I,C),Z(O,C,null),w(C,D),w(C,A),w(A,q),w(p,R);for(let et=0;et<W.length;et+=1)W[et]&&W[et].m(p,null);w(p,$),P&&P.m(p,null),w(p,pe),v&&v.m(p,null),ie=!0},p(x,ue){var Zt;(!ie||ue&1)&&o!==(o=x[0].name.replace("pcms_","")+"")&&re(a,o),(!ie||ue&1&&c!==(c="#/collections?collectionId="+x[0].id))&&h(l,"href",c),(!ie||ue&2)&&m!==(m=x[1].slug+"")&&re(d,m);const et={};if(ue&2&&(et.value=x[1].id),O.$set(et),(!ie||ue&2)&&j!==(j=(x[1].id||"...")+"")&&re(q,j),ue&3){Se=ae((Zt=x[0])==null?void 0:Zt.schema);let ve;for(ve=0;ve<Se.length;ve+=1){const gn=gl(x,Se,ve);W[ve]?(W[ve].p(gn,ue),T(W[ve],1)):(W[ve]=yl(gn),W[ve].c(),T(W[ve],1),W[ve].m(p,$))}for(Y(),ve=Se.length;ve<W.length;ve+=1)le(ve);K()}x[1].created?P?(P.p(x,ue),ue&2&&T(P,1)):(P=_l(x),P.c(),T(P,1),P.m(p,pe)):P&&(Y(),L(P,1,1,()=>{P=null}),K()),x[1].updated?v?(v.p(x,ue),ue&2&&T(v,1)):(v=bl(x),v.c(),T(v,1),v.m(p,null)):v&&(Y(),L(v,1,1,()=>{v=null}),K()),(!ie||ue&4)&&B(g,"table-loading",x[2])},i(x){if(!ie){T(O.$$.fragment,x);for(let ue=0;ue<Se.length;ue+=1)T(W[ue]);T(P),T(v),ie=!0}},o(x){L(O.$$.fragment,x),W=W.filter(Boolean);for(let ue=0;ue<W.length;ue+=1)L(W[ue]);L(P),L(v),ie=!1},d(x){x&&(k(e),k(y),k(g)),H(O),an(W,x),P&&P.d(),v&&v.d()}}}function cm(i){var l;let e,t,n=((l=i[0])==null?void 0:l.name)+"",s,r;return{c(){e=b("h4"),t=b("strong"),s=ee(n),r=ee(" record preview")},m(o,a){S(o,e,a),w(e,t),w(t,s),w(e,r)},p(o,a){var c;a&1&&n!==(n=((c=o[0])==null?void 0:c.name)+"")&&re(s,n)},d(o){o&&k(e)}}}function um(i){let e;return{c(){e=b("p"),e.textContent="no collections"},m(t,n){S(t,e,n)},p:V,d(t){t&&k(e)}}}function fm(i){let e;return{c(){e=b("div"),e.innerHTML='<span class="loader loader-lg"></span> <h1>Loading collections...</h1>',h(e,"class","placeholder-section m-b-base")},m(t,n){S(t,e,n)},p:V,d(t){t&&k(e)}}}function dm(i){let e,t,n,s;const r=[om,lm,rm],l=[];function o(a,c){return!a[0]&&a[3]&&!a[4].length?0:a[4].length?2:1}return e=o(i),t=l[e]=r[e](i),{c(){t.c(),n=ne()},m(a,c){l[e].m(a,c),S(a,n,c),s=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(Y(),L(l[u],1,1,()=>{l[u]=null}),K(),t=l[e],t?t.p(a,c):(t=l[e]=r[e](a),t.c()),T(t,1),t.m(n.parentNode,n))},i(a){s||(T(t),s=!0)},o(a){L(t),s=!1},d(a){a&&k(n),l[e].d(a)}}}function hm(i,e,t){let n,s,r,l;we(i,it,y=>t(0,n=y)),we(i,Pi,y=>t(7,s=y)),we(i,ln,y=>t(3,r=y)),we(i,vt,y=>t(4,l=y));let{params:o}=e,a=o.collection||null;const c=new URLSearchParams(s);Ki(a);let u={},f=!1;async function m(y){t(1,u={}),t(2,f=!0),t(1,u=await d(y)||{}),t(2,f=!1)}async function d(y){if(y&&typeof y=="string"){try{return await Ee.collection(n.id).getOne(y)}catch(g){g.isAbort||(console.warn("resolveModel:",g),Hi(`Unable to load record with id "${y}"`))}return null}return y}return i.$$set=y=>{"params"in y&&t(5,o=y.params)},i.$$.update=()=>{var y;i.$$.dirty&1&&n!=null&&n.id&&m(c.get("recordId")),i.$$.dirty&1&&(y=n==null?void 0:n.schema)!=null&&y.find(g=>g.type==="editor")},[n,u,f,r,l,o]}class mm extends me{constructor(e){super(),he(this,e,hm,dm,fe,{params:5})}}function wl(i){let e,t,n;return{c(){e=b("div"),e.innerHTML='<figure class="logo"><img src="./images/logo.svg" alt="PocketBase logo" width="40" height="40"/> <span class="txt">Pocket<strong>CMS</strong></span></figure>',t=F(),n=b("div"),h(e,"class","block txt-center m-b-lg"),h(n,"class","clearfix")},m(s,r){S(s,e,r),S(s,t,r),S(s,n,r)},d(s){s&&(k(e),k(t),k(n))}}}function pm(i){let e,t,n,s=!i[0]&&wl();const r=i[1].default,l=Ae(r,i,i[2],null);return{c(){e=b("div"),s&&s.c(),t=F(),l&&l.c(),h(e,"class","wrapper wrapper-sm m-b-xl panel-wrapper svelte-lxxzfu")},m(o,a){S(o,e,a),s&&s.m(e,null),w(e,t),l&&l.m(e,null),n=!0},p(o,a){o[0]?s&&(s.d(1),s=null):s||(s=wl(),s.c(),s.m(e,t)),l&&l.p&&(!n||a&4)&&Fe(l,r,o,o[2],n?Re(r,o[2],a,null):Pe(o[2]),null)},i(o){n||(T(l,o),n=!0)},o(o){L(l,o),n=!1},d(o){o&&k(e),s&&s.d(),l&&l.d(o)}}}function gm(i){let e,t;return e=new Tt({props:{class:"full-page",center:!0,$$slots:{default:[pm]},$$scope:{ctx:i}}}),{c(){J(e.$$.fragment)},m(n,s){Z(e,n,s),t=!0},p(n,[s]){const r={};s&5&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function ym(i,e,t){let{$$slots:n={},$$scope:s}=e,{nobranding:r=!1}=e;return i.$$set=l=>{"nobranding"in l&&t(0,r=l.nobranding),"$$scope"in l&&t(2,s=l.$$scope)},[r,n,s]}class _m extends me{constructor(e){super(),he(this,e,ym,gm,fe,{nobranding:0})}}function bm(i){let e,t,n,s,r,l,o,a;return{c(){e=b("label"),t=ee("Email"),s=F(),r=b("input"),h(e,"for",n=i[8]),h(r,"type","email"),h(r,"id",l=i[8]),r.required=!0,r.autofocus=!0},m(c,u){S(c,e,u),w(e,t),S(c,s,u),S(c,r,u),qt(r,i[0]),r.focus(),o||(a=Q(r,"input",i[4]),o=!0)},p(c,u){u&256&&n!==(n=c[8])&&h(e,"for",n),u&256&&l!==(l=c[8])&&h(r,"id",l),u&1&&r.value!==c[0]&&qt(r,c[0])},d(c){c&&(k(e),k(s),k(r)),o=!1,a()}}}function wm(i){let e,t,n,s,r,l,o,a;return{c(){e=b("label"),t=ee("Password"),s=F(),r=b("input"),h(e,"for",n=i[8]),h(r,"type","password"),h(r,"id",l=i[8]),r.required=!0},m(c,u){S(c,e,u),w(e,t),S(c,s,u),S(c,r,u),qt(r,i[1]),o||(a=Q(r,"input",i[5]),o=!0)},p(c,u){u&256&&n!==(n=c[8])&&h(e,"for",n),u&256&&l!==(l=c[8])&&h(r,"id",l),u&2&&r.value!==c[1]&&qt(r,c[1])},d(c){c&&(k(e),k(s),k(r)),o=!1,a()}}}function km(i){let e,t,n,s,r,l,o,a,c,u,f;return s=new Di({props:{class:"form-field required",name:"identity",$$slots:{default:[bm,({uniqueId:m})=>({8:m}),({uniqueId:m})=>m?256:0]},$$scope:{ctx:i}}}),l=new Di({props:{class:"form-field required",name:"password",$$slots:{default:[wm,({uniqueId:m})=>({8:m}),({uniqueId:m})=>m?256:0]},$$scope:{ctx:i}}}),{c(){e=b("form"),t=b("div"),t.innerHTML="<h4>Admin sign in</h4>",n=F(),J(s.$$.fragment),r=F(),J(l.$$.fragment),o=F(),a=b("button"),a.innerHTML='<span class="txt">Login</span> <i class="ri-arrow-right-line"></i>',h(t,"class","content txt-center m-b-base"),h(a,"type","submit"),h(a,"class","btn btn-lg btn-block btn-next"),B(a,"btn-disabled",i[2]),B(a,"btn-loading",i[2]),h(e,"class","block")},m(m,d){S(m,e,d),w(e,t),w(e,n),Z(s,e,null),w(e,r),Z(l,e,null),w(e,o),w(e,a),c=!0,u||(f=Q(e,"submit",ft(i[3])),u=!0)},p(m,d){const y={};d&769&&(y.$$scope={dirty:d,ctx:m}),s.$set(y);const g={};d&770&&(g.$$scope={dirty:d,ctx:m}),l.$set(g),(!c||d&4)&&B(a,"btn-disabled",m[2]),(!c||d&4)&&B(a,"btn-loading",m[2])},i(m){c||(T(s.$$.fragment,m),T(l.$$.fragment,m),c=!0)},o(m){L(s.$$.fragment,m),L(l.$$.fragment,m),c=!1},d(m){m&&k(e),H(s),H(l),u=!1,f()}}}function Sm(i){let e,t;return e=new _m({props:{$$slots:{default:[km]},$$scope:{ctx:i}}}),{c(){J(e.$$.fragment)},m(n,s){Z(e,n,s),t=!0},p(n,[s]){const r={};s&519&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function vm(i,e,t){let n;we(i,Pi,f=>t(6,n=f));const s=new URLSearchParams(n);let r=s.get("demoEmail")||"",l=s.get("demoPassword")||"",o=!1;function a(){if(!o)return t(2,o=!0),Ee.collection("pcms__users").authWithPassword(r,l).then(()=>{pf(),un("/")}).catch(()=>{Hi("Invalid login credentials.")}).finally(()=>{t(2,o=!1)})}function c(){r=this.value,t(0,r)}function u(){l=this.value,t(1,l)}return[r,l,o,a,c,u]}class Tm extends me{constructor(e){super(),he(this,e,vm,Sm,fe,{})}}const Om={"/login":Cn({component:Tm,conditions:[i=>!Ee.authStore.isValid],userData:{showAppSidebar:!1}}),"/collections":Cn({component:sm,conditions:[i=>Ee.authStore.isValid],userData:{showAppSidebar:!0}}),"/collections/:collection/":Cn({component:mm,conditions:[i=>Ee.authStore.isValid],userData:{showAppSidebar:!0}}),"*":Cn({component:Af,userData:{showAppSidebar:!0}})};function kl(i){let e,t,n,s,r,l,o,a,c,u,f,m,d,y,g,p;return d=new Yo({props:{class:"dropdown dropdown-nowrap dropdown-upside dropdown-left",$$slots:{default:[Em]},$$scope:{ctx:i}}}),{c(){var _;e=b("aside"),t=b("a"),t.innerHTML='<img src="./images/logo.svg" alt="PocketBase logo" width="40" height="40"/>',n=F(),s=b("nav"),r=b("a"),r.innerHTML='<i class="ri-database-2-line"></i>',l=F(),o=b("a"),o.innerHTML='<i class="ri-tools-line"></i>',a=F(),c=b("div"),u=b("img"),m=F(),J(d.$$.fragment),h(t,"href","/"),h(t,"class","logo logo-sm"),h(r,"href","/collections"),h(r,"class","menu-item"),h(r,"aria-label","Collections"),h(o,"href","/settings"),h(o,"class","menu-item"),h(o,"aria-label","Settings"),h(s,"class","main-menu"),Pt(u.src,f="./images/avatars/avatar"+(((_=i[1])==null?void 0:_.avatar)||0)+".svg")||h(u,"src",f),h(u,"alt","Avatar"),h(u,"aria-hidden","true"),h(c,"tabindex","0"),h(c,"role","button"),h(c,"aria-label","Logged admin menu"),h(c,"class","thumb thumb-circle link-hint closable"),h(e,"class","app-sidebar")},m(_,E){S(_,e,E),w(e,t),w(e,n),w(e,s),w(s,r),w(s,l),w(s,o),w(e,a),w(e,c),w(c,u),w(c,m),Z(d,c,null),y=!0,g||(p=[Te(Nn.call(null,t)),Te(Nn.call(null,r)),Te(cs.call(null,r,{path:"/collections/?.*",className:"current-route"})),Te(Be.call(null,r,{text:"Collections",position:"right"})),Te(Nn.call(null,o)),Te(cs.call(null,o,{path:"/settings/?.*",className:"current-route"})),Te(Be.call(null,o,{text:"Settings",position:"right"}))],g=!0)},p(_,E){var I;(!y||E&2&&!Pt(u.src,f="./images/avatars/avatar"+(((I=_[1])==null?void 0:I.avatar)||0)+".svg"))&&h(u,"src",f);const N={};E&64&&(N.$$scope={dirty:E,ctx:_}),d.$set(N)},i(_){y||(T(d.$$.fragment,_),y=!0)},o(_){L(d.$$.fragment,_),y=!1},d(_){_&&k(e),H(d),g=!1,ye(p)}}}function Em(i){let e,t,n;return{c(){e=b("button"),e.innerHTML='<i class="ri-logout-circle-line" aria-hidden="true"></i> <span class="txt">Logout</span>',h(e,"type","button"),h(e,"class","dropdown-item closable"),h(e,"role","menuitem")},m(s,r){S(s,e,r),t||(n=Q(e,"click",i[4]),t=!0)},p:V,d(s){s&&k(e),t=!1,n()}}}function Cm(i){var u;let e,t,n,s,r,l,o,a,c=((u=i[1])==null?void 0:u.id)&&i[0]&&kl(i);return r=new Ga({props:{routes:Om}}),r.$on("routeLoading",i[2]),r.$on("conditionsFailed",i[3]),o=new Tf({}),{c(){e=F(),t=b("div"),c&&c.c(),n=F(),s=b("div"),J(r.$$.fragment),l=F(),J(o.$$.fragment),document.title="PocketCMS",h(s,"class","app-body"),h(t,"class","app-layout")},m(f,m){S(f,e,m),S(f,t,m),c&&c.m(t,null),w(t,n),w(t,s),Z(r,s,null),w(s,l),Z(o,s,null),a=!0},p(f,[m]){var d;(d=f[1])!=null&&d.id&&f[0]?c?(c.p(f,m),m&3&&T(c,1)):(c=kl(f),c.c(),T(c,1),c.m(t,n)):c&&(Y(),L(c,1,1,()=>{c=null}),K())},i(f){a||(T(c),T(r.$$.fragment,f),T(o.$$.fragment,f),a=!0)},o(f){L(c),L(r.$$.fragment,f),L(o.$$.fragment,f),a=!1},d(f){f&&(k(e),k(t)),c&&c.d(),H(r),H(o)}}}function Im(i,e,t){let n;we(i,Bl,c=>t(1,n=c));let s=!1,r;function l(c){var u,f,m,d;((u=c==null?void 0:c.detail)==null?void 0:u.location)!==r&&(t(0,s=!!((m=(f=c==null?void 0:c.detail)==null?void 0:f.userData)!=null&&m.showAppSidebar)),r=(d=c==null?void 0:c.detail)==null?void 0:d.location,If({}))}function o(){un("/")}function a(){Ee.logout()}return[s,n,l,o,a]}class Nm extends me{constructor(e){super(),he(this,e,Im,Cm,fe,{})}}new Nm({target:document.getElementById("app")});
