function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./CodeEditor-D-MvFodb.js","./index-BKPghMaL.js","./FilterAutocompleteInput-Dx2HVuo-.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var Xf=Object.defineProperty;var $f=(n,e,t)=>e in n?Xf(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Sr=(n,e,t)=>($f(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function G(){}const Si=n=>n;function Ke(n,e){for(const t in e)n[t]=e[t];return n}function tu(n){return n()}function Os(){return Object.create(null)}function Ce(n){n.forEach(tu)}function ot(n){return typeof n=="function"}function be(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Ni;function rn(n,e){return n===e?!0:(Ni||(Ni=document.createElement("a")),Ni.href=e,n===Ni.href)}function xf(n){return Object.keys(n).length===0}function ns(n,...e){if(n==null){for(const i of e)i(void 0);return G}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ec(n){let e;return ns(n,t=>e=t)(),e}function Xe(n,e,t){n.$$.on_destroy.push(ns(e,t))}function ct(n,e,t,i){if(n){const r=nu(n,e,t,i);return n[0](r)}}function nu(n,e,t,i){return n[1]&&i?Ke(t.ctx.slice(),n[1](i(e))):t.ctx}function dt(n,e,t,i){if(n[2]&&i){const r=n[2](i(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],l=Math.max(e.dirty.length,r.length);for(let o=0;o<l;o+=1)s[o]=e.dirty[o]|r[o];return s}return e.dirty|r}return e.dirty}function mt(n,e,t,i,r,s){if(r){const l=nu(e,t,i,s);n.p(l,r)}}function ht(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function Ci(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function sn(n,e){const t={};e=new Set(e);for(const i in n)!e.has(i)&&i[0]!=="$"&&(t[i]=n[i]);return t}function kn(n){return n??""}function tc(n,e,t){return n.set(t),e}function He(n){return n&&ot(n.destroy)?n.destroy:G}function Es(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const iu=typeof window<"u";let ar=iu?()=>window.performance.now():()=>Date.now(),is=iu?n=>requestAnimationFrame(n):G;const Bn=new Set;function ru(n){Bn.forEach(e=>{e.c(n)||(Bn.delete(e),e.f())}),Bn.size!==0&&is(ru)}function ur(n){let e;return Bn.size===0&&is(ru),{promise:new Promise(t=>{Bn.add(e={c:n,f:t})}),abort(){Bn.delete(e)}}}function v(n,e){n.appendChild(e)}function su(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function nc(n){const e=y("style");return e.textContent="/* empty */",ic(su(n),e),e.sheet}function ic(n,e){return v(n.head||n,e),e.sheet}function C(n,e,t){n.insertBefore(e,t||null)}function S(n){n.parentNode&&n.parentNode.removeChild(n)}function cn(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function y(n){return document.createElement(n)}function re(n){return document.createTextNode(n)}function R(){return re(" ")}function ge(){return re("")}function ee(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function $e(n){return function(e){return e.preventDefault(),n.call(this,e)}}function Qt(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function h(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}const rc=["width","height"];function Xi(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const i in e)e[i]==null?n.removeAttribute(i):i==="style"?n.style.cssText=e[i]:i==="__value"?n.value=n[i]=e[i]:t[i]&&t[i].set&&rc.indexOf(i)===-1?n[i]=e[i]:h(n,i,e[i])}function lu(n){return n===""?null:+n}function sc(n){return Array.from(n.childNodes)}function pe(n,e){e=""+e,n.data!==e&&(n.data=e)}function Be(n,e){n.value=e??""}function lc(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,i?"important":"")}function J(n,e,t){n.classList.toggle(e,!!t)}function ou(n,e,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:i})}function Kt(n,e){return new n(e)}const $i=new Map;let xi=0;function oc(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function ac(n,e){const t={stylesheet:nc(e),rules:{}};return $i.set(n,t),t}function gi(n,e,t,i,r,s,l,o=0){const a=16.666/i;let u=`{
`;for(let g=0;g<=1;g+=a){const _=e+(t-e)*s(g);u+=g*100+`%{${l(_,1-_)}}
`}const f=u+`100% {${l(t,1-t)}}
}`,c=`__svelte_${oc(f)}_${o}`,m=su(n),{stylesheet:d,rules:b}=$i.get(m)||ac(m,n);b[c]||(b[c]=!0,d.insertRule(`@keyframes ${c} ${f}`,d.cssRules.length));const p=n.style.animation||"";return n.style.animation=`${p?`${p}, `:""}${c} ${i}ms linear ${r}ms 1 both`,xi+=1,c}function _i(n,e){const t=(n.style.animation||"").split(", "),i=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),r=t.length-i.length;r&&(n.style.animation=i.join(", "),xi-=r,xi||uc())}function uc(){is(()=>{xi||($i.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&S(e)}),$i.clear())})}function fc(n,e,t,i){if(!e)return G;const r=n.getBoundingClientRect();if(e.left===r.left&&e.right===r.right&&e.top===r.top&&e.bottom===r.bottom)return G;const{delay:s=0,duration:l=300,easing:o=Si,start:a=ar()+s,end:u=a+l,tick:f=G,css:c}=t(n,{from:e,to:r},i);let m=!0,d=!1,b;function p(){c&&(b=gi(n,0,1,l,s,o,c)),s||(d=!0)}function g(){c&&_i(n,b),m=!1}return ur(_=>{if(!d&&_>=a&&(d=!0),d&&_>=u&&(f(1,0),g()),!m)return!1;if(d){const k=_-a,T=0+1*o(k/l);f(T,1-T)}return!0}),p(),f(0,1),g}function cc(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:i}=e,r=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=i,au(n,r)}}function au(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const i=getComputedStyle(n),r=i.transform==="none"?"":i.transform;n.style.transform=`${r} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let bi;function di(n){bi=n}function fr(){if(!bi)throw new Error("Function called outside component initialization");return bi}function At(n){fr().$$.on_mount.push(n)}function dc(n){fr().$$.after_update.push(n)}function uu(n){fr().$$.on_destroy.push(n)}function St(){const n=fr();return(e,t,{cancelable:i=!1}={})=>{const r=n.$$.callbacks[e];if(r){const s=ou(e,t,{cancelable:i});return r.slice().forEach(l=>{l.call(n,s)}),!s.defaultPrevented}return!0}}function vt(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const zn=[],le=[];let Kn=[];const Hr=[],fu=Promise.resolve();let Ur=!1;function cu(){Ur||(Ur=!0,fu.then(du))}function nn(){return cu(),fu}function _t(n){Kn.push(n)}function Pe(n){Hr.push(n)}const Cr=new Set;let Vn=0;function du(){if(Vn!==0)return;const n=bi;do{try{for(;Vn<zn.length;){const e=zn[Vn];Vn++,di(e),mc(e.$$)}}catch(e){throw zn.length=0,Vn=0,e}for(di(null),zn.length=0,Vn=0;le.length;)le.pop()();for(let e=0;e<Kn.length;e+=1){const t=Kn[e];Cr.has(t)||(Cr.add(t),t())}Kn.length=0}while(zn.length);for(;Hr.length;)Hr.pop()();Ur=!1,Cr.clear(),di(n)}function mc(n){if(n.fragment!==null){n.update(),Ce(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(_t)}}function hc(n){const e=[],t=[];Kn.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),Kn=e}let ai;function rs(){return ai||(ai=Promise.resolve(),ai.then(()=>{ai=null})),ai}function In(n,e,t){n.dispatchEvent(ou(`${e?"intro":"outro"}${t}`))}const Yi=new Set;let tn;function ae(){tn={r:0,c:[],p:tn}}function ue(){tn.r||Ce(tn.c),tn=tn.p}function O(n,e){n&&n.i&&(Yi.delete(n),n.i(e))}function N(n,e,t,i){if(n&&n.o){if(Yi.has(n))return;Yi.add(n),tn.c.push(()=>{Yi.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}const ss={duration:0};function mu(n,e,t){const i={direction:"in"};let r=e(n,t,i),s=!1,l,o,a=0;function u(){l&&_i(n,l)}function f(){const{delay:m=0,duration:d=300,easing:b=Si,tick:p=G,css:g}=r||ss;g&&(l=gi(n,0,1,d,m,b,g,a++)),p(0,1);const _=ar()+m,k=_+d;o&&o.abort(),s=!0,_t(()=>In(n,!0,"start")),o=ur(T=>{if(s){if(T>=k)return p(1,0),In(n,!0,"end"),u(),s=!1;if(T>=_){const w=b((T-_)/d);p(w,1-w)}}return s})}let c=!1;return{start(){c||(c=!0,_i(n),ot(r)?(r=r(i),rs().then(f)):f())},invalidate(){c=!1},end(){s&&(u(),s=!1)}}}function ls(n,e,t){const i={direction:"out"};let r=e(n,t,i),s=!0,l;const o=tn;o.r+=1;let a;function u(){const{delay:f=0,duration:c=300,easing:m=Si,tick:d=G,css:b}=r||ss;b&&(l=gi(n,1,0,c,f,m,b));const p=ar()+f,g=p+c;_t(()=>In(n,!1,"start")),"inert"in n&&(a=n.inert,n.inert=!0),ur(_=>{if(s){if(_>=g)return d(0,1),In(n,!1,"end"),--o.r||Ce(o.c),!1;if(_>=p){const k=m((_-p)/c);d(1-k,k)}}return s})}return ot(r)?rs().then(()=>{r=r(i),u()}):u(),{end(f){f&&"inert"in n&&(n.inert=a),f&&r.tick&&r.tick(1,0),s&&(l&&_i(n,l),s=!1)}}}function pt(n,e,t,i){let s=e(n,t,{direction:"both"}),l=i?0:1,o=null,a=null,u=null,f;function c(){u&&_i(n,u)}function m(b,p){const g=b.b-l;return p*=Math.abs(g),{a:l,b:b.b,d:g,duration:p,start:b.start,end:b.start+p,group:b.group}}function d(b){const{delay:p=0,duration:g=300,easing:_=Si,tick:k=G,css:T}=s||ss,w={start:ar()+p,b};b||(w.group=tn,tn.r+=1),"inert"in n&&(b?f!==void 0&&(n.inert=f):(f=n.inert,n.inert=!0)),o||a?a=w:(T&&(c(),u=gi(n,l,b,g,p,_,T)),b&&k(0,1),o=m(w,g),_t(()=>In(n,b,"start")),ur(I=>{if(a&&I>a.start&&(o=m(a,g),a=null,In(n,o.b,"start"),T&&(c(),u=gi(n,l,o.b,o.duration,0,_,s.css))),o){if(I>=o.end)k(l=o.b,1-l),In(n,o.b,"end"),a||(o.b?c():--o.group.r||Ce(o.group.c)),o=null;else if(I>=o.start){const P=I-o.start;l=o.a+o.d*_(P/o.duration),k(l,1-l)}}return!!(o||a)}))}return{run(b){ot(s)?rs().then(()=>{s=s({direction:b?"in":"out"}),d(b)}):d(b)},end(){c(),o=a=null}}}function ye(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function os(n,e){n.d(1),e.delete(n.key)}function Nt(n,e){N(n,1,1,()=>{e.delete(n.key)})}function pc(n,e){n.f(),Nt(n,e)}function bt(n,e,t,i,r,s,l,o,a,u,f,c){let m=n.length,d=s.length,b=m;const p={};for(;b--;)p[n[b].key]=b;const g=[],_=new Map,k=new Map,T=[];for(b=d;b--;){const A=c(r,s,b),E=t(A);let L=l.get(E);L?i&&T.push(()=>L.p(A,e)):(L=u(E,A),L.c()),_.set(E,g[b]=L),E in p&&k.set(E,Math.abs(b-p[E]))}const w=new Set,I=new Set;function P(A){O(A,1),A.m(o,f),l.set(A.key,A),f=A.first,d--}for(;m&&d;){const A=g[d-1],E=n[m-1],L=A.key,q=E.key;A===E?(f=A.first,m--,d--):_.has(q)?!l.has(L)||w.has(L)?P(A):I.has(q)?m--:k.get(L)>k.get(q)?(I.add(L),P(A)):(w.add(q),m--):(a(E,l),m--)}for(;m--;){const A=n[m];_.has(A.key)||a(A,l)}for(;d;)P(g[d-1]);return Ce(T),g}function Wt(n,e){const t={},i={},r={$$scope:1};let s=n.length;for(;s--;){const l=n[s],o=e[s];if(o){for(const a in l)a in o||(i[a]=1);for(const a in o)r[a]||(t[a]=o[a],r[a]=1);n[s]=o}else for(const a in l)r[a]=1}for(const l in i)l in t||(t[l]=void 0);return t}function Xt(n){return typeof n=="object"&&n!==null?n:{}}function Le(n,e,t){const i=n.$$.props[e];i!==void 0&&(n.$$.bound[i]=t,t(n.$$.ctx[i]))}function $(n){n&&n.c()}function Q(n,e,t){const{fragment:i,after_update:r}=n.$$;i&&i.m(e,t),_t(()=>{const s=n.$$.on_mount.map(tu).filter(ot);n.$$.on_destroy?n.$$.on_destroy.push(...s):Ce(s),n.$$.on_mount=[]}),r.forEach(_t)}function X(n,e){const t=n.$$;t.fragment!==null&&(hc(t.after_update),Ce(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function gc(n,e){n.$$.dirty[0]===-1&&(zn.push(n),cu(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function we(n,e,t,i,r,s,l=null,o=[-1]){const a=bi;di(n);const u=n.$$={fragment:null,ctx:[],props:s,update:G,not_equal:r,bound:Os(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Os(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};l&&l(u.root);let f=!1;if(u.ctx=t?t(n,e.props||{},(c,m,...d)=>{const b=d.length?d[0]:m;return u.ctx&&r(u.ctx[c],u.ctx[c]=b)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](b),f&&gc(n,c)),m}):[],u.update(),f=!0,Ce(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const c=sc(e.target);u.fragment&&u.fragment.l(c),c.forEach(S)}else u.fragment&&u.fragment.c();e.intro&&O(n.$$.fragment),Q(n,e.target,e.anchor),du()}di(a)}class ke{constructor(){Sr(this,"$$");Sr(this,"$$set")}$destroy(){X(this,1),this.$destroy=G}$on(e,t){if(!ot(t))return G;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!xf(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const _c="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(_c);const Wn=[];function hu(n,e){return{subscribe:on(n,e).subscribe}}function on(n,e=G){let t;const i=new Set;function r(o){if(be(n,o)&&(n=o,t)){const a=!Wn.length;for(const u of i)u[1](),Wn.push(u,n);if(a){for(let u=0;u<Wn.length;u+=2)Wn[u][0](Wn[u+1]);Wn.length=0}}}function s(o){r(o(n))}function l(o,a=G){const u=[o,a];return i.add(u),i.size===1&&(t=e(r,s)||G),o(n),()=>{i.delete(u),i.size===0&&t&&(t(),t=null)}}return{set:r,update:s,subscribe:l}}function pu(n,e,t){const i=!Array.isArray(n),r=i?[n]:n;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return hu(t,(l,o)=>{let a=!1;const u=[];let f=0,c=G;const m=()=>{if(f)return;c();const b=e(i?u[0]:u,l,o);s?l(b):c=ot(b)?b:G},d=r.map((b,p)=>ns(b,g=>{u[p]=g,f&=~(1<<p),a&&m()},()=>{f|=1<<p}));return a=!0,m(),function(){Ce(d),c(),a=!1}})}function gu(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,i,r,s,l=[],o="",a=n.split("/");for(a[0]||a.shift();r=a.shift();)t=r[0],t==="*"?(l.push("wild"),o+="/(.*)"):t===":"?(i=r.indexOf("?",1),s=r.indexOf(".",1),l.push(r.substring(1,~i?i:~s?s:r.length)),o+=~i&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(o+=(~i?"?":"")+"\\"+r.substring(s))):o+="/"+r;return{keys:l,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}function bc(n){let e,t,i;const r=[n[2]];var s=n[0];function l(o,a){let u={};for(let f=0;f<r.length;f+=1)u=Ke(u,r[f]);return a!==void 0&&a&4&&(u=Ke(u,Wt(r,[Xt(o[2])]))),{props:u}}return s&&(e=Kt(s,l(n)),e.$on("routeEvent",n[7])),{c(){e&&$(e.$$.fragment),t=ge()},m(o,a){e&&Q(e,o,a),C(o,t,a),i=!0},p(o,a){if(a&1&&s!==(s=o[0])){if(e){ae();const u=e;N(u.$$.fragment,1,0,()=>{X(u,1)}),ue()}s?(e=Kt(s,l(o,a)),e.$on("routeEvent",o[7]),$(e.$$.fragment),O(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else if(s){const u=a&4?Wt(r,[Xt(o[2])]):{};e.$set(u)}},i(o){i||(e&&O(e.$$.fragment,o),i=!0)},o(o){e&&N(e.$$.fragment,o),i=!1},d(o){o&&S(t),e&&X(e,o)}}}function yc(n){let e,t,i;const r=[{params:n[1]},n[2]];var s=n[0];function l(o,a){let u={};for(let f=0;f<r.length;f+=1)u=Ke(u,r[f]);return a!==void 0&&a&6&&(u=Ke(u,Wt(r,[a&2&&{params:o[1]},a&4&&Xt(o[2])]))),{props:u}}return s&&(e=Kt(s,l(n)),e.$on("routeEvent",n[6])),{c(){e&&$(e.$$.fragment),t=ge()},m(o,a){e&&Q(e,o,a),C(o,t,a),i=!0},p(o,a){if(a&1&&s!==(s=o[0])){if(e){ae();const u=e;N(u.$$.fragment,1,0,()=>{X(u,1)}),ue()}s?(e=Kt(s,l(o,a)),e.$on("routeEvent",o[6]),$(e.$$.fragment),O(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else if(s){const u=a&6?Wt(r,[a&2&&{params:o[1]},a&4&&Xt(o[2])]):{};e.$set(u)}},i(o){i||(e&&O(e.$$.fragment,o),i=!0)},o(o){e&&N(e.$$.fragment,o),i=!1},d(o){o&&S(t),e&&X(e,o)}}}function wc(n){let e,t,i,r;const s=[yc,bc],l=[];function o(a,u){return a[1]?0:1}return e=o(n),t=l[e]=s[e](n),{c(){t.c(),i=ge()},m(a,u){l[e].m(a,u),C(a,i,u),r=!0},p(a,[u]){let f=e;e=o(a),e===f?l[e].p(a,u):(ae(),N(l[f],1,1,()=>{l[f]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&S(i),l[e].d(a)}}}function Ms(){const n=window.location.href.indexOf("#/");let e=n>-1?window.location.href.substr(n+1):"/";const t=e.indexOf("?");let i="";return t>-1&&(i=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:i}}const cr=hu(null,function(e){e(Ms());const t=()=>{e(Ms())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}});pu(cr,n=>n.location);const as=pu(cr,n=>n.querystring),Is=on(void 0);async function er(n){if(!n||n.length<1||n.charAt(0)!="/"&&n.indexOf("#/")!==0)throw Error("Invalid parameter location");await nn(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(n.charAt(0)=="#"?"":"#")+n}async function Ti(n){if(!n||n.length<1||n.charAt(0)!="/"&&n.indexOf("#/")!==0)throw Error("Invalid parameter location");await nn();const e=(n.charAt(0)=="#"?"":"#")+n;try{const t={...history.state};delete t.__svelte_spa_router_scrollX,delete t.__svelte_spa_router_scrollY,window.history.replaceState(t,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function Bi(n,e){if(e=As(e),!n||!n.tagName||n.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Ns(n,e),{update(t){t=As(t),Ns(n,t)}}}function kc(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Ns(n,e){let t=e.href||n.getAttribute("href");if(t&&t.charAt(0)=="/")t="#"+t;else if(!t||t.length<2||t.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+t);n.setAttribute("href",t),n.addEventListener("click",i=>{i.preventDefault(),e.disabled||vc(i.currentTarget.getAttribute("href"))})}function As(n){return n&&typeof n=="string"?{href:n}:n||{}}function vc(n){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=n}function Sc(n,e,t){let{routes:i={}}=e,{prefix:r=""}=e,{restoreScrollState:s=!1}=e;class l{constructor(I,P){if(!P||typeof P!="function"&&(typeof P!="object"||P._sveltesparouter!==!0))throw Error("Invalid component object");if(!I||typeof I=="string"&&(I.length<1||I.charAt(0)!="/"&&I.charAt(0)!="*")||typeof I=="object"&&!(I instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:A,keys:E}=gu(I);this.path=I,typeof P=="object"&&P._sveltesparouter===!0?(this.component=P.component,this.conditions=P.conditions||[],this.userData=P.userData,this.props=P.props||{}):(this.component=()=>Promise.resolve(P),this.conditions=[],this.props={}),this._pattern=A,this._keys=E}match(I){if(r){if(typeof r=="string")if(I.startsWith(r))I=I.substr(r.length)||"/";else return null;else if(r instanceof RegExp){const L=I.match(r);if(L&&L[0])I=I.substr(L[0].length)||"/";else return null}}const P=this._pattern.exec(I);if(P===null)return null;if(this._keys===!1)return P;const A={};let E=0;for(;E<this._keys.length;){try{A[this._keys[E]]=decodeURIComponent(P[E+1]||"")||null}catch{A[this._keys[E]]=null}E++}return A}async checkConditions(I){for(let P=0;P<this.conditions.length;P++)if(!await this.conditions[P](I))return!1;return!0}}const o=[];i instanceof Map?i.forEach((w,I)=>{o.push(new l(I,w))}):Object.keys(i).forEach(w=>{o.push(new l(w,i[w]))});let a=null,u=null,f={};const c=St();async function m(w,I){await nn(),c(w,I)}let d=null,b=null;s&&(b=w=>{w.state&&(w.state.__svelte_spa_router_scrollY||w.state.__svelte_spa_router_scrollX)?d=w.state:d=null},window.addEventListener("popstate",b),dc(()=>{kc(d)}));let p=null,g=null;const _=cr.subscribe(async w=>{p=w;let I=0;for(;I<o.length;){const P=o[I].match(w.location);if(!P){I++;continue}const A={route:o[I].path,location:w.location,querystring:w.querystring,userData:o[I].userData,params:P&&typeof P=="object"&&Object.keys(P).length?P:null};if(!await o[I].checkConditions(A)){t(0,a=null),g=null,m("conditionsFailed",A);return}m("routeLoading",Object.assign({},A));const E=o[I].component;if(g!=E){E.loading?(t(0,a=E.loading),g=E,t(1,u=E.loadingParams),t(2,f={}),m("routeLoaded",Object.assign({},A,{component:a,name:a.name,params:u}))):(t(0,a=null),g=null);const L=await E();if(w!=p)return;t(0,a=L&&L.default||L),g=E}P&&typeof P=="object"&&Object.keys(P).length?t(1,u=P):t(1,u=null),t(2,f=o[I].props),m("routeLoaded",Object.assign({},A,{component:a,name:a.name,params:u})).then(()=>{Is.set(u)});return}t(0,a=null),g=null,Is.set(void 0)});uu(()=>{_(),b&&window.removeEventListener("popstate",b)});function k(w){vt.call(this,n,w)}function T(w){vt.call(this,n,w)}return n.$$set=w=>{"routes"in w&&t(3,i=w.routes),"prefix"in w&&t(4,r=w.prefix),"restoreScrollState"in w&&t(5,s=w.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=s?"manual":"auto")},[a,u,f,i,r,s,k,T]}class Cc extends ke{constructor(e){super(),we(this,e,Sc,wc,be,{routes:3,prefix:4,restoreScrollState:5})}}const Ki=[];let _u;function bu(n){const e=n.pattern.test(_u);Ls(n,n.className,e),Ls(n,n.inactiveClassName,!e)}function Ls(n,e,t){(e||"").split(" ").forEach(i=>{i&&(n.node.classList.remove(i),t&&n.node.classList.add(i))})}cr.subscribe(n=>{_u=n.location+(n.querystring?"?"+n.querystring:""),Ki.map(bu)});function Fs(n,e){if(e&&(typeof e=="string"||typeof e=="object"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&n.hasAttribute("href")&&(e.path=n.getAttribute("href"),e.path&&e.path.length>1&&e.path.charAt(0)=="#"&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||typeof e.path=="string"&&(e.path.length<1||e.path.charAt(0)!="/"&&e.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:t}=typeof e.path=="string"?gu(e.path):{pattern:e.path},i={node:n,className:e.className,inactiveClassName:e.inactiveClassName,pattern:t};return Ki.push(i),bu(i),{destroy(){Ki.splice(Ki.indexOf(i),1)}}}function dr(n){const e=n-1;return e*e*e+1}function yi(n,{delay:e=0,duration:t=400,easing:i=Si}={}){const r=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:i,css:s=>`opacity: ${s*r}`}}function ln(n,{delay:e=0,duration:t=400,easing:i=dr,x:r=0,y:s=0,opacity:l=0}={}){const o=getComputedStyle(n),a=+o.opacity,u=o.transform==="none"?"":o.transform,f=a*(1-l),[c,m]=Es(r),[d,b]=Es(s);return{delay:e,duration:t,easing:i,css:(p,g)=>`
			transform: ${u} translate(${(1-p)*c}${m}, ${(1-p)*d}${b});
			opacity: ${a-f*g}`}}function Xn(n,{delay:e=0,duration:t=400,easing:i=dr,axis:r="y"}={}){const s=getComputedStyle(n),l=+s.opacity,o=r==="y"?"height":"width",a=parseFloat(s[o]),u=r==="y"?["top","bottom"]:["left","right"],f=u.map(_=>`${_[0].toUpperCase()}${_.slice(1)}`),c=parseFloat(s[`padding${f[0]}`]),m=parseFloat(s[`padding${f[1]}`]),d=parseFloat(s[`margin${f[0]}`]),b=parseFloat(s[`margin${f[1]}`]),p=parseFloat(s[`border${f[0]}Width`]),g=parseFloat(s[`border${f[1]}Width`]);return{delay:e,duration:t,easing:i,css:_=>`overflow: hidden;opacity: ${Math.min(_*20,1)*l};${o}: ${_*a}px;padding-${u[0]}: ${_*c}px;padding-${u[1]}: ${_*m}px;margin-${u[0]}: ${_*d}px;margin-${u[1]}: ${_*b}px;border-${u[0]}-width: ${_*p}px;border-${u[1]}-width: ${_*g}px;`}}function Ps(n,{delay:e=0,duration:t=400,easing:i=dr,start:r=0,opacity:s=0}={}){const l=getComputedStyle(n),o=+l.opacity,a=l.transform==="none"?"":l.transform,u=1-r,f=o*(1-s);return{delay:e,duration:t,easing:i,css:(c,m)=>`
			transform: ${a} scale(${1-u*m});
			opacity: ${o-f*m}
		`}}class An extends Error{}class Tc extends An{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Dc extends An{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Oc extends An{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Yn extends An{}class yu extends An{constructor(e){super(`Invalid unit ${e}`)}}class Mt extends An{}class pn extends An{constructor(){super("Zone is an abstract class")}}const se="numeric",$t="short",Vt="long",tr={year:se,month:se,day:se},wu={year:se,month:$t,day:se},Ec={year:se,month:$t,day:se,weekday:$t},ku={year:se,month:Vt,day:se},vu={year:se,month:Vt,day:se,weekday:Vt},Su={hour:se,minute:se},Cu={hour:se,minute:se,second:se},Tu={hour:se,minute:se,second:se,timeZoneName:$t},Du={hour:se,minute:se,second:se,timeZoneName:Vt},Ou={hour:se,minute:se,hourCycle:"h23"},Eu={hour:se,minute:se,second:se,hourCycle:"h23"},Mu={hour:se,minute:se,second:se,hourCycle:"h23",timeZoneName:$t},Iu={hour:se,minute:se,second:se,hourCycle:"h23",timeZoneName:Vt},Nu={year:se,month:se,day:se,hour:se,minute:se},Au={year:se,month:se,day:se,hour:se,minute:se,second:se},Lu={year:se,month:$t,day:se,hour:se,minute:se},Fu={year:se,month:$t,day:se,hour:se,minute:se,second:se},Mc={year:se,month:$t,day:se,weekday:$t,hour:se,minute:se},Pu={year:se,month:Vt,day:se,hour:se,minute:se,timeZoneName:$t},Ru={year:se,month:Vt,day:se,hour:se,minute:se,second:se,timeZoneName:$t},qu={year:se,month:Vt,day:se,weekday:Vt,hour:se,minute:se,timeZoneName:Vt},ju={year:se,month:Vt,day:se,weekday:Vt,hour:se,minute:se,second:se,timeZoneName:Vt};class Di{get type(){throw new pn}get name(){throw new pn}get ianaName(){return this.name}get isUniversal(){throw new pn}offsetName(e,t){throw new pn}formatOffset(e,t){throw new pn}offset(e){throw new pn}equals(e){throw new pn}get isValid(){throw new pn}}let Tr=null;class mr extends Di{static get instance(){return Tr===null&&(Tr=new mr),Tr}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return Zu(e,t,i)}formatOffset(e,t){return mi(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Zi={};function Ic(n){return Zi[n]||(Zi[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Zi[n]}const Nc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Ac(n,e){const t=n.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,r,s,l,o,a,u,f]=i;return[l,r,s,o,a,u,f]}function Lc(n,e){const t=n.formatToParts(e),i=[];for(let r=0;r<t.length;r++){const{type:s,value:l}=t[r],o=Nc[s];s==="era"?i[o]=l:Oe(o)||(i[o]=parseInt(l,10))}return i}let Ai={};class un extends Di{static create(e){return Ai[e]||(Ai[e]=new un(e)),Ai[e]}static resetCache(){Ai={},Zi={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=un.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return Zu(e,t,i,this.name)}formatOffset(e,t){return mi(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const i=Ic(this.name);let[r,s,l,o,a,u,f]=i.formatToParts?Lc(i,t):Ac(i,t);o==="BC"&&(r=-Math.abs(r)+1);const m=pr({year:r,month:s,day:l,hour:a===24?0:a,minute:u,second:f,millisecond:0});let d=+t;const b=d%1e3;return d-=b>=0?b:1e3+b,(m-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Rs={};function Fc(n,e={}){const t=JSON.stringify([n,e]);let i=Rs[t];return i||(i=new Intl.ListFormat(n,e),Rs[t]=i),i}let zr={};function Yr(n,e={}){const t=JSON.stringify([n,e]);let i=zr[t];return i||(i=new Intl.DateTimeFormat(n,e),zr[t]=i),i}let Br={};function Pc(n,e={}){const t=JSON.stringify([n,e]);let i=Br[t];return i||(i=new Intl.NumberFormat(n,e),Br[t]=i),i}let Kr={};function Rc(n,e={}){const{base:t,...i}=e,r=JSON.stringify([n,i]);let s=Kr[r];return s||(s=new Intl.RelativeTimeFormat(n,e),Kr[r]=s),s}let ci=null;function qc(){return ci||(ci=new Intl.DateTimeFormat().resolvedOptions().locale,ci)}let qs={};function jc(n){let e=qs[n];if(!e){const t=new Intl.Locale(n);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,qs[n]=e}return e}function Vc(n){const e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));const t=n.indexOf("-u-");if(t===-1)return[n];{let i,r;try{i=Yr(n).resolvedOptions(),r=n}catch{const a=n.substring(0,t);i=Yr(a).resolvedOptions(),r=a}const{numberingSystem:s,calendar:l}=i;return[r,s,l]}}function Wc(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function Hc(n){const e=[];for(let t=1;t<=12;t++){const i=Ee.utc(2009,t,1);e.push(n(i))}return e}function Uc(n){const e=[];for(let t=1;t<=7;t++){const i=Ee.utc(2016,11,13+t);e.push(n(i))}return e}function Li(n,e,t,i){const r=n.listingMode();return r==="error"?null:r==="en"?t(e):i(e)}function zc(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}class Yc{constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:s,...l}=i;if(!t||Object.keys(l).length>0){const o={useGrouping:!1,...i};i.padTo>0&&(o.minimumIntegerDigits=i.padTo),this.inf=Pc(e,o)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):ds(e,3);return tt(t,this.padTo)}}}class Bc{constructor(e,t,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const l=-1*(e.offset/60),o=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&un.create(o).valid?(r=o,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||r,this.dtf=Yr(t,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:i}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Kc{constructor(e,t,i){this.opts={style:"long",...i},!t&&Bu()&&(this.rtf=Rc(e,i))}format(e,t){return this.rtf?this.rtf.format(e,t):dd(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const Zc={firstDay:1,minimalDays:4,weekend:[6,7]};class ze{static fromOpts(e){return ze.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,i,r,s=!1){const l=e||xe.defaultLocale,o=l||(s?"en-US":qc()),a=t||xe.defaultNumberingSystem,u=i||xe.defaultOutputCalendar,f=Zr(r)||xe.defaultWeekSettings;return new ze(o,a,u,f,l)}static resetCache(){ci=null,zr={},Br={},Kr={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:i,weekSettings:r}={}){return ze.create(e,t,i,r)}constructor(e,t,i,r,s){const[l,o,a]=Vc(e);this.locale=l,this.numberingSystem=t||o||null,this.outputCalendar=i||a||null,this.weekSettings=r,this.intl=Wc(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=zc(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:ze.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Zr(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return Li(this,e,Qu,()=>{const i=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=Hc(s=>this.extract(s,i,"month"))),this.monthsCache[r][e]})}weekdays(e,t=!1){return Li(this,e,xu,()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=Uc(s=>this.extract(s,i,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return Li(this,void 0,()=>ef,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ee.utc(2016,11,13,9),Ee.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Li(this,e,tf,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[Ee.utc(-40,1,1),Ee.utc(2017,1,1)].map(i=>this.extract(i,t,"era"))),this.eraCache[e]})}extract(e,t,i){const r=this.dtFormatter(e,t),s=r.formatToParts(),l=s.find(o=>o.type.toLowerCase()===i);return l?l.value:null}numberFormatter(e={}){return new Yc(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Bc(e,this.intl,t)}relFormatter(e={}){return new Kc(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Fc(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Ku()?jc(this.locale):Zc}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let Dr=null;class Ot extends Di{static get utcInstance(){return Dr===null&&(Dr=new Ot(0)),Dr}static instance(e){return e===0?Ot.utcInstance:new Ot(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Ot(gr(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${mi(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${mi(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return mi(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class Jc extends Di{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function yn(n,e){if(Oe(n)||n===null)return e;if(n instanceof Di)return n;if(Xc(n)){const t=n.toLowerCase();return t==="default"?e:t==="local"||t==="system"?mr.instance:t==="utc"||t==="gmt"?Ot.utcInstance:Ot.parseSpecifier(t)||un.create(n)}else return Nn(n)?Ot.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new Jc(n)}let js=()=>Date.now(),Vs="system",Ws=null,Hs=null,Us=null,zs=60,Ys,Bs=null;class xe{static get now(){return js}static set now(e){js=e}static set defaultZone(e){Vs=e}static get defaultZone(){return yn(Vs,mr.instance)}static get defaultLocale(){return Ws}static set defaultLocale(e){Ws=e}static get defaultNumberingSystem(){return Hs}static set defaultNumberingSystem(e){Hs=e}static get defaultOutputCalendar(){return Us}static set defaultOutputCalendar(e){Us=e}static get defaultWeekSettings(){return Bs}static set defaultWeekSettings(e){Bs=Zr(e)}static get twoDigitCutoffYear(){return zs}static set twoDigitCutoffYear(e){zs=e%100}static get throwOnInvalid(){return Ys}static set throwOnInvalid(e){Ys=e}static resetCaches(){ze.resetCache(),un.resetCache()}}class Gt{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Vu=[0,31,59,90,120,151,181,212,243,273,304,334],Wu=[0,31,60,91,121,152,182,213,244,274,305,335];function Yt(n,e){return new Gt("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function us(n,e,t){const i=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const r=i.getUTCDay();return r===0?7:r}function Hu(n,e,t){return t+(Oi(n)?Wu:Vu)[e-1]}function Uu(n,e){const t=Oi(n)?Wu:Vu,i=t.findIndex(s=>s<e),r=e-t[i];return{month:i+1,day:r}}function fs(n,e){return(n-e+7)%7+1}function nr(n,e=4,t=1){const{year:i,month:r,day:s}=n,l=Hu(i,r,s),o=fs(us(i,r,s),t);let a=Math.floor((l-o+14-e)/7),u;return a<1?(u=i-1,a=wi(u,e,t)):a>wi(i,e,t)?(u=i+1,a=1):u=i,{weekYear:u,weekNumber:a,weekday:o,..._r(n)}}function Ks(n,e=4,t=1){const{weekYear:i,weekNumber:r,weekday:s}=n,l=fs(us(i,1,e),t),o=Zn(i);let a=r*7+s-l-7+e,u;a<1?(u=i-1,a+=Zn(u)):a>o?(u=i+1,a-=Zn(i)):u=i;const{month:f,day:c}=Uu(u,a);return{year:u,month:f,day:c,..._r(n)}}function Or(n){const{year:e,month:t,day:i}=n,r=Hu(e,t,i);return{year:e,ordinal:r,..._r(n)}}function Zs(n){const{year:e,ordinal:t}=n,{month:i,day:r}=Uu(e,t);return{year:e,month:i,day:r,..._r(n)}}function Js(n,e){if(!Oe(n.localWeekday)||!Oe(n.localWeekNumber)||!Oe(n.localWeekYear)){if(!Oe(n.weekday)||!Oe(n.weekNumber)||!Oe(n.weekYear))throw new Yn("Cannot mix locale-based week fields with ISO-based week fields");return Oe(n.localWeekday)||(n.weekday=n.localWeekday),Oe(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),Oe(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Gc(n,e=4,t=1){const i=hr(n.weekYear),r=Bt(n.weekNumber,1,wi(n.weekYear,e,t)),s=Bt(n.weekday,1,7);return i?r?s?!1:Yt("weekday",n.weekday):Yt("week",n.weekNumber):Yt("weekYear",n.weekYear)}function Qc(n){const e=hr(n.year),t=Bt(n.ordinal,1,Zn(n.year));return e?t?!1:Yt("ordinal",n.ordinal):Yt("year",n.year)}function zu(n){const e=hr(n.year),t=Bt(n.month,1,12),i=Bt(n.day,1,ir(n.year,n.month));return e?t?i?!1:Yt("day",n.day):Yt("month",n.month):Yt("year",n.year)}function Yu(n){const{hour:e,minute:t,second:i,millisecond:r}=n,s=Bt(e,0,23)||e===24&&t===0&&i===0&&r===0,l=Bt(t,0,59),o=Bt(i,0,59),a=Bt(r,0,999);return s?l?o?a?!1:Yt("millisecond",r):Yt("second",i):Yt("minute",t):Yt("hour",e)}function Oe(n){return typeof n>"u"}function Nn(n){return typeof n=="number"}function hr(n){return typeof n=="number"&&n%1===0}function Xc(n){return typeof n=="string"}function $c(n){return Object.prototype.toString.call(n)==="[object Date]"}function Bu(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Ku(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function xc(n){return Array.isArray(n)?n:[n]}function Gs(n,e,t){if(n.length!==0)return n.reduce((i,r)=>{const s=[e(r),r];return i&&t(i[0],s[0])===i[0]?i:s},null)[1]}function ed(n,e){return e.reduce((t,i)=>(t[i]=n[i],t),{})}function $n(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Zr(n){if(n==null)return null;if(typeof n!="object")throw new Mt("Week settings must be an object");if(!Bt(n.firstDay,1,7)||!Bt(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(e=>!Bt(e,1,7)))throw new Mt("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function Bt(n,e,t){return hr(n)&&n>=e&&n<=t}function td(n,e){return n-e*Math.floor(n/e)}function tt(n,e=2){const t=n<0;let i;return t?i="-"+(""+-n).padStart(e,"0"):i=(""+n).padStart(e,"0"),i}function _n(n){if(!(Oe(n)||n===null||n===""))return parseInt(n,10)}function Cn(n){if(!(Oe(n)||n===null||n===""))return parseFloat(n)}function cs(n){if(!(Oe(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function ds(n,e,t=!1){const i=10**e;return(t?Math.trunc:Math.round)(n*i)/i}function Oi(n){return n%4===0&&(n%100!==0||n%400===0)}function Zn(n){return Oi(n)?366:365}function ir(n,e){const t=td(e-1,12)+1,i=n+(e-t)/12;return t===2?Oi(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function pr(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function Qs(n,e,t){return-fs(us(n,1,e),t)+e-1}function wi(n,e=4,t=1){const i=Qs(n,e,t),r=Qs(n+1,e,t);return(Zn(n)-i+r)/7}function Jr(n){return n>99?n:n>xe.twoDigitCutoffYear?1900+n:2e3+n}function Zu(n,e,t,i=null){const r=new Date(n),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(s.timeZone=i);const l={timeZoneName:e,...s},o=new Intl.DateTimeFormat(t,l).formatToParts(r).find(a=>a.type.toLowerCase()==="timezonename");return o?o.value:null}function gr(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const i=parseInt(e,10)||0,r=t<0||Object.is(t,-0)?-i:i;return t*60+r}function Ju(n){const e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new Mt(`Invalid unit value ${n}`);return e}function rr(n,e){const t={};for(const i in n)if($n(n,i)){const r=n[i];if(r==null)continue;t[e(i)]=Ju(r)}return t}function mi(n,e){const t=Math.trunc(Math.abs(n/60)),i=Math.trunc(Math.abs(n%60)),r=n>=0?"+":"-";switch(e){case"short":return`${r}${tt(t,2)}:${tt(i,2)}`;case"narrow":return`${r}${t}${i>0?`:${i}`:""}`;case"techie":return`${r}${tt(t,2)}${tt(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function _r(n){return ed(n,["hour","minute","second","millisecond"])}const nd=["January","February","March","April","May","June","July","August","September","October","November","December"],Gu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],id=["J","F","M","A","M","J","J","A","S","O","N","D"];function Qu(n){switch(n){case"narrow":return[...id];case"short":return[...Gu];case"long":return[...nd];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Xu=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],$u=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],rd=["M","T","W","T","F","S","S"];function xu(n){switch(n){case"narrow":return[...rd];case"short":return[...$u];case"long":return[...Xu];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const ef=["AM","PM"],sd=["Before Christ","Anno Domini"],ld=["BC","AD"],od=["B","A"];function tf(n){switch(n){case"narrow":return[...od];case"short":return[...ld];case"long":return[...sd];default:return null}}function ad(n){return ef[n.hour<12?0:1]}function ud(n,e){return xu(e)[n.weekday-1]}function fd(n,e){return Qu(e)[n.month-1]}function cd(n,e){return tf(e)[n.year<0?0:1]}function dd(n,e,t="always",i=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&s){const c=n==="days";switch(e){case 1:return c?"tomorrow":`next ${r[n][0]}`;case-1:return c?"yesterday":`last ${r[n][0]}`;case 0:return c?"today":`this ${r[n][0]}`}}const l=Object.is(e,-0)||e<0,o=Math.abs(e),a=o===1,u=r[n],f=i?a?u[1]:u[2]||u[1]:a?r[n][0]:n;return l?`${o} ${f} ago`:`in ${o} ${f}`}function Xs(n,e){let t="";for(const i of n)i.literal?t+=i.val:t+=e(i.val);return t}const md={D:tr,DD:wu,DDD:ku,DDDD:vu,t:Su,tt:Cu,ttt:Tu,tttt:Du,T:Ou,TT:Eu,TTT:Mu,TTTT:Iu,f:Nu,ff:Lu,fff:Pu,ffff:qu,F:Au,FF:Fu,FFF:Ru,FFFF:ju};class kt{static create(e,t={}){return new kt(e,t)}static parseFormat(e){let t=null,i="",r=!1;const s=[];for(let l=0;l<e.length;l++){const o=e.charAt(l);o==="'"?(i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),t=null,i="",r=!r):r||o===t?i+=o:(i.length>0&&s.push({literal:/^\s+$/.test(i),val:i}),i=o,t=o)}return i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),s}static macroTokenToFormatOpts(e){return md[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return tt(e,t);const i={...this.opts};return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(d,b)=>this.loc.extract(e,d,b),l=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",o=()=>i?ad(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(d,b)=>i?fd(e,d):s(b?{month:d}:{month:d,day:"numeric"},"month"),u=(d,b)=>i?ud(e,d):s(b?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),f=d=>{const b=kt.macroTokenToFormatOpts(d);return b?this.formatWithSystemDefault(e,b):d},c=d=>i?cd(e,d):s({era:d},"era"),m=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return r?s({day:"numeric"},"day"):this.num(e.day);case"dd":return r?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return r?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return r?s({month:"numeric"},"month"):this.num(e.month);case"MM":return r?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return r?s({year:"numeric"},"year"):this.num(e.year);case"yy":return r?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(d)}};return Xs(kt.parseFormat(t),m)}formatDurationFromString(e,t){const i=a=>{switch(a[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=a=>u=>{const f=i(u);return f?this.num(a.get(f),u.length):u},s=kt.parseFormat(t),l=s.reduce((a,{literal:u,val:f})=>u?a:a.concat(f),[]),o=e.shiftTo(...l.map(i).filter(a=>a));return Xs(s,r(o))}}const nf=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function xn(...n){const e=n.reduce((t,i)=>t+i.source,"");return RegExp(`^${e}$`)}function ei(...n){return e=>n.reduce(([t,i,r],s)=>{const[l,o,a]=s(e,r);return[{...t,...l},o||i,a]},[{},null,1]).slice(0,2)}function ti(n,...e){if(n==null)return[null,null];for(const[t,i]of e){const r=t.exec(n);if(r)return i(r)}return[null,null]}function rf(...n){return(e,t)=>{const i={};let r;for(r=0;r<n.length;r++)i[n[r]]=_n(e[t+r]);return[i,null,t+r]}}const sf=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,hd=`(?:${sf.source}?(?:\\[(${nf.source})\\])?)?`,ms=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,lf=RegExp(`${ms.source}${hd}`),hs=RegExp(`(?:T${lf.source})?`),pd=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,gd=/(\d{4})-?W(\d\d)(?:-?(\d))?/,_d=/(\d{4})-?(\d{3})/,bd=rf("weekYear","weekNumber","weekDay"),yd=rf("year","ordinal"),wd=/(\d{4})-(\d\d)-(\d\d)/,of=RegExp(`${ms.source} ?(?:${sf.source}|(${nf.source}))?`),kd=RegExp(`(?: ${of.source})?`);function Jn(n,e,t){const i=n[e];return Oe(i)?t:_n(i)}function vd(n,e){return[{year:Jn(n,e),month:Jn(n,e+1,1),day:Jn(n,e+2,1)},null,e+3]}function ni(n,e){return[{hours:Jn(n,e,0),minutes:Jn(n,e+1,0),seconds:Jn(n,e+2,0),milliseconds:cs(n[e+3])},null,e+4]}function Ei(n,e){const t=!n[e]&&!n[e+1],i=gr(n[e+1],n[e+2]),r=t?null:Ot.instance(i);return[{},r,e+3]}function Mi(n,e){const t=n[e]?un.create(n[e]):null;return[{},t,e+1]}const Sd=RegExp(`^T?${ms.source}$`),Cd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Td(n){const[e,t,i,r,s,l,o,a,u]=n,f=e[0]==="-",c=a&&a[0]==="-",m=(d,b=!1)=>d!==void 0&&(b||d&&f)?-d:d;return[{years:m(Cn(t)),months:m(Cn(i)),weeks:m(Cn(r)),days:m(Cn(s)),hours:m(Cn(l)),minutes:m(Cn(o)),seconds:m(Cn(a),a==="-0"),milliseconds:m(cs(u),c)}]}const Dd={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ps(n,e,t,i,r,s,l){const o={year:e.length===2?Jr(_n(e)):_n(e),month:Gu.indexOf(t)+1,day:_n(i),hour:_n(r),minute:_n(s)};return l&&(o.second=_n(l)),n&&(o.weekday=n.length>3?Xu.indexOf(n)+1:$u.indexOf(n)+1),o}const Od=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Ed(n){const[,e,t,i,r,s,l,o,a,u,f,c]=n,m=ps(e,r,i,t,s,l,o);let d;return a?d=Dd[a]:u?d=0:d=gr(f,c),[m,new Ot(d)]}function Md(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Id=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Nd=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Ad=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function $s(n){const[,e,t,i,r,s,l,o]=n;return[ps(e,r,i,t,s,l,o),Ot.utcInstance]}function Ld(n){const[,e,t,i,r,s,l,o]=n;return[ps(e,o,t,i,r,s,l),Ot.utcInstance]}const Fd=xn(pd,hs),Pd=xn(gd,hs),Rd=xn(_d,hs),qd=xn(lf),af=ei(vd,ni,Ei,Mi),jd=ei(bd,ni,Ei,Mi),Vd=ei(yd,ni,Ei,Mi),Wd=ei(ni,Ei,Mi);function Hd(n){return ti(n,[Fd,af],[Pd,jd],[Rd,Vd],[qd,Wd])}function Ud(n){return ti(Md(n),[Od,Ed])}function zd(n){return ti(n,[Id,$s],[Nd,$s],[Ad,Ld])}function Yd(n){return ti(n,[Cd,Td])}const Bd=ei(ni);function Kd(n){return ti(n,[Sd,Bd])}const Zd=xn(wd,kd),Jd=xn(of),Gd=ei(ni,Ei,Mi);function Qd(n){return ti(n,[Zd,af],[Jd,Gd])}const xs="Invalid Duration",uf={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Xd={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...uf},Ut=146097/400,Hn=146097/4800,$d={years:{quarters:4,months:12,weeks:Ut/7,days:Ut,hours:Ut*24,minutes:Ut*24*60,seconds:Ut*24*60*60,milliseconds:Ut*24*60*60*1e3},quarters:{months:3,weeks:Ut/28,days:Ut/4,hours:Ut*24/4,minutes:Ut*24*60/4,seconds:Ut*24*60*60/4,milliseconds:Ut*24*60*60*1e3/4},months:{weeks:Hn/7,days:Hn,hours:Hn*24,minutes:Hn*24*60,seconds:Hn*24*60*60,milliseconds:Hn*24*60*60*1e3},...uf},Mn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],xd=Mn.slice(0).reverse();function gn(n,e,t=!1){const i={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new Re(i)}function ff(n,e){let t=e.milliseconds??0;for(const i of xd.slice(1))e[i]&&(t+=e[i]*n[i].milliseconds);return t}function el(n,e){const t=ff(n,e)<0?-1:1;Mn.reduceRight((i,r)=>{if(Oe(e[r]))return i;if(i){const s=e[i]*t,l=n[r][i],o=Math.floor(s/l);e[r]+=o*t,e[i]-=o*l*t}return r},null),Mn.reduce((i,r)=>{if(Oe(e[r]))return i;if(i){const s=e[i]%1;e[i]-=s,e[r]+=s*n[i][r]}return r},null)}function em(n){const e={};for(const[t,i]of Object.entries(n))i!==0&&(e[t]=i);return e}class Re{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let i=t?$d:Xd;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||ze.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,t){return Re.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Mt(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Re({values:rr(e,Re.normalizeUnit),loc:ze.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Nn(e))return Re.fromMillis(e);if(Re.isDuration(e))return e;if(typeof e=="object")return Re.fromObject(e);throw new Mt(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[i]=Yd(e);return i?Re.fromObject(i,t):Re.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[i]=Kd(e);return i?Re.fromObject(i,t):Re.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Mt("need to specify a reason the Duration is invalid");const i=e instanceof Gt?e:new Gt(e,t);if(xe.throwOnInvalid)throw new Oc(i);return new Re({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new yu(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const i={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?kt.create(this.loc,i).formatDurationFromString(this,e):xs}toHuman(e={}){if(!this.isValid)return xs;const t=Mn.map(i=>{const r=this.values[i];return Oe(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(r)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=ds(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Ee.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?ff(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Re.fromDurationLike(e),i={};for(const r of Mn)($n(t.values,r)||$n(this.values,r))&&(i[r]=t.get(r)+this.get(r));return gn(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=Re.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=Ju(e(this.values[i],i));return gn(this,{values:t},!0)}get(e){return this[Re.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...rr(e,Re.normalizeUnit)};return gn(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:i,matrix:r}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:i};return gn(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return el(this.matrix,e),gn(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=em(this.normalize().shiftToAll().toObject());return gn(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>Re.normalizeUnit(l));const t={},i={},r=this.toObject();let s;for(const l of Mn)if(e.indexOf(l)>=0){s=l;let o=0;for(const u in i)o+=this.matrix[u][l]*i[u],i[u]=0;Nn(r[l])&&(o+=r[l]);const a=Math.trunc(o);t[l]=a,i[l]=(o*1e3-a*1e3)/1e3}else Nn(r[l])&&(i[l]=r[l]);for(const l in i)i[l]!==0&&(t[s]+=l===s?i[l]:i[l]/this.matrix[s][l]);return el(this.matrix,t),gn(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return gn(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(const i of Mn)if(!t(this.values[i],e.values[i]))return!1;return!0}}const Un="Invalid Interval";function tm(n,e){return!n||!n.isValid?Qe.invalid("missing or invalid start"):!e||!e.isValid?Qe.invalid("missing or invalid end"):e<n?Qe.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}class Qe{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Mt("need to specify a reason the Interval is invalid");const i=e instanceof Gt?e:new Gt(e,t);if(xe.throwOnInvalid)throw new Dc(i);return new Qe({invalid:i})}static fromDateTimes(e,t){const i=fi(e),r=fi(t),s=tm(i,r);return s??new Qe({start:i,end:r})}static after(e,t){const i=Re.fromDurationLike(t),r=fi(e);return Qe.fromDateTimes(r,r.plus(i))}static before(e,t){const i=Re.fromDurationLike(t),r=fi(e);return Qe.fromDateTimes(r.minus(i),r)}static fromISO(e,t){const[i,r]=(e||"").split("/",2);if(i&&r){let s,l;try{s=Ee.fromISO(i,t),l=s.isValid}catch{l=!1}let o,a;try{o=Ee.fromISO(r,t),a=o.isValid}catch{a=!1}if(l&&a)return Qe.fromDateTimes(s,o);if(l){const u=Re.fromISO(r,t);if(u.isValid)return Qe.after(s,u)}else if(a){const u=Re.fromISO(i,t);if(u.isValid)return Qe.before(o,u)}}return Qe.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const i=this.start.startOf(e,t);let r;return t!=null&&t.useLocaleWeeks?r=this.end.reconfigure({locale:i.locale}):r=this.end,r=r.startOf(e,t),Math.floor(r.diff(i,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?Qe.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(fi).filter(l=>this.contains(l)).sort((l,o)=>l.toMillis()-o.toMillis()),i=[];let{s:r}=this,s=0;for(;r<this.e;){const l=t[s]||this.e,o=+l>+this.e?this.e:l;i.push(Qe.fromDateTimes(r,o)),r=o,s+=1}return i}splitBy(e){const t=Re.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:i}=this,r=1,s;const l=[];for(;i<this.e;){const o=this.start.plus(t.mapUnits(a=>a*r));s=+o>+this.e?this.e:o,l.push(Qe.fromDateTimes(i,s)),i=s,r+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:Qe.fromDateTimes(t,i)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return Qe.fromDateTimes(t,i)}static merge(e){const[t,i]=e.sort((r,s)=>r.s-s.s).reduce(([r,s],l)=>s?s.overlaps(l)||s.abutsStart(l)?[r,s.union(l)]:[r.concat([s]),l]:[r,l],[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const r=[],s=e.map(a=>[{time:a.s,type:"s"},{time:a.e,type:"e"}]),l=Array.prototype.concat(...s),o=l.sort((a,u)=>a.time-u.time);for(const a of o)i+=a.type==="s"?1:-1,i===1?t=a.time:(t&&+t!=+a.time&&r.push(Qe.fromDateTimes(t,a.time)),t=null);return Qe.merge(r)}difference(...e){return Qe.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Un}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=tr,t={}){return this.isValid?kt.create(this.s.loc.clone(t),e).formatInterval(this):Un}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Un}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Un}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Un}toFormat(e,{separator:t="  "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Un}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Re.invalid(this.invalidReason)}mapEndpoints(e){return Qe.fromDateTimes(e(this.s),e(this.e))}}class Fi{static hasDST(e=xe.defaultZone){const t=Ee.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return un.isValidZone(e)}static normalizeZone(e){return yn(e,xe.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||ze.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||ze.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||ze.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||ze.create(t,i,s)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||ze.create(t,i,s)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||ze.create(t,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||ze.create(t,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return ze.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return ze.create(t,null,"gregory").eras(e)}static features(){return{relative:Bu(),localeWeek:Ku()}}}function tl(n,e){const t=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=t(e)-t(n);return Math.floor(Re.fromMillis(i).as("days"))}function nm(n,e,t){const i=[["years",(a,u)=>u.year-a.year],["quarters",(a,u)=>u.quarter-a.quarter+(u.year-a.year)*4],["months",(a,u)=>u.month-a.month+(u.year-a.year)*12],["weeks",(a,u)=>{const f=tl(a,u);return(f-f%7)/7}],["days",tl]],r={},s=n;let l,o;for(const[a,u]of i)t.indexOf(a)>=0&&(l=a,r[a]=u(n,e),o=s.plus(r),o>e?(r[a]--,n=s.plus(r),n>e&&(o=n,r[a]--,n=s.plus(r))):n=o);return[n,r,o,l]}function im(n,e,t,i){let[r,s,l,o]=nm(n,e,t);const a=e-r,u=t.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);u.length===0&&(l<e&&(l=r.plus({[o]:1})),l!==r&&(s[o]=(s[o]||0)+a/(l-r)));const f=Re.fromObject(s,i);return u.length>0?Re.fromMillis(a,i).shiftTo(...u).plus(f):f}const gs={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},nl={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},rm=gs.hanidec.replace(/[\[|\]]/g,"").split("");function sm(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);if(n[t].search(gs.hanidec)!==-1)e+=rm.indexOf(n[t]);else for(const r in nl){const[s,l]=nl[r];i>=s&&i<=l&&(e+=i-s)}}return parseInt(e,10)}else return e}function Zt({numberingSystem:n},e=""){return new RegExp(`${gs[n||"latn"]}${e}`)}const lm="missing Intl.DateTimeFormat.formatToParts support";function Ve(n,e=t=>t){return{regex:n,deser:([t])=>e(sm(t))}}const om="",cf=`[ ${om}]`,df=new RegExp(cf,"g");function am(n){return n.replace(/\./g,"\\.?").replace(df,cf)}function il(n){return n.replace(/\./g,"").replace(df," ").toLowerCase()}function Jt(n,e){return n===null?null:{regex:RegExp(n.map(am).join("|")),deser:([t])=>n.findIndex(i=>il(t)===il(i))+e}}function rl(n,e){return{regex:n,deser:([,t,i])=>gr(t,i),groups:e}}function Pi(n){return{regex:n,deser:([e])=>e}}function um(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function fm(n,e){const t=Zt(e),i=Zt(e,"{2}"),r=Zt(e,"{3}"),s=Zt(e,"{4}"),l=Zt(e,"{6}"),o=Zt(e,"{1,2}"),a=Zt(e,"{1,3}"),u=Zt(e,"{1,6}"),f=Zt(e,"{1,9}"),c=Zt(e,"{2,4}"),m=Zt(e,"{4,6}"),d=g=>({regex:RegExp(um(g.val)),deser:([_])=>_,literal:!0}),p=(g=>{if(n.literal)return d(g);switch(g.val){case"G":return Jt(e.eras("short"),0);case"GG":return Jt(e.eras("long"),0);case"y":return Ve(u);case"yy":return Ve(c,Jr);case"yyyy":return Ve(s);case"yyyyy":return Ve(m);case"yyyyyy":return Ve(l);case"M":return Ve(o);case"MM":return Ve(i);case"MMM":return Jt(e.months("short",!0),1);case"MMMM":return Jt(e.months("long",!0),1);case"L":return Ve(o);case"LL":return Ve(i);case"LLL":return Jt(e.months("short",!1),1);case"LLLL":return Jt(e.months("long",!1),1);case"d":return Ve(o);case"dd":return Ve(i);case"o":return Ve(a);case"ooo":return Ve(r);case"HH":return Ve(i);case"H":return Ve(o);case"hh":return Ve(i);case"h":return Ve(o);case"mm":return Ve(i);case"m":return Ve(o);case"q":return Ve(o);case"qq":return Ve(i);case"s":return Ve(o);case"ss":return Ve(i);case"S":return Ve(a);case"SSS":return Ve(r);case"u":return Pi(f);case"uu":return Pi(o);case"uuu":return Ve(t);case"a":return Jt(e.meridiems(),0);case"kkkk":return Ve(s);case"kk":return Ve(c,Jr);case"W":return Ve(o);case"WW":return Ve(i);case"E":case"c":return Ve(t);case"EEE":return Jt(e.weekdays("short",!1),1);case"EEEE":return Jt(e.weekdays("long",!1),1);case"ccc":return Jt(e.weekdays("short",!0),1);case"cccc":return Jt(e.weekdays("long",!0),1);case"Z":case"ZZ":return rl(new RegExp(`([+-]${o.source})(?::(${i.source}))?`),2);case"ZZZ":return rl(new RegExp(`([+-]${o.source})(${i.source})?`),2);case"z":return Pi(/[a-z_+-/]{1,256}?/i);case" ":return Pi(/[^\S\n\r]/);default:return d(g)}})(n)||{invalidReason:lm};return p.token=n,p}const cm={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function dm(n,e,t){const{type:i,value:r}=n;if(i==="literal"){const a=/^\s+$/.test(r);return{literal:!a,val:a?" ":r}}const s=e[i];let l=i;i==="hour"&&(e.hour12!=null?l=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?l="hour12":l="hour24":l=t.hour12?"hour12":"hour24");let o=cm[l];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function mm(n){return[`^${n.map(t=>t.regex).reduce((t,i)=>`${t}(${i.source})`,"")}$`,n]}function hm(n,e,t){const i=n.match(e);if(i){const r={};let s=1;for(const l in t)if($n(t,l)){const o=t[l],a=o.groups?o.groups+1:1;!o.literal&&o.token&&(r[o.token.val[0]]=o.deser(i.slice(s,s+a))),s+=a}return[i,r]}else return[i,{}]}function pm(n){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,i;return Oe(n.z)||(t=un.create(n.z)),Oe(n.Z)||(t||(t=new Ot(n.Z)),i=n.Z),Oe(n.q)||(n.M=(n.q-1)*3+1),Oe(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),Oe(n.u)||(n.S=cs(n.u)),[Object.keys(n).reduce((s,l)=>{const o=e(l);return o&&(s[o]=n[l]),s},{}),t,i]}let Er=null;function gm(){return Er||(Er=Ee.fromMillis(1555555555555)),Er}function _m(n,e){if(n.literal)return n;const t=kt.macroTokenToFormatOpts(n.val),i=pf(t,e);return i==null||i.includes(void 0)?n:i}function mf(n,e){return Array.prototype.concat(...n.map(t=>_m(t,e)))}function hf(n,e,t){const i=mf(kt.parseFormat(t),n),r=i.map(l=>fm(l,n)),s=r.find(l=>l.invalidReason);if(s)return{input:e,tokens:i,invalidReason:s.invalidReason};{const[l,o]=mm(r),a=RegExp(l,"i"),[u,f]=hm(e,a,o),[c,m,d]=f?pm(f):[null,null,void 0];if($n(f,"a")&&$n(f,"H"))throw new Yn("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:i,regex:a,rawMatches:u,matches:f,result:c,zone:m,specificOffset:d}}}function bm(n,e,t){const{result:i,zone:r,specificOffset:s,invalidReason:l}=hf(n,e,t);return[i,r,s,l]}function pf(n,e){if(!n)return null;const i=kt.create(e,n).dtFormatter(gm()),r=i.formatToParts(),s=i.resolvedOptions();return r.map(l=>dm(l,n,s))}const Mr="Invalid DateTime",sl=864e13;function Ri(n){return new Gt("unsupported zone",`the zone "${n.name}" is not supported`)}function Ir(n){return n.weekData===null&&(n.weekData=nr(n.c)),n.weekData}function Nr(n){return n.localWeekData===null&&(n.localWeekData=nr(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function Tn(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new Ee({...t,...e,old:t})}function gf(n,e,t){let i=n-e*60*1e3;const r=t.offset(i);if(e===r)return[i,e];i-=(r-e)*60*1e3;const s=t.offset(i);return r===s?[i,r]:[n-Math.min(r,s)*60*1e3,Math.max(r,s)]}function qi(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function Ji(n,e,t){return gf(pr(n),e,t)}function ll(n,e){const t=n.o,i=n.c.year+Math.trunc(e.years),r=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...n.c,year:i,month:r,day:Math.min(n.c.day,ir(i,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=Re.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=pr(s);let[a,u]=gf(o,t,n.zone);return l!==0&&(a+=l,u=n.zone.offset(a)),{ts:a,o:u}}function ui(n,e,t,i,r,s){const{setZone:l,zone:o}=t;if(n&&Object.keys(n).length!==0||e){const a=e||o,u=Ee.fromObject(n,{...t,zone:a,specificOffset:s});return l?u:u.setZone(o)}else return Ee.invalid(new Gt("unparsable",`the input "${r}" can't be parsed as ${i}`))}function ji(n,e,t=!0){return n.isValid?kt.create(ze.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function Ar(n,e){const t=n.c.year>9999||n.c.year<0;let i="";return t&&n.c.year>=0&&(i+="+"),i+=tt(n.c.year,t?6:4),e?(i+="-",i+=tt(n.c.month),i+="-",i+=tt(n.c.day)):(i+=tt(n.c.month),i+=tt(n.c.day)),i}function ol(n,e,t,i,r,s){let l=tt(n.c.hour);return e?(l+=":",l+=tt(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(l+=":")):l+=tt(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(l+=tt(n.c.second),(n.c.millisecond!==0||!i)&&(l+=".",l+=tt(n.c.millisecond,3))),r&&(n.isOffsetFixed&&n.offset===0&&!s?l+="Z":n.o<0?(l+="-",l+=tt(Math.trunc(-n.o/60)),l+=":",l+=tt(Math.trunc(-n.o%60))):(l+="+",l+=tt(Math.trunc(n.o/60)),l+=":",l+=tt(Math.trunc(n.o%60)))),s&&(l+="["+n.zone.ianaName+"]"),l}const _f={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ym={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},wm={ordinal:1,hour:0,minute:0,second:0,millisecond:0},bf=["year","month","day","hour","minute","second","millisecond"],km=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],vm=["year","ordinal","hour","minute","second","millisecond"];function Sm(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new yu(n);return e}function al(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Sm(n)}}function ul(n,e){const t=yn(e.zone,xe.defaultZone),i=ze.fromObject(e),r=xe.now();let s,l;if(Oe(n.year))s=r;else{for(const u of bf)Oe(n[u])&&(n[u]=_f[u]);const o=zu(n)||Yu(n);if(o)return Ee.invalid(o);const a=t.offset(r);[s,l]=Ji(n,a,t)}return new Ee({ts:s,zone:t,loc:i,o:l})}function fl(n,e,t){const i=Oe(t.round)?!0:t.round,r=(l,o)=>(l=ds(l,i||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(l,o)),s=l=>t.calendary?e.hasSame(n,l)?0:e.startOf(l).diff(n.startOf(l),l).get(l):e.diff(n,l).get(l);if(t.unit)return r(s(t.unit),t.unit);for(const l of t.units){const o=s(l);if(Math.abs(o)>=1)return r(o,l)}return r(n>e?-0:0,t.units[t.units.length-1])}function cl(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}class Ee{constructor(e){const t=e.zone||xe.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Gt("invalid input"):null)||(t.isValid?null:Ri(t));this.ts=Oe(e.ts)?xe.now():e.ts;let r=null,s=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,s]=[e.old.c,e.old.o];else{const o=t.offset(this.ts);r=qi(this.ts,o),i=Number.isNaN(r.year)?new Gt("invalid input"):null,r=i?null:r,s=i?null:o}this._zone=t,this.loc=e.loc||ze.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}static now(){return new Ee({})}static local(){const[e,t]=cl(arguments),[i,r,s,l,o,a,u]=t;return ul({year:i,month:r,day:s,hour:l,minute:o,second:a,millisecond:u},e)}static utc(){const[e,t]=cl(arguments),[i,r,s,l,o,a,u]=t;return e.zone=Ot.utcInstance,ul({year:i,month:r,day:s,hour:l,minute:o,second:a,millisecond:u},e)}static fromJSDate(e,t={}){const i=$c(e)?e.valueOf():NaN;if(Number.isNaN(i))return Ee.invalid("invalid input");const r=yn(t.zone,xe.defaultZone);return r.isValid?new Ee({ts:i,zone:r,loc:ze.fromObject(t)}):Ee.invalid(Ri(r))}static fromMillis(e,t={}){if(Nn(e))return e<-sl||e>sl?Ee.invalid("Timestamp out of range"):new Ee({ts:e,zone:yn(t.zone,xe.defaultZone),loc:ze.fromObject(t)});throw new Mt(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Nn(e))return new Ee({ts:e*1e3,zone:yn(t.zone,xe.defaultZone),loc:ze.fromObject(t)});throw new Mt("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const i=yn(t.zone,xe.defaultZone);if(!i.isValid)return Ee.invalid(Ri(i));const r=ze.fromObject(t),s=rr(e,al),{minDaysInFirstWeek:l,startOfWeek:o}=Js(s,r),a=xe.now(),u=Oe(t.specificOffset)?i.offset(a):t.specificOffset,f=!Oe(s.ordinal),c=!Oe(s.year),m=!Oe(s.month)||!Oe(s.day),d=c||m,b=s.weekYear||s.weekNumber;if((d||f)&&b)throw new Yn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&f)throw new Yn("Can't mix ordinal dates with month/day");const p=b||s.weekday&&!d;let g,_,k=qi(a,u);p?(g=km,_=ym,k=nr(k,l,o)):f?(g=vm,_=wm,k=Or(k)):(g=bf,_=_f);let T=!1;for(const q of g){const W=s[q];Oe(W)?T?s[q]=_[q]:s[q]=k[q]:T=!0}const w=p?Gc(s,l,o):f?Qc(s):zu(s),I=w||Yu(s);if(I)return Ee.invalid(I);const P=p?Ks(s,l,o):f?Zs(s):s,[A,E]=Ji(P,u,i),L=new Ee({ts:A,zone:i,o:E,loc:r});return s.weekday&&d&&e.weekday!==L.weekday?Ee.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${L.toISO()}`):L}static fromISO(e,t={}){const[i,r]=Hd(e);return ui(i,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[i,r]=Ud(e);return ui(i,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[i,r]=zd(e);return ui(i,r,t,"HTTP",t)}static fromFormat(e,t,i={}){if(Oe(e)||Oe(t))throw new Mt("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:s=null}=i,l=ze.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),[o,a,u,f]=bm(l,e,t);return f?Ee.invalid(f):ui(o,a,i,`format ${t}`,e,u)}static fromString(e,t,i={}){return Ee.fromFormat(e,t,i)}static fromSQL(e,t={}){const[i,r]=Qd(e);return ui(i,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Mt("need to specify a reason the DateTime is invalid");const i=e instanceof Gt?e:new Gt(e,t);if(xe.throwOnInvalid)throw new Tc(i);return new Ee({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const i=pf(e,ze.fromObject(t));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(e,t={}){return mf(kt.parseFormat(e),ze.fromObject(t)).map(r=>r.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ir(this).weekYear:NaN}get weekNumber(){return this.isValid?Ir(this).weekNumber:NaN}get weekday(){return this.isValid?Ir(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Nr(this).weekday:NaN}get localWeekNumber(){return this.isValid?Nr(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Nr(this).weekYear:NaN}get ordinal(){return this.isValid?Or(this.c).ordinal:NaN}get monthShort(){return this.isValid?Fi.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Fi.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Fi.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Fi.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,i=pr(this.c),r=this.zone.offset(i-e),s=this.zone.offset(i+e),l=this.zone.offset(i-r*t),o=this.zone.offset(i-s*t);if(l===o)return[this];const a=i-l*t,u=i-o*t,f=qi(a,l),c=qi(u,o);return f.hour===c.hour&&f.minute===c.minute&&f.second===c.second&&f.millisecond===c.millisecond?[Tn(this,{ts:a}),Tn(this,{ts:u})]:[this]}get isInLeapYear(){return Oi(this.year)}get daysInMonth(){return ir(this.year,this.month)}get daysInYear(){return this.isValid?Zn(this.year):NaN}get weeksInWeekYear(){return this.isValid?wi(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?wi(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:i,calendar:r}=kt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:i,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(Ot.instance(e),t)}toLocal(){return this.setZone(xe.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:i=!1}={}){if(e=yn(e,xe.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||i){const s=e.offset(this.ts),l=this.toObject();[r]=Ji(l,s,e)}return Tn(this,{ts:r,zone:e})}else return Ee.invalid(Ri(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:i}={}){const r=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i});return Tn(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=rr(e,al),{minDaysInFirstWeek:i,startOfWeek:r}=Js(t,this.loc),s=!Oe(t.weekYear)||!Oe(t.weekNumber)||!Oe(t.weekday),l=!Oe(t.ordinal),o=!Oe(t.year),a=!Oe(t.month)||!Oe(t.day),u=o||a,f=t.weekYear||t.weekNumber;if((u||l)&&f)throw new Yn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&l)throw new Yn("Can't mix ordinal dates with month/day");let c;s?c=Ks({...nr(this.c,i,r),...t},i,r):Oe(t.ordinal)?(c={...this.toObject(),...t},Oe(t.day)&&(c.day=Math.min(ir(c.year,c.month),c.day))):c=Zs({...Or(this.c),...t});const[m,d]=Ji(c,this.o,this.zone);return Tn(this,{ts:m,o:d})}plus(e){if(!this.isValid)return this;const t=Re.fromDurationLike(e);return Tn(this,ll(this,t))}minus(e){if(!this.isValid)return this;const t=Re.fromDurationLike(e).negate();return Tn(this,ll(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const i={},r=Re.normalizeUnit(e);switch(r){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(r==="weeks")if(t){const s=this.loc.getStartOfWeek(),{weekday:l}=this;l<s&&(i.weekNumber=this.weekNumber-1),i.weekday=s}else i.weekday=1;if(r==="quarters"){const s=Math.ceil(this.month/3);i.month=(s-1)*3+1}return this.set(i)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?kt.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Mr}toLocaleString(e=tr,t={}){return this.isValid?kt.create(this.loc.clone(t),e).formatDateTime(this):Mr}toLocaleParts(e={}){return this.isValid?kt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const l=e==="extended";let o=Ar(this,l);return o+="T",o+=ol(this,l,t,i,r,s),o}toISODate({format:e="extended"}={}){return this.isValid?Ar(this,e==="extended"):null}toISOWeekDate(){return ji(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:s=!1,format:l="extended"}={}){return this.isValid?(r?"T":"")+ol(this,l==="extended",t,e,i,s):null}toRFC2822(){return ji(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return ji(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Ar(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(i&&(r+=" "),t?r+="z":e&&(r+="ZZ")),ji(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Mr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",i={}){if(!this.isValid||!e.isValid)return Re.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=xc(t).map(Re.normalizeUnit),l=e.valueOf()>this.valueOf(),o=l?this:e,a=l?e:this,u=im(o,a,s,r);return l?u.negate():u}diffNow(e="milliseconds",t={}){return this.diff(Ee.now(),e,t)}until(e){return this.isValid?Qe.fromDateTimes(this,e):this}hasSame(e,t,i){if(!this.isValid)return!1;const r=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(t,i)<=r&&r<=s.endOf(t,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||Ee.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(r=e.unit,s=void 0),fl(t,this.plus(i),{...e,numeric:"always",units:r,unit:s})}toRelativeCalendar(e={}){return this.isValid?fl(e.base||Ee.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Ee.isDateTime))throw new Mt("min requires all arguments be DateTimes");return Gs(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(Ee.isDateTime))throw new Mt("max requires all arguments be DateTimes");return Gs(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,i={}){const{locale:r=null,numberingSystem:s=null}=i,l=ze.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return hf(l,e,t)}static fromStringExplain(e,t,i={}){return Ee.fromFormatExplain(e,t,i)}static get DATE_SHORT(){return tr}static get DATE_MED(){return wu}static get DATE_MED_WITH_WEEKDAY(){return Ec}static get DATE_FULL(){return ku}static get DATE_HUGE(){return vu}static get TIME_SIMPLE(){return Su}static get TIME_WITH_SECONDS(){return Cu}static get TIME_WITH_SHORT_OFFSET(){return Tu}static get TIME_WITH_LONG_OFFSET(){return Du}static get TIME_24_SIMPLE(){return Ou}static get TIME_24_WITH_SECONDS(){return Eu}static get TIME_24_WITH_SHORT_OFFSET(){return Mu}static get TIME_24_WITH_LONG_OFFSET(){return Iu}static get DATETIME_SHORT(){return Nu}static get DATETIME_SHORT_WITH_SECONDS(){return Au}static get DATETIME_MED(){return Lu}static get DATETIME_MED_WITH_SECONDS(){return Fu}static get DATETIME_MED_WITH_WEEKDAY(){return Mc}static get DATETIME_FULL(){return Pu}static get DATETIME_FULL_WITH_SECONDS(){return Ru}static get DATETIME_HUGE(){return qu}static get DATETIME_HUGE_WITH_SECONDS(){return ju}}function fi(n){if(Ee.isDateTime(n))return n;if(n&&n.valueOf&&Nn(n.valueOf()))return Ee.fromJSDate(n);if(n&&typeof n=="object")return Ee.fromObject(n);throw new Mt(`Unknown datetime argument: ${n}, of type ${typeof n}`)}const Cm=[".jpg",".jpeg",".png",".svg",".gif",".jfif",".webp",".avif"],Tm=[".mp4",".avi",".mov",".3gp",".wmv"],Dm=[".aa",".aac",".m4v",".mp3",".ogg",".oga",".mogg",".amr"],Om=[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".odp",".odt",".ods",".txt"];class F{static isObject(e){return e!==null&&typeof e=="object"&&e.constructor===Object}static clone(e){return typeof structuredClone<"u"?structuredClone(e):JSON.parse(JSON.stringify(e))}static isEmpty(e){return e===""||e===null||e==="00000000-0000-0000-0000-000000000000"||e==="0001-01-01 00:00:00.000Z"||e==="0001-01-01"||typeof e>"u"||Array.isArray(e)&&e.length===0||F.isObject(e)&&Object.keys(e).length===0}static isInput(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return t==="input"||t==="select"||t==="textarea"||(e==null?void 0:e.isContentEditable)}static isFocusable(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return F.isInput(e)||t==="button"||t==="a"||t==="details"||(e==null?void 0:e.tabIndex)>=0}static hasNonEmptyProps(e){for(let t in e)if(!F.isEmpty(e[t]))return!0;return!1}static toArray(e,t=!1){return Array.isArray(e)?e.slice():(t||!F.isEmpty(e))&&typeof e<"u"?[e]:[]}static inArray(e,t){e=Array.isArray(e)?e:[];for(let i=e.length-1;i>=0;i--)if(e[i]==t)return!0;return!1}static removeByValue(e,t){e=Array.isArray(e)?e:[];for(let i=e.length-1;i>=0;i--)if(e[i]==t){e.splice(i,1);break}}static pushUnique(e,t){F.inArray(e,t)||e.push(t)}static findByKey(e,t,i){e=Array.isArray(e)?e:[];for(let r in e)if(e[r][t]==i)return e[r];return null}static groupByKey(e,t){e=Array.isArray(e)?e:[];const i={};for(let r in e)i[e[r][t]]=i[e[r][t]]||[],i[e[r][t]].push(e[r]);return i}static removeByKey(e,t,i){for(let r in e)if(e[r][t]==i){e.splice(r,1);break}}static pushOrReplaceByKey(e,t,i="id"){for(let r=e.length-1;r>=0;r--)if(e[r][i]==t[i]){e[r]=t;return}e.push(t)}static filterDuplicatesByKey(e,t="id"){e=Array.isArray(e)?e:[];const i={};for(const r of e)i[r[t]]=r;return Object.values(i)}static filterRedactedProps(e,t="******"){const i=JSON.parse(JSON.stringify(e||{}));for(let r in i)typeof i[r]=="object"&&i[r]!==null?i[r]=F.filterRedactedProps(i[r],t):i[r]===t&&delete i[r];return i}static getNestedVal(e,t,i=null,r="."){let s=e||{},l=(t||"").split(r);for(const o of l){if(!F.isObject(s)&&!Array.isArray(s)||typeof s[o]>"u")return i;s=s[o]}return s}static setByPath(e,t,i,r="."){if(e===null||typeof e!="object"){console.warn("setByPath: data not an object or array.");return}let s=e,l=t.split(r),o=l.pop();for(const a of l)(!F.isObject(s)&&!Array.isArray(s)||!F.isObject(s[a])&&!Array.isArray(s[a]))&&(s[a]={}),s=s[a];s[o]=i}static deleteByPath(e,t,i="."){let r=e||{},s=(t||"").split(i),l=s.pop();for(const o of s)(!F.isObject(r)&&!Array.isArray(r)||!F.isObject(r[o])&&!Array.isArray(r[o]))&&(r[o]={}),r=r[o];Array.isArray(r)?r.splice(l,1):F.isObject(r)&&delete r[l],s.length>0&&(Array.isArray(r)&&!r.length||F.isObject(r)&&!Object.keys(r).length)&&(Array.isArray(e)&&e.length>0||F.isObject(e)&&Object.keys(e).length>0)&&F.deleteByPath(e,s.join(i),i)}static randomString(e=10){let t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}static randomSecret(e=15){if(typeof crypto>"u")return F.randomString(e);const t=new Uint8Array(e);crypto.getRandomValues(t);const i="-_0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";let r="";for(let s=0;s<e;s++)r+=i.charAt(t[s]%i.length);return r}static sentenize(e,t=!0){if(typeof e!="string")return"";if(e=e.trim().split("_").join(" "),e==="")return e;if(e=e[0].toUpperCase()+e.substring(1),t){let i=e[e.length-1];i!=="."&&i!=="?"&&i!=="!"&&(e+=".")}return e}static trimQuotedValue(e){return typeof e=="string"&&(e[0]=='"'||e[0]=="'"||e[0]=="`")&&e[0]==e[e.length-1]?e.slice(1,-1):e}static plainText(e){return e?(new DOMParser().parseFromString(e,"text/html").body.innerText||"").trim():""}static truncate(e,t=150,i=!0){return e=""+e,e.length<=t?e:e.substring(0,t)+(i?"...":"")}static truncateObject(e){const t={};for(let i in e){let r=e[i];typeof r=="string"&&(r=F.truncate(r,150,!0)),t[i]=r}return t}static slugify(e,t="_",i=[".","=","-"]){if(e==="")return"";const r={a:/||||/gi,b://gi,c:/|/gi,d://gi,e:/|||||/gi,f://gi,g://gi,h://gi,i:/||||/gi,j://gi,k://gi,l://gi,m://gi,n:/|/gi,o:/||||/gi,p://gi,q://gi,r://gi,s://gi,t://gi,u:/||||/gi,v://gi,w://gi,x://gi,y://gi,z://gi,ae:/|/gi,oe://gi,ue://gi,Ae://gi,Ue://gi,Oe://gi,ss://gi,and:/&/gi};for(let s in r)e=e.replace(r[s],s);return e.replace(new RegExp("["+i.join("")+"]","g")," ").replace(/[^\w\ ]/gi,"").replace(/\s+/g,t)}static escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static splitNonEmpty(e,t=","){const i=[],r=(e||"").replaceAll("\\"+t,"{_PB_ESCAPED_}").split(t).map(s=>s.replaceAll("{_PB_ESCAPED_}",t));for(let s of r)s=s.trim(),F.isEmpty(s)||i.push(s);return i}static joinNonEmpty(e,t=", "){e=e||[];const i=[],r=t.length>1?t.trim():t;for(let s of e)s=typeof s=="string"?s.trim():"",F.isEmpty(s)||i.push(s.replaceAll(r,"\\"+r));return i.join(t)}static getInitials(e){if(e=(e||"").split("@")[0].trim(),e.length<=2)return e.toUpperCase();const t=e.split(/[\.\_\-\ ]/);return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e[0].toUpperCase()}static formattedFileSize(e){const t=e?Math.floor(Math.log(e)/Math.log(1024)):0;return(e/Math.pow(1024,t)).toFixed(2)*1+" "+["B","KB","MB","GB","TB"][t]}static getDateTime(e){if(typeof e=="string"){const t={19:"yyyy-MM-dd HH:mm:ss",23:"yyyy-MM-dd HH:mm:ss.SSS",20:"yyyy-MM-dd HH:mm:ss'Z'",24:"yyyy-MM-dd HH:mm:ss.SSS'Z'"},i=t[e.length]||t[19];return Ee.fromFormat(e,i,{zone:"UTC"})}return Ee.fromJSDate(e)}static formatToUTCDate(e,t="yyyy-MM-dd HH:mm:ss"){return F.getDateTime(e).toUTC().toFormat(t)}static formatToLocalDate(e,t="yyyy-MM-dd HH:mm:ss"){return F.getDateTime(e).toLocal().toFormat(t)}static async copyToClipboard(e){var t;if(e=""+e,!(!e.length||!((t=window==null?void 0:window.navigator)!=null&&t.clipboard)))return window.navigator.clipboard.writeText(e).catch(i=>{console.warn("Failed to copy.",i)})}static download(e,t){const i=document.createElement("a");i.setAttribute("href",e),i.setAttribute("download",t),i.setAttribute("target","_blank"),i.click(),i.remove()}static downloadJson(e,t){t=t.endsWith(".json")?t:t+".json";const i=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=window.URL.createObjectURL(i);F.download(r,t)}static getJWTPayload(e){const t=(e||"").split(".")[1]||"";if(t==="")return{};try{const i=decodeURIComponent(atob(t));return JSON.parse(i)||{}}catch(i){console.warn("Failed to parse JWT payload data.",i)}return{}}static hasImageExtension(e){return e=e||"",!!Cm.find(t=>e.toLowerCase().endsWith(t))}static hasVideoExtension(e){return e=e||"",!!Tm.find(t=>e.toLowerCase().endsWith(t))}static hasAudioExtension(e){return e=e||"",!!Dm.find(t=>e.toLowerCase().endsWith(t))}static hasDocumentExtension(e){return e=e||"",!!Om.find(t=>e.toLowerCase().endsWith(t))}static getFileType(e){return F.hasImageExtension(e)?"image":F.hasDocumentExtension(e)?"document":F.hasVideoExtension(e)?"video":F.hasAudioExtension(e)?"audio":"file"}static generateThumb(e,t=100,i=100){return new Promise(r=>{let s=new FileReader;s.onload=function(l){let o=new Image;o.onload=function(){let a=document.createElement("canvas"),u=a.getContext("2d"),f=o.width,c=o.height;return a.width=t,a.height=i,u.drawImage(o,f>c?(f-c)/2:0,0,f>c?c:f,f>c?c:f,0,0,t,i),r(a.toDataURL(e.type))},o.src=l.target.result},s.readAsDataURL(e)})}static addValueToFormData(e,t,i){if(!(typeof i>"u"))if(F.isEmpty(i))e.append(t,"");else if(Array.isArray(i))for(const r of i)F.addValueToFormData(e,t,r);else i instanceof File?e.append(t,i):i instanceof Date?e.append(t,i.toISOString()):F.isObject(i)?e.append(t,JSON.stringify(i)):e.append(t,""+i)}static dummyCollectionRecord(e){var a,u,f,c,m,d,b;const t=(e==null?void 0:e.schema)||[],i=(e==null?void 0:e.type)==="auth",r=(e==null?void 0:e.type)==="view",s={id:"RECORD_ID",collectionId:e==null?void 0:e.id,collectionName:e==null?void 0:e.name};i&&(s.username="username123",s.verified=!1,s.emailVisibility=!0,s.email="test@example.com"),(!r||F.extractColumnsFromQuery((a=e==null?void 0:e.options)==null?void 0:a.query).includes("created"))&&(s.created="2022-01-01 01:00:00.123Z"),(!r||F.extractColumnsFromQuery((u=e==null?void 0:e.options)==null?void 0:u.query).includes("updated"))&&(s.updated="2022-01-01 23:59:59.456Z");for(const p of t){let g=null;p.type==="number"?g=123:p.type==="date"?g="2022-01-01 10:00:00.123Z":p.type==="bool"?g=!0:p.type==="email"?g="test@example.com":p.type==="url"?g="https://example.com":p.type==="json"?g="JSON":p.type==="file"?(g="filename.jpg",((f=p.options)==null?void 0:f.maxSelect)!==1&&(g=[g])):p.type==="select"?(g=(m=(c=p.options)==null?void 0:c.values)==null?void 0:m[0],((d=p.options)==null?void 0:d.maxSelect)!==1&&(g=[g])):p.type==="relation"?(g="RELATION_RECORD_ID",((b=p.options)==null?void 0:b.maxSelect)!==1&&(g=[g])):g="test",s[p.name]=g}return s}static dummyCollectionSchemaData(e){var r,s,l,o;const t=(e==null?void 0:e.schema)||[],i={};for(const a of t){let u=null;if(a.type==="number")u=123;else if(a.type==="date")u="2022-01-01 10:00:00.123Z";else if(a.type==="bool")u=!0;else if(a.type==="email")u="test@example.com";else if(a.type==="url")u="https://example.com";else if(a.type==="json")u="JSON";else{if(a.type==="file")continue;a.type==="select"?(u=(s=(r=a.options)==null?void 0:r.values)==null?void 0:s[0],((l=a.options)==null?void 0:l.maxSelect)!==1&&(u=[u])):a.type==="relation"?(u="RELATION_RECORD_ID",((o=a.options)==null?void 0:o.maxSelect)!==1&&(u=[u])):u="test"}i[a.name]=u}return i}static getCollectionTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"auth":return"ri-group-line";case"view":return"ri-table-line";default:return"ri-folder-2-line"}}static getFieldTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"primary":return"ri-key-line";case"text":return"ri-text";case"number":return"ri-hashtag";case"date":return"ri-calendar-line";case"bool":return"ri-toggle-line";case"email":return"ri-mail-line";case"url":return"ri-link";case"editor":return"ri-edit-2-line";case"select":return"ri-list-check";case"json":return"ri-braces-line";case"file":return"ri-image-line";case"relation":return"ri-mind-map";case"user":return"ri-user-line";default:return"ri-star-s-line"}}static getFieldValueType(e){var t;switch(e==null?void 0:e.type){case"bool":return"Boolean";case"number":return"Number";case"file":return"File";case"select":case"relation":return((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)===1?"String":"Array<String>";default:return"String"}}static zeroDefaultStr(e){var t;return(e==null?void 0:e.type)==="number"?"0":(e==null?void 0:e.type)==="bool"?"false":(e==null?void 0:e.type)==="json"?'null, "", [], {}':["select","relation","file"].includes(e==null?void 0:e.type)&&((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)!=1?"[]":'""'}static getApiExampleUrl(e){return(window.location.href.substring(0,window.location.href.indexOf("/_"))||e||"/").replace("//localhost","//127.0.0.1")}static hasCollectionChanges(e,t,i=!1){if(e=e||{},t=t||{},e.id!=t.id)return!0;for(let u in e)if(u!=="schema"&&JSON.stringify(e[u])!==JSON.stringify(t[u]))return!0;const r=Array.isArray(e.schema)?e.schema:[],s=Array.isArray(t.schema)?t.schema:[],l=r.filter(u=>(u==null?void 0:u.id)&&!F.findByKey(s,"id",u.id)),o=s.filter(u=>(u==null?void 0:u.id)&&!F.findByKey(r,"id",u.id)),a=s.filter(u=>{const f=F.isObject(u)&&F.findByKey(r,"id",u.id);if(!f)return!1;for(let c in f)if(JSON.stringify(u[c])!=JSON.stringify(f[c]))return!0;return!1});return!!(o.length||a.length||i&&l.length)}static sortCollections(e=[]){const t=[],i=[],r=[];for(const l of e)l.type==="auth"?t.push(l):l.type==="base"?i.push(l):r.push(l);function s(l,o){return l.name>o.name?1:l.name<o.name?-1:0}return[].concat(t.sort(s),i.sort(s),r.sort(s))}static yieldToMain(){return new Promise(e=>{setTimeout(e,0)})}static defaultFlatpickrOptions(){return{dateFormat:"Y-m-d H:i:S",disableMobile:!0,allowInput:!0,enableTime:!0,time_24hr:!0,locale:{firstDayOfWeek:1}}}static defaultEditorOptions(){const e=["DIV","P","A","EM","B","STRONG","H1","H2","H3","H4","H5","H6","TABLE","TR","TD","TH","TBODY","THEAD","TFOOT","BR","HR","Q","SUP","SUB","DEL","IMG","OL","UL","LI","CODE"];function t(r){let s=r.parentNode;for(;r.firstChild;)s.insertBefore(r.firstChild,r);s.removeChild(r)}function i(r){if(r){for(const s of r.children)i(s);e.includes(r.tagName)?(r.removeAttribute("style"),r.removeAttribute("class")):t(r)}}return{branding:!1,promotion:!1,menubar:!1,min_height:270,height:270,max_height:700,autoresize_bottom_margin:30,skin:"pocketbase",content_style:"body { font-size: 14px }",plugins:["autoresize","autolink","lists","link","image","searchreplace","fullscreen","media","table","code","codesample","directionality"],codesample_global_prismjs:!0,codesample_languages:[{text:"HTML/XML",value:"markup"},{text:"CSS",value:"css"},{text:"SQL",value:"sql"},{text:"JavaScript",value:"javascript"},{text:"Go",value:"go"},{text:"Dart",value:"dart"},{text:"Zig",value:"zig"},{text:"Rust",value:"rust"},{text:"Lua",value:"lua"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"},{text:"Markdown",value:"markdown"},{text:"Swift",value:"swift"},{text:"Kotlin",value:"kotlin"},{text:"Elixir",value:"elixir"},{text:"Scala",value:"scala"},{text:"Julia",value:"julia"},{text:"Haskell",value:"haskell"}],toolbar:"styles | alignleft aligncenter alignright | bold italic forecolor backcolor | bullist numlist | link image_picker table codesample direction | code fullscreen",paste_postprocess:(r,s)=>{i(s.node)},file_picker_types:"image",file_picker_callback:(r,s,l)=>{const o=document.createElement("input");o.setAttribute("type","file"),o.setAttribute("accept","image/*"),o.addEventListener("change",a=>{const u=a.target.files[0],f=new FileReader;f.addEventListener("load",()=>{if(!tinymce)return;const c="blobid"+new Date().getTime(),m=tinymce.activeEditor.editorUpload.blobCache,d=f.result.split(",")[1],b=m.create(c,u,d);m.add(b),r(b.blobUri(),{title:u.name})}),f.readAsDataURL(u)}),o.click()},setup:r=>{r.on("keydown",l=>{(l.ctrlKey||l.metaKey)&&l.code=="KeyS"&&r.formElement&&(l.preventDefault(),l.stopPropagation(),r.formElement.dispatchEvent(new KeyboardEvent("keydown",l)))});const s="tinymce_last_direction";r.on("init",()=>{var o;const l=(o=window==null?void 0:window.localStorage)==null?void 0:o.getItem(s);!r.isDirty()&&r.getContent()==""&&l=="rtl"&&r.execCommand("mceDirectionRTL")}),r.ui.registry.addMenuButton("direction",{icon:"visualchars",fetch:l=>{l([{type:"menuitem",text:"LTR content",icon:"ltr",onAction:()=>{var a;(a=window==null?void 0:window.localStorage)==null||a.setItem(s,"ltr"),r.execCommand("mceDirectionLTR")}},{type:"menuitem",text:"RTL content",icon:"rtl",onAction:()=>{var a;(a=window==null?void 0:window.localStorage)==null||a.setItem(s,"rtl"),r.execCommand("mceDirectionRTL")}}])}}),r.ui.registry.addMenuButton("image_picker",{icon:"image",fetch:l=>{l([{type:"menuitem",text:"From collection",icon:"gallery",onAction:()=>{r.dispatch("collections_file_picker",{})}},{type:"menuitem",text:"Inline",icon:"browse",onAction:()=>{r.execCommand("mceImage")}}])}})}}}static displayValue(e,t,i="N/A"){e=e||{},t=t||[];let r=[];for(const l of t){let o=e[l];typeof o>"u"||(o=F.stringifyValue(o,i),r.push(o))}if(r.length>0)return r.join(", ");const s=["title","name","slug","email","username","nickname","label","heading","message","key","identifier","id"];for(const l of s){let o=F.stringifyValue(e[l],"");if(o)return o}return i}static stringifyValue(e,t="N/A",i=150){if(F.isEmpty(e))return t;if(typeof e=="number")return""+e;if(typeof e=="boolean")return e?"True":"False";if(typeof e=="string")return e=e.indexOf("<")>=0?F.plainText(e):e,F.truncate(e,i)||t;if(Array.isArray(e)&&typeof e[0]!="object")return F.truncate(e.join(","),i);if(typeof e=="object")try{return F.truncate(JSON.stringify(e),i)||t}catch{return t}return e}static extractColumnsFromQuery(e){var l;const t="__GROUP__";e=(e||"").replace(/\([\s\S]+?\)/gm,t).replace(/[\t\r\n]|(?:\s\s)+/g," ");const i=e.match(/select\s+([\s\S]+)\s+from/),r=((l=i==null?void 0:i[1])==null?void 0:l.split(","))||[],s=[];for(let o of r){const a=o.trim().split(" ").pop();a!=""&&a!=t&&s.push(a.replace(/[\'\"\`\[\]\s]/g,""))}return s}static getAllCollectionIdentifiers(e,t=""){if(!e)return[];let i=[t+"id"];if(e.type==="view")for(let s of F.extractColumnsFromQuery(e.options.query))F.pushUnique(i,t+s);else e.type==="auth"?(i.push(t+"username"),i.push(t+"email"),i.push(t+"emailVisibility"),i.push(t+"verified"),i.push(t+"created"),i.push(t+"updated")):(i.push(t+"created"),i.push(t+"updated"));const r=e.schema||[];for(const s of r)F.pushUnique(i,t+s.name);return i}static getCollectionAutocompleteKeys(e,t,i="",r=0){var o,a,u;let s=e.find(f=>f.name==t||f.id==t);if(!s||r>=4)return[];s.schema=s.schema||[];let l=F.getAllCollectionIdentifiers(s,i);for(const f of s.schema){const c=i+f.name;if(f.type=="relation"&&((o=f.options)!=null&&o.collectionId)){const m=F.getCollectionAutocompleteKeys(e,f.options.collectionId,c+".",r+1);m.length&&(l=l.concat(m))}((a=f.options)==null?void 0:a.maxSelect)!=1&&["select","file","relation"].includes(f.type)&&(l.push(c+":each"),l.push(c+":length"))}for(const f of e){f.schema=f.schema||[];for(const c of f.schema)if(c.type=="relation"&&((u=c.options)==null?void 0:u.collectionId)==s.id){const m=i+f.name+"_via_"+c.name,d=F.getCollectionAutocompleteKeys(e,f.id,m+".",r+2);d.length&&(l=l.concat(d))}}return l}static getCollectionJoinAutocompleteKeys(e){const t=[];for(const i of e){const r="@collection."+i.name+".",s=F.getCollectionAutocompleteKeys(e,i.name,r);for(const l of s)t.push(l)}return t}static getRequestAutocompleteKeys(e,t){const i=[];i.push("@request.context"),i.push("@request.method"),i.push("@request.query."),i.push("@request.data."),i.push("@request.headers."),i.push("@request.auth.id"),i.push("@request.auth.collectionId"),i.push("@request.auth.collectionName"),i.push("@request.auth.verified"),i.push("@request.auth.username"),i.push("@request.auth.email"),i.push("@request.auth.emailVisibility"),i.push("@request.auth.created"),i.push("@request.auth.updated");const r=e.filter(s=>s.type==="auth");for(const s of r){const l=F.getCollectionAutocompleteKeys(e,s.id,"@request.auth.");for(const o of l)F.pushUnique(i,o)}if(t){const s=["created","updated"],l=F.getCollectionAutocompleteKeys(e,t,"@request.data.");for(const o of l){i.push(o);const a=o.split(".");a.length===3&&a[2].indexOf(":")===-1&&!s.includes(a[2])&&i.push(o+":isset")}}return i}static parseIndex(e){var a,u,f,c,m;const t={unique:!1,optional:!1,schemaName:"",indexName:"",tableName:"",columns:[],where:""},r=/create\s+(unique\s+)?\s*index\s*(if\s+not\s+exists\s+)?(\S*)\s+on\s+(\S*)\s*\(([\s\S]*)\)(?:\s*where\s+([\s\S]*))?/gim.exec((e||"").trim());if((r==null?void 0:r.length)!=7)return t;const s=/^[\"\'\`\[\{}]|[\"\'\`\]\}]$/gm;t.unique=((a=r[1])==null?void 0:a.trim().toLowerCase())==="unique",t.optional=!F.isEmpty((u=r[2])==null?void 0:u.trim());const l=(r[3]||"").split(".");l.length==2?(t.schemaName=l[0].replace(s,""),t.indexName=l[1].replace(s,"")):(t.schemaName="",t.indexName=l[0].replace(s,"")),t.tableName=(r[4]||"").replace(s,"");const o=(r[5]||"").replace(/,(?=[^\(]*\))/gim,"{PB_TEMP}").split(",");for(let d of o){d=d.trim().replaceAll("{PB_TEMP}",",");const p=/^([\s\S]+?)(?:\s+collate\s+([\w]+))?(?:\s+(asc|desc))?$/gim.exec(d);if((p==null?void 0:p.length)!=4)continue;const g=(c=(f=p[1])==null?void 0:f.trim())==null?void 0:c.replace(s,"");g&&t.columns.push({name:g,collate:p[2]||"",sort:((m=p[3])==null?void 0:m.toUpperCase())||""})}return t.where=r[6]||"",t}static buildIndex(e){let t="CREATE ";e.unique&&(t+="UNIQUE "),t+="INDEX ",e.optional&&(t+="IF NOT EXISTS "),e.schemaName&&(t+=`\`${e.schemaName}\`.`),t+=`\`${e.indexName||"idx_"+F.randomString(7)}\` `,t+=`ON \`${e.tableName}\` (`;const i=e.columns.filter(r=>!!(r!=null&&r.name));return i.length>1&&(t+=`
  `),t+=i.map(r=>{let s="";return r.name.includes("(")||r.name.includes(" ")?s+=r.name:s+="`"+r.name+"`",r.collate&&(s+=" COLLATE "+r.collate),r.sort&&(s+=" "+r.sort.toUpperCase()),s}).join(`,
  `),i.length>1&&(t+=`
`),t+=")",e.where&&(t+=` WHERE ${e.where}`),t}static replaceIndexTableName(e,t){const i=F.parseIndex(e);return i.tableName=t,F.buildIndex(i)}static replaceIndexColumn(e,t,i){if(t===i)return e;const r=F.parseIndex(e);let s=!1;for(let l of r.columns)l.name===t&&(l.name=i,s=!0);return s?F.buildIndex(r):e}static normalizeSearchFilter(e,t){if(e=(e||"").trim(),!e||!t.length)return e;const i=["=","!=","~","!~",">",">=","<","<="];for(const r of i)if(e.includes(r))return e;return e=isNaN(e)&&e!="true"&&e!="false"?`"${e.replace(/^[\"\'\`]|[\"\'\`]$/gm,"")}"`:e,t.map(r=>`${r}~${e}`).join("||")}static normalizeLogsFilter(e,t=[]){return F.normalizeSearchFilter(e,["level","message","data"].concat(t))}static initCollection(e){return Object.assign({id:"",created:"",updated:"",name:"",type:"base",system:!1,listRule:null,viewRule:null,createRule:null,updateRule:null,deleteRule:null,schema:[],indexes:[],options:{}},e)}static initSchemaField(e){return Object.assign({id:"",name:"",type:"text",system:!1,required:!1,options:{}},e)}static triggerResize(){window.dispatchEvent(new Event("resize"))}static getHashQueryParams(){let e="";const t=window.location.hash.indexOf("?");return t>-1&&(e=window.location.hash.substring(t+1)),Object.fromEntries(new URLSearchParams(e))}static replaceHashQueryParams(e){e=e||{};let t="",i=window.location.hash;const r=i.indexOf("?");r>-1&&(t=i.substring(r+1),i=i.substring(0,r));const s=new URLSearchParams(t);for(let a in e){const u=e[a];u===null?s.delete(a):s.set(a,u)}t=s.toString(),t!=""&&(i+="?"+t);let l=window.location.href;const o=l.indexOf("#");o>-1&&(l=l.substring(0,o)),window.location.replace(l+i)}}const Em=n=>({}),dl=n=>({}),Mm=n=>({}),ml=n=>({});function hl(n){let e,t,i,r,s,l,o,a,u,f,c,m,d,b,p,g,_,k,T=n[4]&&!n[2]&&pl(n);const w=n[19].header,I=ct(w,n,n[18],ml);let P=n[4]&&n[2]&&gl(n);const A=n[19].default,E=ct(A,n,n[18],null),L=n[19].footer,q=ct(L,n,n[18],dl);return{c(){e=y("div"),t=y("div"),r=R(),s=y("div"),l=y("div"),T&&T.c(),o=R(),I&&I.c(),a=R(),P&&P.c(),u=R(),f=y("div"),E&&E.c(),c=R(),m=y("div"),q&&q.c(),h(t,"class","overlay"),h(l,"class","overlay-panel-section panel-header"),h(f,"class","overlay-panel-section panel-content"),h(m,"class","overlay-panel-section panel-footer"),h(s,"class",d="overlay-panel "+n[1]+" "+n[8]),J(s,"popup",n[2]),h(e,"class","overlay-panel-container"),J(e,"padded",n[2]),J(e,"active",n[0])},m(W,z){C(W,e,z),v(e,t),v(e,r),v(e,s),v(s,l),T&&T.m(l,null),v(l,o),I&&I.m(l,null),v(l,a),P&&P.m(l,null),v(s,u),v(s,f),E&&E.m(f,null),n[21](f),v(s,c),v(s,m),q&&q.m(m,null),g=!0,_||(k=[ee(t,"click",$e(n[20])),ee(f,"scroll",n[22])],_=!0)},p(W,z){n=W,n[4]&&!n[2]?T?(T.p(n,z),z[0]&20&&O(T,1)):(T=pl(n),T.c(),O(T,1),T.m(l,o)):T&&(ae(),N(T,1,1,()=>{T=null}),ue()),I&&I.p&&(!g||z[0]&262144)&&mt(I,w,n,n[18],g?dt(w,n[18],z,Mm):ht(n[18]),ml),n[4]&&n[2]?P?P.p(n,z):(P=gl(n),P.c(),P.m(l,null)):P&&(P.d(1),P=null),E&&E.p&&(!g||z[0]&262144)&&mt(E,A,n,n[18],g?dt(A,n[18],z,null):ht(n[18]),null),q&&q.p&&(!g||z[0]&262144)&&mt(q,L,n,n[18],g?dt(L,n[18],z,Em):ht(n[18]),dl),(!g||z[0]&258&&d!==(d="overlay-panel "+n[1]+" "+n[8]))&&h(s,"class",d),(!g||z[0]&262)&&J(s,"popup",n[2]),(!g||z[0]&4)&&J(e,"padded",n[2]),(!g||z[0]&1)&&J(e,"active",n[0])},i(W){g||(W&&_t(()=>{g&&(i||(i=pt(t,yi,{duration:bn,opacity:0},!0)),i.run(1))}),O(T),O(I,W),O(E,W),O(q,W),W&&_t(()=>{g&&(p&&p.end(1),b=mu(s,ln,n[2]?{duration:bn,y:-10}:{duration:bn,x:50}),b.start())}),g=!0)},o(W){W&&(i||(i=pt(t,yi,{duration:bn,opacity:0},!1)),i.run(0)),N(T),N(I,W),N(E,W),N(q,W),b&&b.invalidate(),W&&(p=ls(s,ln,n[2]?{duration:bn,y:10}:{duration:bn,x:50})),g=!1},d(W){W&&S(e),W&&i&&i.end(),T&&T.d(),I&&I.d(W),P&&P.d(),E&&E.d(W),n[21](null),q&&q.d(W),W&&p&&p.end(),_=!1,Ce(k)}}}function pl(n){let e,t,i,r,s;return{c(){e=y("button"),e.innerHTML='<i class="ri-close-line" aria-hidden="true"></i>',h(e,"type","button"),h(e,"aria-label","Close"),h(e,"class","overlay-close")},m(l,o){C(l,e,o),i=!0,r||(s=ee(e,"click",$e(n[5])),r=!0)},p(l,o){n=l},i(l){i||(l&&_t(()=>{i&&(t||(t=pt(e,yi,{duration:bn},!0)),t.run(1))}),i=!0)},o(l){l&&(t||(t=pt(e,yi,{duration:bn},!1)),t.run(0)),i=!1},d(l){l&&S(e),l&&t&&t.end(),r=!1,s()}}}function gl(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<i class="ri-close-line txt-lg" aria-hidden="true"></i>',h(e,"type","button"),h(e,"aria-label","Close"),h(e,"class","btn btn-sm btn-circle btn-transparent btn-close m-l-auto")},m(r,s){C(r,e,s),t||(i=ee(e,"click",$e(n[5])),t=!0)},p:G,d(r){r&&S(e),t=!1,i()}}}function Im(n){let e,t,i,r,s=n[0]&&hl(n);return{c(){e=y("div"),s&&s.c(),h(e,"class","overlay-panel-wrapper"),h(e,"tabindex","-1")},m(l,o){C(l,e,o),s&&s.m(e,null),n[23](e),t=!0,i||(r=[ee(window,"resize",n[10]),ee(window,"keydown",n[9])],i=!0)},p(l,o){l[0]?s?(s.p(l,o),o[0]&1&&O(s,1)):(s=hl(l),s.c(),O(s,1),s.m(e,null)):s&&(ae(),N(s,1,1,()=>{s=null}),ue())},i(l){t||(O(s),t=!0)},o(l){N(s),t=!1},d(l){l&&S(e),s&&s.d(),n[23](null),i=!1,Ce(r)}}}let Dn,Lr=[];function yf(){return Dn=Dn||document.querySelector(".overlays"),Dn||(Dn=document.createElement("div"),Dn.classList.add("overlays"),document.body.appendChild(Dn)),Dn}let bn=150;function _l(){return 1e3+yf().querySelectorAll(".overlay-panel-container.active").length}function Nm(n,e,t){let{$$slots:i={},$$scope:r}=e,{class:s=""}=e,{active:l=!1}=e,{popup:o=!1}=e,{overlayClose:a=!0}=e,{btnClose:u=!0}=e,{escClose:f=!0}=e,{beforeOpen:c=void 0}=e,{beforeHide:m=void 0}=e;const d=St(),b="op_"+F.randomString(10);let p,g,_,k,T="",w=l;function I(){typeof c=="function"&&c()===!1||t(0,l=!0)}function P(){typeof m=="function"&&m()===!1||t(0,l=!1)}function A(){return l}async function E(j){t(17,w=j),j?(_=document.activeElement,d("show"),p==null||p.focus()):(clearTimeout(k),d("hide"),_==null||_.focus()),await nn(),L()}function L(){p&&(l?t(6,p.style.zIndex=_l(),p):t(6,p.style="",p))}function q(){F.pushUnique(Lr,b),document.body.classList.add("overlay-active")}function W(){F.removeByValue(Lr,b),Lr.length||document.body.classList.remove("overlay-active")}function z(j){l&&f&&j.code=="Escape"&&!F.isInput(j.target)&&p&&p.style.zIndex==_l()&&(j.preventDefault(),P())}function B(j){l&&ne(g)}function ne(j,De){De&&t(8,T=""),!(!j||k)&&(k=setTimeout(()=>{if(clearTimeout(k),k=null,!j)return;if(j.scrollHeight-j.offsetHeight>0)t(8,T="scrollable");else{t(8,T="");return}j.scrollTop==0?t(8,T+=" scroll-top-reached"):j.scrollTop+j.offsetHeight==j.scrollHeight&&t(8,T+=" scroll-bottom-reached")},100))}At(()=>(yf().appendChild(p),()=>{var j;clearTimeout(k),W(),(j=p==null?void 0:p.classList)==null||j.add("hidden"),setTimeout(()=>{p==null||p.remove()},0)}));const Z=()=>a?P():!0;function te(j){le[j?"unshift":"push"](()=>{g=j,t(7,g)})}const U=j=>ne(j.target);function H(j){le[j?"unshift":"push"](()=>{p=j,t(6,p)})}return n.$$set=j=>{"class"in j&&t(1,s=j.class),"active"in j&&t(0,l=j.active),"popup"in j&&t(2,o=j.popup),"overlayClose"in j&&t(3,a=j.overlayClose),"btnClose"in j&&t(4,u=j.btnClose),"escClose"in j&&t(12,f=j.escClose),"beforeOpen"in j&&t(13,c=j.beforeOpen),"beforeHide"in j&&t(14,m=j.beforeHide),"$$scope"in j&&t(18,r=j.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&131073&&w!=l&&E(l),n.$$.dirty[0]&128&&ne(g,!0),n.$$.dirty[0]&64&&p&&L(),n.$$.dirty[0]&1&&(l?q():W())},[l,s,o,a,u,P,p,g,T,z,B,ne,f,c,m,I,A,w,r,i,Z,te,U,H]}class br extends ke{constructor(e){super(),we(this,e,Nm,Im,be,{class:1,active:0,popup:2,overlayClose:3,btnClose:4,escClose:12,beforeOpen:13,beforeHide:14,show:15,hide:5,isActive:16},null,[-1,-1])}get show(){return this.$$.ctx[15]}get hide(){return this.$$.ctx[5]}get isActive(){return this.$$.ctx[16]}}const _s=on({});function hi(n,e,t){_s.set({text:n,yesCallback:e,noCallback:t})}function wf(){_s.set({})}function Am(n){var r;let e,t=((r=n[1])==null?void 0:r.text)+"",i;return{c(){e=y("h4"),i=re(t),h(e,"class","block center txt-break"),h(e,"slot","header")},m(s,l){C(s,e,l),v(e,i)},p(s,l){var o;l&2&&t!==(t=((o=s[1])==null?void 0:o.text)+"")&&pe(i,t)},d(s){s&&S(e)}}}function Lm(n){let e,t,i,r,s,l,o;return{c(){e=y("button"),t=y("span"),t.textContent="No",i=R(),r=y("button"),s=y("span"),s.textContent="Yes",h(t,"class","txt"),e.autofocus=!0,h(e,"type","button"),h(e,"class","btn btn-transparent btn-expanded-sm"),e.disabled=n[2],h(s,"class","txt"),h(r,"type","button"),h(r,"class","btn btn-danger btn-expanded"),r.disabled=n[2],J(r,"btn-loading",n[2])},m(a,u){C(a,e,u),v(e,t),C(a,i,u),C(a,r,u),v(r,s),e.focus(),l||(o=[ee(e,"click",n[4]),ee(r,"click",n[5])],l=!0)},p(a,u){u&4&&(e.disabled=a[2]),u&4&&(r.disabled=a[2]),u&4&&J(r,"btn-loading",a[2])},d(a){a&&(S(e),S(i),S(r)),l=!1,Ce(o)}}}function Fm(n){let e,t,i={class:"confirm-popup hide-content overlay-panel-sm",overlayClose:!n[2],escClose:!n[2],btnClose:!1,popup:!0,$$slots:{footer:[Lm],header:[Am]},$$scope:{ctx:n}};return e=new br({props:i}),n[6](e),e.$on("hide",n[7]),{c(){$(e.$$.fragment)},m(r,s){Q(e,r,s),t=!0},p(r,[s]){const l={};s&4&&(l.overlayClose=!r[2]),s&4&&(l.escClose=!r[2]),s&271&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){n[6](null),X(e,r)}}}function Pm(n,e,t){let i;Xe(n,_s,c=>t(1,i=c));let r,s=!1,l=!1;const o=()=>{t(3,l=!1),r==null||r.hide()},a=async()=>{i!=null&&i.yesCallback&&(t(2,s=!0),await Promise.resolve(i.yesCallback()),t(2,s=!1)),t(3,l=!0),r==null||r.hide()};function u(c){le[c?"unshift":"push"](()=>{r=c,t(0,r)})}const f=async()=>{!l&&(i!=null&&i.noCallback)&&i.noCallback(),await nn(),t(3,l=!1),wf()};return n.$$.update=()=>{n.$$.dirty&3&&i!=null&&i.text&&(t(3,l=!1),r==null||r.show())},[r,i,s,l,o,a,u,f]}class Rm extends ke{constructor(e){super(),we(this,e,Pm,Fm,be,{})}}class It extends Error{constructor(e){var t,i,r,s;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,It.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof It||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(t=this.response)==null?void 0:t.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(s=(r=(i=this.originalError)==null?void 0:i.cause)==null?void 0:r.message)!=null&&s.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const Vi=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function qm(n,e){const t={};if(typeof n!="string")return t;const i=Object.assign({},e||{}).decode||jm;let r=0;for(;r<n.length;){const s=n.indexOf("=",r);if(s===-1)break;let l=n.indexOf(";",r);if(l===-1)l=n.length;else if(l<s){r=n.lastIndexOf(";",s-1)+1;continue}const o=n.slice(r,s).trim();if(t[o]===void 0){let a=n.slice(s+1,l).trim();a.charCodeAt(0)===34&&(a=a.slice(1,-1));try{t[o]=i(a)}catch{t[o]=a}}r=l+1}return t}function bl(n,e,t){const i=Object.assign({},t||{}),r=i.encode||Vm;if(!Vi.test(n))throw new TypeError("argument name is invalid");const s=r(e);if(s&&!Vi.test(s))throw new TypeError("argument val is invalid");let l=n+"="+s;if(i.maxAge!=null){const o=i.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(o)}if(i.domain){if(!Vi.test(i.domain))throw new TypeError("option domain is invalid");l+="; Domain="+i.domain}if(i.path){if(!Vi.test(i.path))throw new TypeError("option path is invalid");l+="; Path="+i.path}if(i.expires){if(!function(a){return Object.prototype.toString.call(a)==="[object Date]"||a instanceof Date}(i.expires)||isNaN(i.expires.valueOf()))throw new TypeError("option expires is invalid");l+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.priority)switch(typeof i.priority=="string"?i.priority.toLowerCase():i.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l}function jm(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function Vm(n){return encodeURIComponent(n)}let kf;function Gi(n){if(n)try{const e=decodeURIComponent(kf(n.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function vf(n,e=0){let t=Gi(n);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}kf=typeof atob=="function"?atob:n=>{let e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,i,r=0,s=0,l="";i=e.charAt(s++);~i&&(t=r%4?64*t+i:i,r++%4)?l+=String.fromCharCode(255&t>>(-2*r&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return l};const yl="pb_auth";class Wm{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!vf(this.token)}get isAdmin(){return Gi(this.token).type==="admin"}get isAuthRecord(){return Gi(this.token).type==="authRecord"}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=yl){const i=qm(e||"")[t]||"";let r={};try{r=JSON.parse(i),(typeof r===null||typeof r!="object"||Array.isArray(r))&&(r={})}catch{}this.save(r.token||"",r.model||null)}exportToCookie(e,t=yl){var a,u;const i={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},r=Gi(this.token);i.expires=r!=null&&r.exp?new Date(1e3*r.exp):new Date("1970-01-01"),e=Object.assign({},i,e);const s={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let l=bl(t,JSON.stringify(s),e);const o=typeof Blob<"u"?new Blob([l]).size:l.length;if(s.model&&o>4096){s.model={id:(a=s==null?void 0:s.model)==null?void 0:a.id,email:(u=s==null?void 0:s.model)==null?void 0:u.email};const f=["collectionId","username","verified"];for(const c in this.model)f.includes(c)&&(s.model[c]=this.model[c]);l=bl(t,JSON.stringify(s),e)}return l}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.model),()=>{for(let i=this._onChangeCallbacks.length-1;i>=0;i--)if(this._onChangeCallbacks[i]==e)return delete this._onChangeCallbacks[i],void this._onChangeCallbacks.splice(i,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.model)}}class Sf extends Wm{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(e,t){this._storageSet(this.storageKey,{token:e,model:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&(window!=null&&window.localStorage)){let i=t;typeof t!="string"&&(i=JSON.stringify(t)),window.localStorage.setItem(e,i)}else this.storageFallback[e]=t}_storageRemove(e){var t;typeof window<"u"&&(window!=null&&window.localStorage)&&((t=window.localStorage)==null||t.removeItem(e)),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.model||null)})}}class Ln{constructor(e){this.client=e}}class Hm extends Ln{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then(()=>!0)}async testEmail(e,t,i){return i=Object.assign({method:"POST",body:{email:e,template:t}},i),this.client.send("/api/settings/test/email",i).then(()=>!0)}async generateAppleClientSecret(e,t,i,r,s,l){return l=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:i,privateKey:r,duration:s}},l),this.client.send("/api/settings/apple/generate-client-secret",l)}}class bs extends Ln{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let i=500;return(t=Object.assign({},e,t)).batch&&(i=t.batch,delete t.batch),this._getFullList(i,t)}async getList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send(this.baseCrudPath,i).then(r=>{var s;return r.items=((s=r.items)==null?void 0:s.map(l=>this.decode(l)))||[],r})}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then(i=>{var r;if(!((r=i==null?void 0:i.items)!=null&&r.length))throw new It({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return i.items[0]})}async getOne(e,t){if(!e)throw new It({url:this.client.buildUrl(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(i=>this.decode(i))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then(i=>this.decode(i))}async update(e,t,i){return i=Object.assign({method:"PATCH",body:t},i),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),i).then(r=>this.decode(r))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(()=>!0)}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let i=[],r=async s=>this.getList(s,e||500,t).then(l=>{const o=l.items;return i=i.concat(o),o.length==l.perPage?r(s+1):i});return r(1)}}function jt(n,e,t,i){const r=i!==void 0;return r||t!==void 0?r?(console.warn(n),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,i),e):Object.assign(e,t):e}function Fr(n){var e;(e=n._resetAutoRefresh)==null||e.call(n)}class Um extends bs{get baseCrudPath(){return"/api/admins"}async update(e,t,i){return super.update(e,t,i).then(r=>{var s,l;return((s=this.client.authStore.model)==null?void 0:s.id)===r.id&&((l=this.client.authStore.model)==null?void 0:l.collectionId)===void 0&&this.client.authStore.save(this.client.authStore.token,r),r})}async delete(e,t){return super.delete(e,t).then(i=>{var r,s;return i&&((r=this.client.authStore.model)==null?void 0:r.id)===e&&((s=this.client.authStore.model)==null?void 0:s.collectionId)===void 0&&this.client.authStore.clear(),i})}authResponse(e){const t=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:t})}async authWithPassword(e,t,i,r){let s={method:"POST",body:{identity:e,password:t}};s=jt("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",s,i,r);const l=s.autoRefreshThreshold;delete s.autoRefreshThreshold,s.autoRefresh||Fr(this.client);let o=await this.client.send(this.baseCrudPath+"/auth-with-password",s);return o=this.authResponse(o),l&&function(u,f,c,m){Fr(u);const d=u.beforeSend,b=u.authStore.model,p=u.authStore.onChange((g,_)=>{(!g||(_==null?void 0:_.id)!=(b==null?void 0:b.id)||(_!=null&&_.collectionId||b!=null&&b.collectionId)&&(_==null?void 0:_.collectionId)!=(b==null?void 0:b.collectionId))&&Fr(u)});u._resetAutoRefresh=function(){p(),u.beforeSend=d,delete u._resetAutoRefresh},u.beforeSend=async(g,_)=>{var I;const k=u.authStore.token;if((I=_.query)!=null&&I.autoRefresh)return d?d(g,_):{url:g,sendOptions:_};let T=u.authStore.isValid;if(T&&vf(u.authStore.token,f))try{await c()}catch{T=!1}T||await m();const w=_.headers||{};for(let P in w)if(P.toLowerCase()=="authorization"&&k==w[P]&&u.authStore.token){w[P]=u.authStore.token;break}return _.headers=w,d?d(g,_):{url:g,sendOptions:_}}}(this.client,l,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},s))),o}async authRefresh(e,t){let i={method:"POST"};return i=jt("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",i,e,t),this.client.send(this.baseCrudPath+"/auth-refresh",i).then(this.authResponse.bind(this))}async requestPasswordReset(e,t,i){let r={method:"POST",body:{email:e}};return r=jt("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",r,t,i),this.client.send(this.baseCrudPath+"/request-password-reset",r).then(()=>!0)}async confirmPasswordReset(e,t,i,r,s){let l={method:"POST",body:{token:e,password:t,passwordConfirm:i}};return l=jt("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",l,r,s),this.client.send(this.baseCrudPath+"/confirm-password-reset",l).then(()=>!0)}}const zm=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function Cf(n){if(n){n.query=n.query||{};for(let e in n)zm.includes(e)||(n.query[e]=n[e],delete n[e])}}class Tf extends Ln{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,i){var l;if(!e)throw new Error("topic must be set.");let r=e;if(i){Cf(i);const o="options="+encodeURIComponent(JSON.stringify({query:i.query,headers:i.headers}));r+=(r.includes("?")?"&":"?")+o}const s=function(o){const a=o;let u;try{u=JSON.parse(a==null?void 0:a.data)}catch{}t(u||{})};return this.subscriptions[r]||(this.subscriptions[r]=[]),this.subscriptions[r].push(s),this.isConnected?this.subscriptions[r].length===1?await this.submitSubscriptions():(l=this.eventSource)==null||l.addEventListener(r,s):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,s)}async unsubscribe(e){var i;let t=!1;if(e){const r=this.getSubscriptionsByTopic(e);for(let s in r)if(this.hasSubscriptionListeners(s)){for(let l of this.subscriptions[s])(i=this.eventSource)==null||i.removeEventListener(s,l);delete this.subscriptions[s],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){var i;let t=!1;for(let r in this.subscriptions)if((r+"?").startsWith(e)){t=!0;for(let s of this.subscriptions[r])(i=this.eventSource)==null||i.removeEventListener(r,s);delete this.subscriptions[r]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){var s;let i=!1;const r=this.getSubscriptionsByTopic(e);for(let l in r){if(!Array.isArray(this.subscriptions[l])||!this.subscriptions[l].length)continue;let o=!1;for(let a=this.subscriptions[l].length-1;a>=0;a--)this.subscriptions[l][a]===t&&(o=!0,delete this.subscriptions[l][a],this.subscriptions[l].splice(a,1),(s=this.eventSource)==null||s.removeEventListener(l,t));o&&(this.subscriptions[l].length||delete this.subscriptions[l],i||this.hasSubscriptionListeners(l)||(i=!0))}this.hasSubscriptionListeners()?i&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){var t,i;if(this.subscriptions=this.subscriptions||{},e)return!!((t=this.subscriptions[e])!=null&&t.length);for(let r in this.subscriptions)if((i=this.subscriptions[r])!=null&&i.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(e=>{if(!(e!=null&&e.isAbort))throw e})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let i in this.subscriptions)(i+"?").startsWith(e)&&(t[i]=this.subscriptions[i]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",e=>{const t=e;this.clientId=t==null?void 0:t.lastEventId,this.submitSubscriptions().then(async()=>{let i=3;for(;this.hasUnsentSubscriptions()&&i>0;)i--,await this.submitSubscriptions()}).then(()=>{for(let r of this.pendingConnects)r.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const i=this.getSubscriptionsByTopic("PB_CONNECT");for(let r in i)for(let s of i[r])s(e)}).catch(i=>{this.clientId="",this.connectErrorHandler(i)})})}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let i of this.pendingConnects)i.reject(new It(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},t)}disconnect(e=!1){var t;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(t=this.eventSource)==null||t.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let i of this.pendingConnects)i.resolve();this.pendingConnects=[]}}}class Ym extends bs{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}async subscribe(e,t,i){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,i)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const i=Object.assign({},e,t);return super.getFullList(i)}async getList(e=1,t=30,i){return super.getList(e,t,i)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,i){return super.update(e,t,i).then(r=>{var s,l,o;return((s=this.client.authStore.model)==null?void 0:s.id)!==(r==null?void 0:r.id)||((l=this.client.authStore.model)==null?void 0:l.collectionId)!==this.collectionIdOrName&&((o=this.client.authStore.model)==null?void 0:o.collectionName)!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,r),r})}async delete(e,t){return super.delete(e,t).then(i=>{var r,s,l;return!i||((r=this.client.authStore.model)==null?void 0:r.id)!==e||((s=this.client.authStore.model)==null?void 0:s.collectionId)!==this.collectionIdOrName&&((l=this.client.authStore.model)==null?void 0:l.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),i})}authResponse(e){const t=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e).then(t=>Object.assign({},t,{usernamePassword:!!(t!=null&&t.usernamePassword),emailPassword:!!(t!=null&&t.emailPassword),authProviders:Array.isArray(t==null?void 0:t.authProviders)?t==null?void 0:t.authProviders:[]}))}async authWithPassword(e,t,i,r){let s={method:"POST",body:{identity:e,password:t}};return s=jt("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",s,i,r),this.client.send(this.baseCollectionPath+"/auth-with-password",s).then(l=>this.authResponse(l))}async authWithOAuth2Code(e,t,i,r,s,l,o){let a={method:"POST",body:{provider:e,code:t,codeVerifier:i,redirectUrl:r,createData:s}};return a=jt("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",a,l,o),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",a).then(u=>this.authResponse(u))}async authWithOAuth2(...e){if(e.length>1||typeof(e==null?void 0:e[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{});const t=(e==null?void 0:e[0])||{},i=(await this.listAuthMethods()).authProviders.find(a=>a.name===t.provider);if(!i)throw new It(new Error(`Missing or invalid provider "${t.provider}".`));const r=this.client.buildUrl("/api/oauth2-redirect"),s=new Tf(this.client);let l=null;function o(){l==null||l.close(),s.unsubscribe()}return t.urlCallback||(l=wl(void 0)),new Promise(async(a,u)=>{var f;try{await s.subscribe("@oauth2",async b=>{const p=s.clientId;try{if(!b.state||p!==b.state)throw new Error("State parameters don't match.");const g=Object.assign({},t);delete g.provider,delete g.scopes,delete g.createData,delete g.urlCallback;const _=await this.authWithOAuth2Code(i.name,b.code,i.codeVerifier,r,t.createData,g);a(_)}catch(g){u(new It(g))}o()});const c={state:s.clientId};(f=t.scopes)!=null&&f.length&&(c.scope=t.scopes.join(" "));const m=this._replaceQueryParams(i.authUrl+r,c);await(t.urlCallback||function(b){l?l.location.href=b:l=wl(b)})(m)}catch(c){o(),u(new It(c))}})}async authRefresh(e,t){let i={method:"POST"};return i=jt("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",i,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",i).then(r=>this.authResponse(r))}async requestPasswordReset(e,t,i){let r={method:"POST",body:{email:e}};return r=jt("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-password-reset",r).then(()=>!0)}async confirmPasswordReset(e,t,i,r,s){let l={method:"POST",body:{token:e,password:t,passwordConfirm:i}};return l=jt("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",l,r,s),this.client.send(this.baseCollectionPath+"/confirm-password-reset",l).then(()=>!0)}async requestVerification(e,t,i){let r={method:"POST",body:{email:e}};return r=jt("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-verification",r).then(()=>!0)}async confirmVerification(e,t,i){let r={method:"POST",body:{token:e}};return r=jt("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/confirm-verification",r).then(()=>!0)}async requestEmailChange(e,t,i){let r={method:"POST",body:{newEmail:e}};return r=jt("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-email-change",r).then(()=>!0)}async confirmEmailChange(e,t,i,r){let s={method:"POST",body:{token:e,password:t}};return s=jt("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",s,i,r),this.client.send(this.baseCollectionPath+"/confirm-email-change",s).then(()=>!0)}async listExternalAuths(e,t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",t)}async unlinkExternalAuth(e,t,i){return i=Object.assign({method:"DELETE"},i),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(t),i).then(()=>!0)}_replaceQueryParams(e,t={}){let i=e,r="";e.indexOf("?")>=0&&(i=e.substring(0,e.indexOf("?")),r=e.substring(e.indexOf("?")+1));const s={},l=r.split("&");for(const o of l){if(o=="")continue;const a=o.split("=");s[decodeURIComponent(a[0].replace(/\+/g," "))]=decodeURIComponent((a[1]||"").replace(/\+/g," "))}for(let o in t)t.hasOwnProperty(o)&&(t[o]==null?delete s[o]:s[o]=t[o]);r="";for(let o in s)s.hasOwnProperty(o)&&(r!=""&&(r+="&"),r+=encodeURIComponent(o.replace(/%20/g,"+"))+"="+encodeURIComponent(s[o].replace(/%20/g,"+")));return r!=""?i+"?"+r:i}}function wl(n){if(typeof window>"u"||!(window!=null&&window.open))throw new It(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,i=window.innerWidth,r=window.innerHeight;e=e>i?i:e,t=t>r?r:t;let s=i/2-e/2,l=r/2-t/2;return window.open(n,"popup_window","width="+e+",height="+t+",top="+l+",left="+s+",resizable,menubar=no")}class Bm extends bs{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,i){return i=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},i),this.client.send(this.baseCrudPath+"/import",i).then(()=>!0)}}class Km extends Ln{async getList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send("/api/logs",i)}async getOne(e,t){if(!e)throw new It({url:this.client.buildUrl("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class Zm extends Ln{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class Jm extends Ln{getUrl(e,t,i={}){if(!t||!(e!=null&&e.id)||!(e!=null&&e.collectionId)&&!(e!=null&&e.collectionName))return"";const r=[];r.push("api"),r.push("files"),r.push(encodeURIComponent(e.collectionId||e.collectionName)),r.push(encodeURIComponent(e.id)),r.push(encodeURIComponent(t));let s=this.client.buildUrl(r.join("/"));if(Object.keys(i).length){i.download===!1&&delete i.download;const l=new URLSearchParams(i);s+=(s.includes("?")?"&":"?")+l}return s}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then(t=>(t==null?void 0:t.token)||"")}}class Gm extends Ln{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then(()=>!0)}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then(()=>!0)}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then(()=>!0)}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then(()=>!0)}getDownloadUrl(e,t){return this.client.buildUrl(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class ys{constructor(e="/",t,i="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=i,this.authStore=t||new Sf,this.admins=new Um(this),this.collections=new Bm(this),this.files=new Jm(this),this.logs=new Km(this),this.settings=new Hm(this),this.realtime=new Tf(this),this.health=new Zm(this),this.backups=new Gm(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new Ym(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let i in t){let r=t[i];switch(typeof r){case"boolean":case"number":r=""+r;break;case"string":r="'"+r.replace(/'/g,"\\'")+"'";break;default:r=r===null?"null":r instanceof Date?"'"+r.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(r).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+i+"}",r)}return e}getFileUrl(e,t,i={}){return this.files.getUrl(e,t,i)}buildUrl(e){var i;let t=this.baseUrl;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=(i=window.location.origin)!=null&&i.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseUrl),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let i=this.buildUrl(e);if(this.beforeSend){const r=Object.assign({},await this.beforeSend(i,t));r.url!==void 0||r.options!==void 0?(i=r.url||i,t=r.options||t):Object.keys(r).length&&(t=r,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const r=this.serializeQueryParams(t.query);r&&(i+=(i.includes("?")?"&":"?")+r),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(i,t).then(async r=>{let s={};try{s=await r.json()}catch{}if(this.afterSend&&(s=await this.afterSend(r,s)),r.status>=400)throw new It({url:r.url,status:r.status,data:s});return s}).catch(r=>{throw new It(r)})}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=this.convertToFormDataIfNeeded(t.body),Cf(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||this.isFormData(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const i=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(i);const r=new AbortController;this.cancelControllers[i]=r,t.signal=r.signal}return t}convertToFormDataIfNeeded(e){if(typeof FormData>"u"||e===void 0||typeof e!="object"||e===null||this.isFormData(e)||!this.hasBlobField(e))return e;const t=new FormData;for(let i in e){const r=this.normalizeFormDataValue(e[i]),s=Array.isArray(r)?r:[r];if(s.length)for(const l of s)t.append(i,l);else t.append(i,"")}return t}normalizeFormDataValue(e){return e===null||typeof e!="object"||e instanceof Date||this.hasBlobField({data:e})||Array.isArray(e)&&!e.filter(t=>typeof t!="string").length?e:JSON.stringify(e)}hasBlobField(e){for(let t in e){const i=Array.isArray(e[t])?e[t]:[e[t]];for(let r of i)if(typeof Blob<"u"&&r instanceof Blob||typeof File<"u"&&r instanceof File)return!0}return!1}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let i in e)if(i.toLowerCase()==t)return e[i];return null}isFormData(e){return e&&(e.constructor.name==="FormData"||typeof FormData<"u"&&e instanceof FormData)}serializeQueryParams(e){const t=[];for(const i in e){if(e[i]===null)continue;const r=e[i],s=encodeURIComponent(i);if(Array.isArray(r))for(const l of r)t.push(s+"="+encodeURIComponent(l));else r instanceof Date?t.push(s+"="+encodeURIComponent(r.toISOString())):typeof r!==null&&typeof r=="object"?t.push(s+"="+encodeURIComponent(JSON.stringify(r))):t.push(s+"="+encodeURIComponent(r))}return t.join("&")}}const Df=on({});function Gr(n){Df.set(n||{})}const yr=on([]);function Qr(n,e=3e3){return Of(n,"success",e)}function ws(n,e=4500){return Of(n,"error",e)}function Of(n,e,t){t=t||4e3;const i={message:n,type:e,duration:t,timeout:setTimeout(()=>{Ef(i)},t)};yr.update(r=>(ks(r,i.message),F.pushOrReplaceByKey(r,i,"message"),r))}function Ef(n){yr.update(e=>(ks(e,n),e))}function Qm(){yr.update(n=>{for(let e of n)ks(n,e);return[]})}function ks(n,e){let t;typeof e=="string"?t=F.findByKey(n,"message",e):t=e,t&&(clearTimeout(t.timeout),F.removeByKey(n,"message",t.message))}var Xm={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};ys.prototype.logout=function(n=!0){this.authStore.clear(),n&&Ti("/login")};ys.prototype.error=function(n,e=!0,t=""){if(!n||!(n instanceof Error)||n.isAbort)return;const i=(n==null?void 0:n.status)<<0||400,r=(n==null?void 0:n.data)||{},s=r.message||n.message||t;if(e&&s&&ws(s),F.isEmpty(r.data)||setErrors(r.data),i===401)return this.cancelAllRequests(),this.logout();if(i===403)return this.cancelAllRequests(),Ti("/")};class $m extends Sf{save(e,t){super.save(e,t),t&&Gr(t)}clear(){super.clear(),Gr(null)}}const Ae=new ys(Xm.PB_BACKEND_URL,new $m("pcms_user_auth"));Ae.authStore.model&&Gr(Ae.authStore.model);function xm(n,{from:e,to:t},i={}){const r=getComputedStyle(n),s=r.transform==="none"?"":r.transform,[l,o]=r.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*l/t.width-(t.left+l),u=e.top+e.height*o/t.height-(t.top+o),{delay:f=0,duration:c=d=>Math.sqrt(d)*120,easing:m=dr}=i;return{delay:f,duration:ot(c)?c(Math.sqrt(a*a+u*u)):c,easing:m,css:(d,b)=>{const p=b*a,g=b*u,_=d+b*e.width/t.width,k=d+b*e.height/t.height;return`transform: ${s} translate(${p}px, ${g}px) scale(${_}, ${k});`}}}function kl(n,e,t){const i=n.slice();return i[2]=e[t],i}function eh(n){let e;return{c(){e=y("i"),h(e,"class","ri-alert-line")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function th(n){let e;return{c(){e=y("i"),h(e,"class","ri-error-warning-line")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function nh(n){let e;return{c(){e=y("i"),h(e,"class","ri-checkbox-circle-line")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function ih(n){let e;return{c(){e=y("i"),h(e,"class","ri-information-line")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function vl(n,e){let t,i,r,s,l=e[2].message+"",o,a,u,f,c,m,d,b=G,p,g,_;function k(P,A){return P[2].type==="info"?ih:P[2].type==="success"?nh:P[2].type==="warning"?th:eh}let T=k(e),w=T(e);function I(){return e[1](e[2])}return{key:n,first:null,c(){t=y("div"),i=y("div"),w.c(),r=R(),s=y("div"),o=re(l),a=R(),u=y("button"),u.innerHTML='<i class="ri-close-line"></i>',f=R(),h(i,"class","icon"),h(s,"class","content"),h(u,"type","button"),h(u,"class","close"),h(t,"class","alert txt-break"),J(t,"alert-info",e[2].type=="info"),J(t,"alert-success",e[2].type=="success"),J(t,"alert-danger",e[2].type=="error"),J(t,"alert-warning",e[2].type=="warning"),this.first=t},m(P,A){C(P,t,A),v(t,i),w.m(i,null),v(t,r),v(t,s),v(s,o),v(t,a),v(t,u),v(t,f),p=!0,g||(_=ee(u,"click",$e(I)),g=!0)},p(P,A){e=P,T!==(T=k(e))&&(w.d(1),w=T(e),w&&(w.c(),w.m(i,null))),(!p||A&1)&&l!==(l=e[2].message+"")&&pe(o,l),(!p||A&1)&&J(t,"alert-info",e[2].type=="info"),(!p||A&1)&&J(t,"alert-success",e[2].type=="success"),(!p||A&1)&&J(t,"alert-danger",e[2].type=="error"),(!p||A&1)&&J(t,"alert-warning",e[2].type=="warning")},r(){d=t.getBoundingClientRect()},f(){cc(t),b(),au(t,d)},a(){b(),b=fc(t,d,xm,{duration:150})},i(P){p||(P&&_t(()=>{p&&(m&&m.end(1),c=mu(t,Xn,{duration:150}),c.start())}),p=!0)},o(P){c&&c.invalidate(),P&&(m=ls(t,yi,{duration:150})),p=!1},d(P){P&&S(t),w.d(),P&&m&&m.end(),g=!1,_()}}}function rh(n){let e,t=[],i=new Map,r,s=ye(n[0]);const l=o=>o[2].message;for(let o=0;o<s.length;o+=1){let a=kl(n,s,o),u=l(a);i.set(u,t[o]=vl(u,a))}return{c(){e=y("div");for(let o=0;o<t.length;o+=1)t[o].c();h(e,"class","toasts-wrapper")},m(o,a){C(o,e,a);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);r=!0},p(o,[a]){if(a&1){s=ye(o[0]),ae();for(let u=0;u<t.length;u+=1)t[u].r();t=bt(t,a,l,1,o,s,i,e,pc,vl,null,kl);for(let u=0;u<t.length;u+=1)t[u].a();ue()}},i(o){if(!r){for(let a=0;a<s.length;a+=1)O(t[a]);r=!0}},o(o){for(let a=0;a<t.length;a+=1)N(t[a]);r=!1},d(o){o&&S(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function sh(n,e,t){let i;return Xe(n,yr,s=>t(0,i=s)),[i,s=>Ef(s)]}class lh extends ke{constructor(e){super(),we(this,e,sh,rh,be,{})}}function Sl(n){let e,t,i;const r=n[18].default,s=ct(r,n,n[17],null);return{c(){e=y("div"),s&&s.c(),h(e,"class",n[1]),J(e,"active",n[0])},m(l,o){C(l,e,o),s&&s.m(e,null),n[19](e),i=!0},p(l,o){s&&s.p&&(!i||o[0]&131072)&&mt(s,r,l,l[17],i?dt(r,l[17],o,null):ht(l[17]),null),(!i||o[0]&2)&&h(e,"class",l[1]),(!i||o[0]&3)&&J(e,"active",l[0])},i(l){i||(O(s,l),l&&_t(()=>{i&&(t||(t=pt(e,ln,{duration:150,y:3},!0)),t.run(1))}),i=!0)},o(l){N(s,l),l&&(t||(t=pt(e,ln,{duration:150,y:3},!1)),t.run(0)),i=!1},d(l){l&&S(e),s&&s.d(l),n[19](null),l&&t&&t.end()}}}function oh(n){let e,t,i,r,s=n[0]&&Sl(n);return{c(){e=y("div"),s&&s.c(),h(e,"class","toggler-container"),h(e,"tabindex","-1"),h(e,"role","menu")},m(l,o){C(l,e,o),s&&s.m(e,null),n[20](e),t=!0,i||(r=[ee(window,"click",n[7]),ee(window,"mousedown",n[6]),ee(window,"keydown",n[5]),ee(window,"focusin",n[4])],i=!0)},p(l,o){l[0]?s?(s.p(l,o),o[0]&1&&O(s,1)):(s=Sl(l),s.c(),O(s,1),s.m(e,null)):s&&(ae(),N(s,1,1,()=>{s=null}),ue())},i(l){t||(O(s),t=!0)},o(l){N(s),t=!1},d(l){l&&S(e),s&&s.d(),n[20](null),i=!1,Ce(r)}}}function ah(n,e,t){let{$$slots:i={},$$scope:r}=e,{trigger:s=void 0}=e,{active:l=!1}=e,{escClose:o=!0}=e,{autoScroll:a=!0}=e,{closableClass:u="closable"}=e,{class:f=""}=e,c,m,d,b,p,g=!1;const _=St();function k(j=0){l&&(clearTimeout(p),p=setTimeout(T,j))}function T(){l&&(t(0,l=!1),g=!1,clearTimeout(b),clearTimeout(p))}function w(){clearTimeout(p),clearTimeout(b),!l&&(t(0,l=!0),d!=null&&d.contains(c)||c==null||c.focus(),b=setTimeout(()=>{a&&(m!=null&&m.scrollIntoViewIfNeeded?m==null||m.scrollIntoViewIfNeeded():m!=null&&m.scrollIntoView&&(m==null||m.scrollIntoView({behavior:"smooth",block:"nearest"})))},180))}function I(){l?T():w()}function P(j){return!c||j.classList.contains(u)||c.contains(j)&&j.closest&&j.closest("."+u)}function A(j){E(),c==null||c.addEventListener("click",L),c==null||c.addEventListener("keydown",q),t(16,d=j||(c==null?void 0:c.parentNode)),d==null||d.addEventListener("click",W),d==null||d.addEventListener("keydown",z)}function E(){clearTimeout(b),clearTimeout(p),c==null||c.removeEventListener("click",L),c==null||c.removeEventListener("keydown",q),d==null||d.removeEventListener("click",W),d==null||d.removeEventListener("keydown",z)}function L(j){j.stopPropagation(),P(j.target)&&T()}function q(j){(j.code==="Enter"||j.code==="Space")&&(j.stopPropagation(),P(j.target)&&k(150))}function W(j){j.preventDefault(),j.stopPropagation(),I()}function z(j){(j.code==="Enter"||j.code==="Space")&&(j.preventDefault(),j.stopPropagation(),I())}function B(j){l&&!(d!=null&&d.contains(j.target))&&!(c!=null&&c.contains(j.target))&&I()}function ne(j){l&&o&&j.code==="Escape"&&(j.preventDefault(),T())}function Z(j){l&&(g=!(c!=null&&c.contains(j.target)))}function te(j){var De;l&&g&&!(c!=null&&c.contains(j.target))&&!(d!=null&&d.contains(j.target))&&!((De=j.target)!=null&&De.closest(".flatpickr-calendar"))&&T()}At(()=>(A(),()=>E()));function U(j){le[j?"unshift":"push"](()=>{m=j,t(3,m)})}function H(j){le[j?"unshift":"push"](()=>{c=j,t(2,c)})}return n.$$set=j=>{"trigger"in j&&t(8,s=j.trigger),"active"in j&&t(0,l=j.active),"escClose"in j&&t(9,o=j.escClose),"autoScroll"in j&&t(10,a=j.autoScroll),"closableClass"in j&&t(11,u=j.closableClass),"class"in j&&t(1,f=j.class),"$$scope"in j&&t(17,r=j.$$scope)},n.$$.update=()=>{var j,De;n.$$.dirty[0]&260&&c&&A(s),n.$$.dirty[0]&65537&&(l?((j=d==null?void 0:d.classList)==null||j.add("active"),d==null||d.setAttribute("aria-expanded",!0),_("show")):((De=d==null?void 0:d.classList)==null||De.remove("active"),d==null||d.setAttribute("aria-expanded",!1),_("hide")))},[l,f,c,m,B,ne,Z,te,s,o,a,u,k,T,w,I,d,r,i,U,H]}class Ii extends ke{constructor(e){super(),we(this,e,ah,oh,be,{trigger:8,active:0,escClose:9,autoScroll:10,closableClass:11,class:1,hideWithDelay:12,hide:13,show:14,toggle:15},null,[-1,-1])}get hideWithDelay(){return this.$$.ctx[12]}get hide(){return this.$$.ctx[13]}get show(){return this.$$.ctx[14]}get toggle(){return this.$$.ctx[15]}}let Xr,On;const $r="app-tooltip";function Cl(n){return typeof n=="string"?{text:n,position:"bottom",hideOnClick:null}:n||{}}function wn(){return On=On||document.querySelector("."+$r),On||(On=document.createElement("div"),On.classList.add($r),document.body.appendChild(On)),On}function Mf(n,e){let t=wn();if(!t.classList.contains("active")||!(e!=null&&e.text)){xr();return}t.textContent=e.text,t.className=$r+" active",e.class&&t.classList.add(e.class),e.position&&t.classList.add(e.position),t.style.top="0px",t.style.left="0px";let i=t.offsetHeight,r=t.offsetWidth,s=n.getBoundingClientRect(),l=0,o=0,a=5;e.position=="left"?(l=s.top+s.height/2-i/2,o=s.left-r-a):e.position=="right"?(l=s.top+s.height/2-i/2,o=s.right+a):e.position=="top"?(l=s.top-i-a,o=s.left+s.width/2-r/2):e.position=="top-left"?(l=s.top-i-a,o=s.left):e.position=="top-right"?(l=s.top-i-a,o=s.right-r):e.position=="bottom-left"?(l=s.top+s.height+a,o=s.left):e.position=="bottom-right"?(l=s.top+s.height+a,o=s.right-r):(l=s.top+s.height+a,o=s.left+s.width/2-r/2),o+r>document.documentElement.clientWidth&&(o=document.documentElement.clientWidth-r),o=o>=0?o:0,l+i>document.documentElement.clientHeight&&(l=document.documentElement.clientHeight-i),l=l>=0?l:0,t.style.top=l+"px",t.style.left=o+"px"}function xr(){clearTimeout(Xr),wn().classList.remove("active"),wn().activeNode=void 0}function uh(n,e){wn().activeNode=n,clearTimeout(Xr),Xr=setTimeout(()=>{wn().classList.add("active"),Mf(n,e)},isNaN(e.delay)?0:e.delay)}function Ze(n,e){let t=Cl(e);function i(){uh(n,t)}function r(){xr()}return n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",r),n.addEventListener("blur",r),(t.hideOnClick===!0||t.hideOnClick===null&&F.isFocusable(n))&&n.addEventListener("click",r),wn(),{update(s){var l,o;t=Cl(s),(o=(l=wn())==null?void 0:l.activeNode)!=null&&o.contains(n)&&Mf(n,t)},destroy(){var s,l;(l=(s=wn())==null?void 0:s.activeNode)!=null&&l.contains(n)&&xr(),n.removeEventListener("mouseenter",i),n.removeEventListener("mouseleave",r),n.removeEventListener("blur",r),n.removeEventListener("click",r)}}}const vs=on({});function Qi(n){vs.set(n||{})}function es(n){vs.update(e=>(F.deleteByPath(e,n),e))}function Wi(n){if(!n)throw Error("Parameter args is required");if(!n.component==!n.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(n.component&&(n.asyncComponent=()=>Promise.resolve(n.component)),typeof n.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(n.conditions){Array.isArray(n.conditions)||(n.conditions=[n.conditions]);for(let t=0;t<n.conditions.length;t++)if(!n.conditions[t]||typeof n.conditions[t]!="function")throw Error("Invalid parameter conditions["+t+"]")}return n.loadingComponent&&(n.asyncComponent.loading=n.loadingComponent,n.asyncComponent.loadingParams=n.loadingParams||void 0),{component:n.asyncComponent,userData:n.userData,conditions:n.conditions&&n.conditions.length?n.conditions:void 0,props:n.props&&Object.keys(n.props).length?n.props:{},_sveltesparouter:!0}}var fh={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function ch(n){let e;return{c(){e=y("p"),e.textContent="index page"},m(t,i){C(t,e,i)},p:G,i:G,o:G,d(t){t&&S(e)}}}function dh(n){e();function e(){if(new URLSearchParams(window.location.search).has(fh.PB_INSTALLER_PARAM)){Ae.logout(!1);return}Ae.authStore.isValid?Ti("/collections"):Ae.logout()}return[]}class mh extends ke{constructor(e){super(),we(this,e,dh,ch,be,{})}}const dn=on([]),fn=on({}),ki=on(!1);let Tl;typeof BroadcastChannel<"u"&&(Tl=new BroadcastChannel("collections"),Tl.onmessage=()=>{var n;Ss((n=ec(fn))==null?void 0:n.id)});function hh(n){dn.update(e=>{const t=F.findByKey(e,"id",n);return t?fn.set(t):e.length&&fn.set(e[0]),e})}async function Ss(n=null){ki.set(!0);try{let e=await Ae.collection("pcms__collections").getFullList(200,{sort:"+name"});e=F.sortCollections(e),dn.set(e);const t=n&&F.findByKey(e,"id",n);t?fn.set(t):e.length&&fn.set(e[0])}catch(e){Ae.error(e)}ki.set(!1)}const Dl=on(""),ph=n=>({}),Ol=n=>({});function gh(n){let e,t,i,r,s,l,o,a,u,f,c,m;const d=n[3].default,b=ct(d,n,n[2],null),p=n[3].footer,g=ct(p,n,n[2],Ol);return{c(){e=y("div"),t=y("main"),b&&b.c(),i=R(),r=y("footer"),g&&g.c(),s=R(),l=y("a"),l.innerHTML='<i class="ri-book-open-line txt-sm"></i> <span class="txt">TODO</span>',o=R(),a=y("span"),a.textContent="|",u=R(),f=y("a"),f.innerHTML='<span class="txt">TODO</span>',h(t,"class","page-content"),h(l,"href","/"),h(l,"target","_blank"),h(l,"rel","noopener noreferrer"),h(a,"class","delimiter"),h(f,"href","/"),h(f,"target","_blank"),h(f,"rel","noopener noreferrer"),h(f,"title","Releases"),h(r,"class","page-footer"),h(e,"class",c="page-wrapper "+n[1]),J(e,"center-content",n[0])},m(_,k){C(_,e,k),v(e,t),b&&b.m(t,null),v(e,i),v(e,r),g&&g.m(r,null),v(r,s),v(r,l),v(r,o),v(r,a),v(r,u),v(r,f),m=!0},p(_,[k]){b&&b.p&&(!m||k&4)&&mt(b,d,_,_[2],m?dt(d,_[2],k,null):ht(_[2]),null),g&&g.p&&(!m||k&4)&&mt(g,p,_,_[2],m?dt(p,_[2],k,ph):ht(_[2]),Ol),(!m||k&2&&c!==(c="page-wrapper "+_[1]))&&h(e,"class",c),(!m||k&3)&&J(e,"center-content",_[0])},i(_){m||(O(b,_),O(g,_),m=!0)},o(_){N(b,_),N(g,_),m=!1},d(_){_&&S(e),b&&b.d(_),g&&g.d(_)}}}function _h(n,e,t){let{$$slots:i={},$$scope:r}=e,{center:s=!1}=e,{class:l=""}=e;return n.$$set=o=>{"center"in o&&t(0,s=o.center),"class"in o&&t(1,l=o.class),"$$scope"in o&&t(2,r=o.$$scope)},[s,l,r,i]}class Fn extends ke{constructor(e){super(),we(this,e,_h,gh,be,{center:0,class:1})}}function bh(n){let e,t,i;return{c(){e=y("span"),h(e,"class","dragline svelte-1g2t3dj"),J(e,"dragging",n[1])},m(r,s){C(r,e,s),n[4](e),t||(i=[ee(e,"mousedown",n[5]),ee(e,"touchstart",n[2])],t=!0)},p(r,[s]){s&2&&J(e,"dragging",r[1])},i:G,o:G,d(r){r&&S(e),n[4](null),t=!1,Ce(i)}}}function yh(n,e,t){const i=St();let{tolerance:r=0}=e,s,l=0,o=0,a=0,u=0,f=!1;function c(g){g.stopPropagation(),l=g.clientX,o=g.clientY,a=g.clientX-s.offsetLeft,u=g.clientY-s.offsetTop,document.addEventListener("touchmove",d),document.addEventListener("mousemove",d),document.addEventListener("touchend",m),document.addEventListener("mouseup",m)}function m(g){f&&(g.preventDefault(),t(1,f=!1),s.classList.remove("no-pointer-events"),i("dragstop",{event:g,elem:s})),document.removeEventListener("touchmove",d),document.removeEventListener("mousemove",d),document.removeEventListener("touchend",m),document.removeEventListener("mouseup",m)}function d(g){let _=g.clientX-l,k=g.clientY-o,T=g.clientX-a,w=g.clientY-u;!f&&Math.abs(T-s.offsetLeft)<r&&Math.abs(w-s.offsetTop)<r||(g.preventDefault(),f||(t(1,f=!0),s.classList.add("no-pointer-events"),i("dragstart",{event:g,elem:s})),i("dragging",{event:g,elem:s,diffX:_,diffY:k}))}function b(g){le[g?"unshift":"push"](()=>{s=g,t(0,s)})}const p=g=>{g.button==0&&c(g)};return n.$$set=g=>{"tolerance"in g&&t(3,r=g.tolerance)},[s,f,c,r,b,p]}class wh extends ke{constructor(e){super(),we(this,e,yh,bh,be,{tolerance:3})}}function kh(n){let e,t,i,r,s;const l=n[5].default,o=ct(l,n,n[4],null);return r=new wh({}),r.$on("dragstart",n[7]),r.$on("dragging",n[8]),r.$on("dragstop",n[9]),{c(){e=y("aside"),o&&o.c(),i=R(),$(r.$$.fragment),h(e,"class",t="page-sidebar "+n[0])},m(a,u){C(a,e,u),o&&o.m(e,null),n[6](e),C(a,i,u),Q(r,a,u),s=!0},p(a,[u]){o&&o.p&&(!s||u&16)&&mt(o,l,a,a[4],s?dt(l,a[4],u,null):ht(a[4]),null),(!s||u&1&&t!==(t="page-sidebar "+a[0]))&&h(e,"class",t)},i(a){s||(O(o,a),O(r.$$.fragment,a),s=!0)},o(a){N(o,a),N(r.$$.fragment,a),s=!1},d(a){a&&(S(e),S(i)),o&&o.d(a),n[6](null),X(r,a)}}}const El="@adminSidebarWidth";function vh(n,e,t){let{$$slots:i={},$$scope:r}=e,{class:s=""}=e,l,o,a=localStorage.getItem(El)||null;function u(d){le[d?"unshift":"push"](()=>{l=d,t(1,l),t(2,a)})}const f=()=>{t(3,o=l.offsetWidth)},c=d=>{t(2,a=o+d.detail.diffX+"px")},m=()=>{F.triggerResize()};return n.$$set=d=>{"class"in d&&t(0,s=d.class),"$$scope"in d&&t(4,r=d.$$scope)},n.$$.update=()=>{n.$$.dirty&6&&a&&l&&(t(1,l.style.width=a,l),localStorage.setItem(El,a))},[s,l,a,o,r,i,u,f,c,m]}class Sh extends ke{constructor(e){super(),we(this,e,vh,kh,be,{class:0})}}function Ch(n){let e;return{c(){e=y("i"),h(e,"class","ri-pushpin-line m-l-auto svelte-1u3ag8h")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Th(n){let e;return{c(){e=y("i"),h(e,"class","ri-unpin-line svelte-1u3ag8h")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Dh(n){let e,t,i,r,s,l=n[0].name.replace("pcms_","")+"",o,a,u,f,c,m,d,b;function p(k,T){return k[1]?Th:Ch}let g=p(n),_=g(n);return{c(){var k;e=y("a"),t=y("i"),r=R(),s=y("span"),o=re(l),a=R(),u=y("span"),_.c(),h(t,"class",i=kn(F.getCollectionTypeIcon(n[0].type))+" svelte-1u3ag8h"),h(t,"aria-hidden","true"),h(s,"class","txt m-r-auto"),h(u,"class","btn btn-xs btn-circle btn-hint btn-transparent pin-collection svelte-1u3ag8h"),h(u,"aria-label","Pin collection"),h(u,"aria-hidden","true"),h(e,"href",c="/collections?collectionId="+n[0].id),h(e,"class","sidebar-list-item svelte-1u3ag8h"),h(e,"title",m=n[0].name),J(e,"active",((k=n[2])==null?void 0:k.id)===n[0].id)},m(k,T){C(k,e,T),v(e,t),v(e,r),v(e,s),v(s,o),v(e,a),v(e,u),_.m(u,null),d||(b=[He(f=Ze.call(null,u,{position:"right",text:(n[1]?"Unpin":"Pin")+" collection"})),ee(u,"click",Qt($e(n[5]))),He(Bi.call(null,e))],d=!0)},p(k,[T]){var w;T&1&&i!==(i=kn(F.getCollectionTypeIcon(k[0].type))+" svelte-1u3ag8h")&&h(t,"class",i),T&1&&l!==(l=k[0].name.replace("pcms_","")+"")&&pe(o,l),g!==(g=p(k))&&(_.d(1),_=g(k),_&&(_.c(),_.m(u,null))),f&&ot(f.update)&&T&2&&f.update.call(null,{position:"right",text:(k[1]?"Unpin":"Pin")+" collection"}),T&1&&c!==(c="/collections?collectionId="+k[0].id)&&h(e,"href",c),T&1&&m!==(m=k[0].name)&&h(e,"title",m),T&5&&J(e,"active",((w=k[2])==null?void 0:w.id)===k[0].id)},i:G,o:G,d(k){k&&S(e),_.d(),d=!1,Ce(b)}}}function Oh(n,e,t){let i,r;Xe(n,fn,u=>t(2,r=u));let{collection:s}=e,{pinnedIds:l}=e;function o(u){l.includes(u.id)?F.removeByValue(l,u.id):l.push(u.id),t(4,l)}const a=()=>o(s);return n.$$set=u=>{"collection"in u&&t(0,s=u.collection),"pinnedIds"in u&&t(4,l=u.pinnedIds)},n.$$.update=()=>{n.$$.dirty&17&&t(1,i=l.includes(s.id))},[s,i,r,o,l,a]}class If extends ke{constructor(e){super(),we(this,e,Oh,Dh,be,{collection:0,pinnedIds:4})}}function Ml(n,e,t){const i=n.slice();return i[18]=e[t],i}function Il(n,e,t){const i=n.slice();return i[18]=e[t],i}function Nl(n){let e,t,i=[],r=new Map,s,l,o=ye(n[5]);const a=u=>u[18].id;for(let u=0;u<o.length;u+=1){let f=Il(n,o,u),c=a(f);r.set(c,i[u]=Al(c,f))}return{c(){e=y("div"),e.textContent="Pinned",t=R();for(let u=0;u<i.length;u+=1)i[u].c();s=ge(),h(e,"class","sidebar-title")},m(u,f){C(u,e,f),C(u,t,f);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(u,f);C(u,s,f),l=!0},p(u,f){f&34&&(o=ye(u[5]),ae(),i=bt(i,f,a,1,u,o,r,s.parentNode,Nt,Al,s,Il),ue())},i(u){if(!l){for(let f=0;f<o.length;f+=1)O(i[f]);l=!0}},o(u){for(let f=0;f<i.length;f+=1)N(i[f]);l=!1},d(u){u&&(S(e),S(t),S(s));for(let f=0;f<i.length;f+=1)i[f].d(u)}}}function Al(n,e){let t,i,r,s;function l(a){e[11](a)}let o={collection:e[18]};return e[1]!==void 0&&(o.pinnedIds=e[1]),i=new If({props:o}),le.push(()=>Le(i,"pinnedIds",l)),{key:n,first:null,c(){t=ge(),$(i.$$.fragment),this.first=t},m(a,u){C(a,t,u),Q(i,a,u),s=!0},p(a,u){e=a;const f={};u&32&&(f.collection=e[18]),!r&&u&2&&(r=!0,f.pinnedIds=e[1],Pe(()=>r=!1)),i.$set(f)},i(a){s||(O(i.$$.fragment,a),s=!0)},o(a){N(i.$$.fragment,a),s=!1},d(a){a&&S(t),X(i,a)}}}function Ll(n){let e,t=[],i=new Map,r,s,l=n[5].length&&Fl(),o=ye(n[4]);const a=u=>u[18].id;for(let u=0;u<o.length;u+=1){let f=Ml(n,o,u),c=a(f);i.set(c,t[u]=Pl(c,f))}return{c(){l&&l.c(),e=R();for(let u=0;u<t.length;u+=1)t[u].c();r=ge()},m(u,f){l&&l.m(u,f),C(u,e,f);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(u,f);C(u,r,f),s=!0},p(u,f){u[5].length?l||(l=Fl(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&18&&(o=ye(u[4]),ae(),t=bt(t,f,a,1,u,o,i,r.parentNode,Nt,Pl,r,Ml),ue())},i(u){if(!s){for(let f=0;f<o.length;f+=1)O(t[f]);s=!0}},o(u){for(let f=0;f<t.length;f+=1)N(t[f]);s=!1},d(u){u&&(S(e),S(r)),l&&l.d(u);for(let f=0;f<t.length;f+=1)t[f].d(u)}}}function Fl(n){let e;return{c(){e=y("div"),e.textContent="Others",h(e,"class","sidebar-title")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Pl(n,e){let t,i,r,s;function l(a){e[12](a)}let o={collection:e[18]};return e[1]!==void 0&&(o.pinnedIds=e[1]),i=new If({props:o}),le.push(()=>Le(i,"pinnedIds",l)),{key:n,first:null,c(){t=ge(),$(i.$$.fragment),this.first=t},m(a,u){C(a,t,u),Q(i,a,u),s=!0},p(a,u){e=a;const f={};u&16&&(f.collection=e[18]),!r&&u&2&&(r=!0,f.pinnedIds=e[1],Pe(()=>r=!1)),i.$set(f)},i(a){s||(O(i.$$.fragment,a),s=!0)},o(a){N(i.$$.fragment,a),s=!1},d(a){a&&S(t),X(i,a)}}}function Rl(n){let e;return{c(){e=y("p"),e.textContent="No collections found.",h(e,"class","txt-hint m-t-10 m-b-10 txt-center")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Eh(n){let e,t,i,r,s,l,o,a,u,f,c,m,d,b,p,g=n[5].length&&Nl(n),_=n[4].length&&Ll(n),k=n[3].length&&!n[2].length&&Rl();return{c(){e=y("header"),t=y("div"),i=y("div"),r=y("button"),r.innerHTML='<i class="ri-close-line"></i>',s=R(),l=y("input"),o=R(),a=y("hr"),u=R(),f=y("div"),g&&g.c(),c=R(),_&&_.c(),m=R(),k&&k.c(),h(r,"type","button"),h(r,"class","btn btn-xs btn-transparent btn-circle btn-clear"),J(r,"hidden",!n[6]),h(i,"class","form-field-addon"),h(l,"type","text"),h(l,"placeholder","Search collections..."),h(l,"name","collections-search"),h(t,"class","form-field search"),J(t,"active",n[6]),h(e,"class","sidebar-header"),h(a,"class","m-t-5 m-b-xs"),h(f,"class","sidebar-content"),J(f,"fade",n[7]),J(f,"sidebar-content-compact",n[2].length>20)},m(T,w){C(T,e,w),v(e,t),v(t,i),v(i,r),v(t,s),v(t,l),Be(l,n[0]),C(T,o,w),C(T,a,w),C(T,u,w),C(T,f,w),g&&g.m(f,null),v(f,c),_&&_.m(f,null),v(f,m),k&&k.m(f,null),d=!0,b||(p=[ee(r,"click",n[9]),ee(l,"input",n[10])],b=!0)},p(T,w){(!d||w&64)&&J(r,"hidden",!T[6]),w&1&&l.value!==T[0]&&Be(l,T[0]),(!d||w&64)&&J(t,"active",T[6]),T[5].length?g?(g.p(T,w),w&32&&O(g,1)):(g=Nl(T),g.c(),O(g,1),g.m(f,c)):g&&(ae(),N(g,1,1,()=>{g=null}),ue()),T[4].length?_?(_.p(T,w),w&16&&O(_,1)):(_=Ll(T),_.c(),O(_,1),_.m(f,m)):_&&(ae(),N(_,1,1,()=>{_=null}),ue()),T[3].length&&!T[2].length?k||(k=Rl(),k.c(),k.m(f,null)):k&&(k.d(1),k=null),(!d||w&128)&&J(f,"fade",T[7]),(!d||w&4)&&J(f,"sidebar-content-compact",T[2].length>20)},i(T){d||(O(g),O(_),d=!0)},o(T){N(g),N(_),d=!1},d(T){T&&(S(e),S(o),S(a),S(u),S(f)),g&&g.d(),_&&_.d(),k&&k.d(),b=!1,Ce(p)}}}function Mh(n){let e,t;return e=new Sh({props:{class:"collection-sidebar",$$slots:{default:[Eh]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const s={};r&8388863&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}const ql="@pinnedCollections";function Ih(){setTimeout(()=>{const n=document.querySelector(".collection-sidebar .sidebar-list-item.active");n&&(n==null||n.scrollIntoView({block:"nearest"}))},0)}function Nh(n,e,t){let i,r,s,l,o,a,u;Xe(n,dn,k=>t(8,a=k)),Xe(n,fn,k=>t(13,k)),Xe(n,ki,k=>t(7,u=k));let f="",c=[];m();function m(){t(1,c=[]);try{const k=localStorage.getItem(ql);k&&t(1,c=JSON.parse(k)||[])}catch{}}function d(){t(1,c=c.filter(k=>!!a.find(T=>T.id==k)))}const b=()=>t(0,f="");function p(){f=this.value,t(0,f)}function g(k){c=k,t(1,c)}function _(k){c=k,t(1,c)}return n.$$.update=()=>{n.$$.dirty&256&&a&&(d(),Ih()),n.$$.dirty&1&&t(3,i=f.replace(/\s+/g,"").toLowerCase()),n.$$.dirty&1&&t(6,r=f!==""),n.$$.dirty&2&&c&&localStorage.setItem(ql,JSON.stringify(c)),n.$$.dirty&265&&t(2,s=a.filter(k=>k.id==f||k.name.replace(/\s+/g,"").toLowerCase().includes(i))),n.$$.dirty&6&&t(5,l=s.filter(k=>c.includes(k.id))),n.$$.dirty&6&&t(4,o=s.filter(k=>!c.includes(k.id)))},[f,c,s,i,o,l,r,u,a,b,p,g,_]}class Nf extends ke{constructor(e){super(),we(this,e,Nh,Mh,be,{})}}function Ah(n){let e,t,i,r,s;const l=n[6].default,o=ct(l,n,n[5],null);return{c(){e=y("th"),o&&o.c(),h(e,"tabindex","0"),h(e,"title",n[2]),h(e,"class",t="col-sort "+n[1]),J(e,"col-sort-disabled",n[3]),J(e,"sort-active",n[0]==="-"+n[2]||n[0]==="+"+n[2]),J(e,"sort-desc",n[0]==="-"+n[2]),J(e,"sort-asc",n[0]==="+"+n[2])},m(a,u){C(a,e,u),o&&o.m(e,null),i=!0,r||(s=[ee(e,"click",n[7]),ee(e,"keydown",n[8])],r=!0)},p(a,[u]){o&&o.p&&(!i||u&32)&&mt(o,l,a,a[5],i?dt(l,a[5],u,null):ht(a[5]),null),(!i||u&4)&&h(e,"title",a[2]),(!i||u&2&&t!==(t="col-sort "+a[1]))&&h(e,"class",t),(!i||u&10)&&J(e,"col-sort-disabled",a[3]),(!i||u&7)&&J(e,"sort-active",a[0]==="-"+a[2]||a[0]==="+"+a[2]),(!i||u&7)&&J(e,"sort-desc",a[0]==="-"+a[2]),(!i||u&7)&&J(e,"sort-asc",a[0]==="+"+a[2])},i(a){i||(O(o,a),i=!0)},o(a){N(o,a),i=!1},d(a){a&&S(e),o&&o.d(a),r=!1,Ce(s)}}}function Lh(n,e,t){let{$$slots:i={},$$scope:r}=e,{class:s=""}=e,{name:l}=e,{sort:o=""}=e,{disable:a=!1}=e;function u(){a||("-"+l===o?t(0,o="+"+l):t(0,o="-"+l))}const f=()=>u(),c=m=>{(m.code==="Enter"||m.code==="Space")&&(m.preventDefault(),u())};return n.$$set=m=>{"class"in m&&t(1,s=m.class),"name"in m&&t(2,l=m.name),"sort"in m&&t(0,o=m.sort),"disable"in m&&t(3,a=m.disable),"$$scope"in m&&t(5,r=m.$$scope)},[o,s,l,a,u,r,i,f,c]}class ii extends ke{constructor(e){super(),we(this,e,Lh,Ah,be,{class:1,name:2,sort:0,disable:3})}}function jl(n,e,t){const i=n.slice();return i[12]=e[t],i}const Fh=n=>({}),Vl=n=>({uniqueId:n[4]});function Ph(n){let e,t,i=ye(n[3]),r=[];for(let l=0;l<i.length;l+=1)r[l]=Wl(jl(n,i,l));const s=l=>N(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=ge()},m(l,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(l,o);C(l,e,o),t=!0},p(l,o){if(o&8){i=ye(l[3]);let a;for(a=0;a<i.length;a+=1){const u=jl(l,i,a);r[a]?(r[a].p(u,o),O(r[a],1)):(r[a]=Wl(u),r[a].c(),O(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=i.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<i.length;o+=1)O(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)N(r[o]);t=!1},d(l){l&&S(e),cn(r,l)}}}function Rh(n){let e,t,i,r,s,l,o;return{c(){e=y("div"),t=y("i"),h(t,"class","ri-error-warning-fill txt-danger"),h(e,"class","form-field-addon inline-error-icon")},m(a,u){C(a,e,u),v(e,t),s=!0,l||(o=He(i=Ze.call(null,t,{position:"left",text:n[3].map(sr).join(`
`)})),l=!0)},p(a,u){i&&ot(i.update)&&u&8&&i.update.call(null,{position:"left",text:a[3].map(sr).join(`
`)})},i(a){s||(a&&_t(()=>{s&&(r||(r=pt(t,Ps,{duration:150,start:.7},!0)),r.run(1))}),s=!0)},o(a){a&&(r||(r=pt(t,Ps,{duration:150,start:.7},!1)),r.run(0)),s=!1},d(a){a&&S(e),a&&r&&r.end(),l=!1,o()}}}function Wl(n){let e,t,i=sr(n[12])+"",r,s,l,o;return{c(){e=y("div"),t=y("pre"),r=re(i),s=R(),h(e,"class","help-block help-block-error")},m(a,u){C(a,e,u),v(e,t),v(t,r),v(e,s),o=!0},p(a,u){(!o||u&8)&&i!==(i=sr(a[12])+"")&&pe(r,i)},i(a){o||(a&&_t(()=>{o&&(l||(l=pt(e,Xn,{duration:150},!0)),l.run(1))}),o=!0)},o(a){a&&(l||(l=pt(e,Xn,{duration:150},!1)),l.run(0)),o=!1},d(a){a&&S(e),a&&l&&l.end()}}}function qh(n){let e,t,i,r,s,l,o;const a=n[9].default,u=ct(a,n,n[8],Vl),f=[Rh,Ph],c=[];function m(d,b){return d[0]&&d[3].length?0:1}return i=m(n),r=c[i]=f[i](n),{c(){e=y("div"),u&&u.c(),t=R(),r.c(),h(e,"class",n[1]),J(e,"error",n[3].length)},m(d,b){C(d,e,b),u&&u.m(e,null),v(e,t),c[i].m(e,null),n[11](e),s=!0,l||(o=ee(e,"click",n[10]),l=!0)},p(d,[b]){u&&u.p&&(!s||b&256)&&mt(u,a,d,d[8],s?dt(a,d[8],b,Fh):ht(d[8]),Vl);let p=i;i=m(d),i===p?c[i].p(d,b):(ae(),N(c[p],1,1,()=>{c[p]=null}),ue(),r=c[i],r?r.p(d,b):(r=c[i]=f[i](d),r.c()),O(r,1),r.m(e,null)),(!s||b&2)&&h(e,"class",d[1]),(!s||b&10)&&J(e,"error",d[3].length)},i(d){s||(O(u,d),O(r),s=!0)},o(d){N(u,d),N(r),s=!1},d(d){d&&S(e),u&&u.d(d),c[i].d(),n[11](null),l=!1,o()}}}const Hl="Invalid value";function sr(n){return typeof n=="object"?(n==null?void 0:n.message)||(n==null?void 0:n.code)||Hl:n||Hl}function jh(n,e,t){let i;Xe(n,vs,p=>t(7,i=p));let{$$slots:r={},$$scope:s}=e;const l="field_"+F.randomString(7);let{name:o=""}=e,{inlineError:a=!1}=e,{class:u=void 0}=e,f,c=[];function m(){es(o)}At(()=>(f.addEventListener("input",m),f.addEventListener("change",m),()=>{f.removeEventListener("input",m),f.removeEventListener("change",m)}));function d(p){vt.call(this,n,p)}function b(p){le[p?"unshift":"push"](()=>{f=p,t(2,f)})}return n.$$set=p=>{"name"in p&&t(5,o=p.name),"inlineError"in p&&t(0,a=p.inlineError),"class"in p&&t(1,u=p.class),"$$scope"in p&&t(8,s=p.$$scope)},n.$$.update=()=>{n.$$.dirty&160&&t(3,c=F.toArray(F.getNestedVal(i,o)))},[a,u,f,c,l,o,m,i,s,r,d,b]}class et extends ke{constructor(e){super(),we(this,e,jh,qh,be,{name:5,inlineError:0,class:1,changed:6})}get changed(){return this.$$.ctx[6]}}function Vh(n){let e,t,i,r,s;return{c(){e=y("i"),h(e,"tabindex","-1"),h(e,"role","button"),h(e,"class",t=n[3]?n[2]:n[1]),h(e,"aria-label","Copy to clipboard")},m(l,o){C(l,e,o),r||(s=[He(i=Ze.call(null,e,n[3]?void 0:n[0])),ee(e,"click",Qt(n[4]))],r=!0)},p(l,[o]){o&14&&t!==(t=l[3]?l[2]:l[1])&&h(e,"class",t),i&&ot(i.update)&&o&9&&i.update.call(null,l[3]?void 0:l[0])},i:G,o:G,d(l){l&&S(e),r=!1,Ce(s)}}}function Wh(n,e,t){let{value:i=""}=e,{tooltip:r="Copy"}=e,{idleClasses:s="ri-file-copy-line txt-sm link-hint"}=e,{successClasses:l="ri-check-line txt-sm txt-success"}=e,{successDuration:o=500}=e,a;function u(){i&&(F.copyToClipboard(i),clearTimeout(a),t(3,a=setTimeout(()=>{clearTimeout(a),t(3,a=null)},o)))}return At(()=>()=>{a&&clearTimeout(a)}),n.$$set=f=>{"value"in f&&t(5,i=f.value),"tooltip"in f&&t(0,r=f.tooltip),"idleClasses"in f&&t(1,s=f.idleClasses),"successClasses"in f&&t(2,l=f.successClasses),"successDuration"in f&&t(6,o=f.successDuration)},[r,s,l,a,u,i,o]}class Cs extends ke{constructor(e){super(),we(this,e,Wh,Vh,be,{value:5,tooltip:0,idleClasses:1,successClasses:2,successDuration:6})}}function Hh(n){let e;return{c(){e=y("span"),e.textContent="N/A",h(e,"class","txt txt-hint")},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function Uh(n){let e,t,i,r,s,l,o,a,u;return{c(){e=y("div"),t=y("div"),i=re(n[2]),r=R(),s=y("div"),l=re(n[1]),o=re(" UTC"),h(t,"class","date"),h(s,"class","time svelte-5pjd03"),h(e,"class","datetime svelte-5pjd03")},m(f,c){C(f,e,c),v(e,t),v(t,i),v(e,r),v(e,s),v(s,l),v(s,o),a||(u=He(Ze.call(null,e,n[3])),a=!0)},p(f,c){c&4&&pe(i,f[2]),c&2&&pe(l,f[1])},d(f){f&&S(e),a=!1,u()}}}function zh(n){let e;function t(s,l){return s[0]?Uh:Hh}let i=t(n),r=i(n);return{c(){r.c(),e=ge()},m(s,l){r.m(s,l),C(s,e,l)},p(s,[l]){i===(i=t(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(e.parentNode,e)))},i:G,o:G,d(s){s&&S(e),r.d(s)}}}function Yh(n,e,t){let i,r,{date:s=""}=e;const l={get text(){return F.formatToLocalDate(s)+" Local"}};return n.$$set=o=>{"date"in o&&t(0,s=o.date)},n.$$.update=()=>{n.$$.dirty&1&&t(2,i=s?s.substring(0,10):null),n.$$.dirty&1&&t(1,r=s?s.substring(10,19):null)},[s,r,i,l]}class Ts extends ke{constructor(e){super(),we(this,e,Yh,zh,be,{date:0})}}const Bh=n=>({}),Ul=n=>({}),Kh=n=>({}),zl=n=>({});function Zh(n){let e,t,i,r,s,l,o,a;const u=n[11].before,f=ct(u,n,n[10],zl),c=n[11].default,m=ct(c,n,n[10],null),d=n[11].after,b=ct(d,n,n[10],Ul);return{c(){e=y("div"),f&&f.c(),t=R(),i=y("div"),m&&m.c(),s=R(),b&&b.c(),h(i,"class",r="scroller "+n[0]+" "+n[3]+" svelte-3a0gfs"),h(e,"class","scroller-wrapper svelte-3a0gfs")},m(p,g){C(p,e,g),f&&f.m(e,null),v(e,t),v(e,i),m&&m.m(i,null),n[12](i),v(e,s),b&&b.m(e,null),l=!0,o||(a=[ee(window,"resize",n[1]),ee(i,"scroll",n[1])],o=!0)},p(p,[g]){f&&f.p&&(!l||g&1024)&&mt(f,u,p,p[10],l?dt(u,p[10],g,Kh):ht(p[10]),zl),m&&m.p&&(!l||g&1024)&&mt(m,c,p,p[10],l?dt(c,p[10],g,null):ht(p[10]),null),(!l||g&9&&r!==(r="scroller "+p[0]+" "+p[3]+" svelte-3a0gfs"))&&h(i,"class",r),b&&b.p&&(!l||g&1024)&&mt(b,d,p,p[10],l?dt(d,p[10],g,Bh):ht(p[10]),Ul)},i(p){l||(O(f,p),O(m,p),O(b,p),l=!0)},o(p){N(f,p),N(m,p),N(b,p),l=!1},d(p){p&&S(e),f&&f.d(p),m&&m.d(p),n[12](null),b&&b.d(p),o=!1,Ce(a)}}}function Jh(n,e,t){let{$$slots:i={},$$scope:r}=e;const s=St();let{class:l=""}=e,{vThreshold:o=0}=e,{hThreshold:a=0}=e,{dispatchOnNoScroll:u=!0}=e,f=null,c="",m=null,d,b,p,g,_;function k(){f&&t(2,f.scrollTop=0,f)}function T(){f&&t(2,f.scrollLeft=0,f)}function w(){f&&(t(3,c=""),p=f.clientWidth+2,g=f.clientHeight+2,d=f.scrollWidth-p,b=f.scrollHeight-g,b>0?(t(3,c+=" v-scroll"),o>=g&&t(4,o=0),f.scrollTop-o<=0&&(t(3,c+=" v-scroll-start"),s("vScrollStart")),f.scrollTop+o>=b&&(t(3,c+=" v-scroll-end"),s("vScrollEnd"))):u&&s("vScrollEnd"),d>0?(t(3,c+=" h-scroll"),a>=p&&t(5,a=0),f.scrollLeft-a<=0&&(t(3,c+=" h-scroll-start"),s("hScrollStart")),f.scrollLeft+a>=d&&(t(3,c+=" h-scroll-end"),s("hScrollEnd"))):u&&s("hScrollEnd"))}function I(){m||(m=setTimeout(()=>{w(),m=null},150))}At(()=>(I(),_=new MutationObserver(I),_.observe(f,{attributeFilter:["width","height"],childList:!0,subtree:!0}),()=>{_==null||_.disconnect(),clearTimeout(m)}));function P(A){le[A?"unshift":"push"](()=>{f=A,t(2,f)})}return n.$$set=A=>{"class"in A&&t(0,l=A.class),"vThreshold"in A&&t(4,o=A.vThreshold),"hThreshold"in A&&t(5,a=A.hThreshold),"dispatchOnNoScroll"in A&&t(6,u=A.dispatchOnNoScroll),"$$scope"in A&&t(10,r=A.$$scope)},[l,I,f,c,o,a,u,k,T,w,r,i,P]}class Af extends ke{constructor(e){super(),we(this,e,Jh,Zh,be,{class:0,vThreshold:4,hThreshold:5,dispatchOnNoScroll:6,resetVerticalScroll:7,resetHorizontalScroll:8,refresh:9,throttleRefresh:1})}get resetVerticalScroll(){return this.$$.ctx[7]}get resetHorizontalScroll(){return this.$$.ctx[8]}get refresh(){return this.$$.ctx[9]}get throttleRefresh(){return this.$$.ctx[1]}}function Yl(n){let e;function t(s,l){return s[4]==="image"?Qh:Gh}let i=t(n),r=i(n);return{c(){r.c(),e=ge()},m(s,l){r.m(s,l),C(s,e,l)},p(s,l){i===(i=t(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){s&&S(e),r.d(s)}}}function Gh(n){let e,t;return{c(){e=y("object"),t=re("Cannot preview the file."),h(e,"title",n[2]),h(e,"data",n[1])},m(i,r){C(i,e,r),v(e,t)},p(i,r){r&4&&h(e,"title",i[2]),r&2&&h(e,"data",i[1])},d(i){i&&S(e)}}}function Qh(n){let e,t,i;return{c(){e=y("img"),rn(e.src,t=n[1])||h(e,"src",t),h(e,"alt",i="Preview "+n[2])},m(r,s){C(r,e,s)},p(r,s){s&2&&!rn(e.src,t=r[1])&&h(e,"src",t),s&4&&i!==(i="Preview "+r[2])&&h(e,"alt",i)},d(r){r&&S(e)}}}function Xh(n){var r;let e=(r=n[3])==null?void 0:r.isActive(),t,i=e&&Yl(n);return{c(){i&&i.c(),t=ge()},m(s,l){i&&i.m(s,l),C(s,t,l)},p(s,l){var o;l&8&&(e=(o=s[3])==null?void 0:o.isActive()),e?i?i.p(s,l):(i=Yl(s),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(s){s&&S(t),i&&i.d(s)}}}function $h(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<i class="ri-close-line"></i>',h(e,"type","button"),h(e,"class","overlay-close")},m(r,s){C(r,e,s),t||(i=ee(e,"click",$e(n[0])),t=!0)},p:G,d(r){r&&S(e),t=!1,i()}}}function xh(n){let e,t,i,r,s,l,o,a,u,f;return{c(){e=y("a"),t=re(n[2]),i=R(),r=y("i"),s=R(),l=y("div"),o=R(),a=y("button"),a.textContent="Close",h(r,"class","ri-external-link-line"),h(e,"href",n[1]),h(e,"title",n[2]),h(e,"target","_blank"),h(e,"rel","noreferrer noopener"),h(e,"class","link-hint txt-ellipsis inline-flex"),h(l,"class","flex-fill"),h(a,"type","button"),h(a,"class","btn btn-transparent")},m(c,m){C(c,e,m),v(e,t),v(e,i),v(e,r),C(c,s,m),C(c,l,m),C(c,o,m),C(c,a,m),u||(f=ee(a,"click",n[0]),u=!0)},p(c,m){m&4&&pe(t,c[2]),m&2&&h(e,"href",c[1]),m&4&&h(e,"title",c[2])},d(c){c&&(S(e),S(s),S(l),S(o),S(a)),u=!1,f()}}}function ep(n){let e,t,i={class:"preview preview-"+n[4],btnClose:!1,popup:!0,$$slots:{footer:[xh],header:[$h],default:[Xh]},$$scope:{ctx:n}};return e=new br({props:i}),n[7](e),e.$on("show",n[8]),e.$on("hide",n[9]),{c(){$(e.$$.fragment)},m(r,s){Q(e,r,s),t=!0},p(r,[s]){const l={};s&16&&(l.class="preview preview-"+r[4]),s&1054&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){n[7](null),X(e,r)}}}function tp(n,e,t){let i,r,s,l,o="";function a(d){d!==""&&(t(1,o=d),l==null||l.show())}function u(){return l==null?void 0:l.hide()}function f(d){le[d?"unshift":"push"](()=>{l=d,t(3,l)})}function c(d){vt.call(this,n,d)}function m(d){vt.call(this,n,d)}return n.$$.update=()=>{n.$$.dirty&2&&t(6,i=o.indexOf("?")),n.$$.dirty&66&&t(2,r=o.substring(o.lastIndexOf("/")+1,i>0?i:void 0)),n.$$.dirty&4&&t(4,s=F.getFileType(r))},[u,o,r,l,s,a,i,f,c,m]}class np extends ke{constructor(e){super(),we(this,e,tp,ep,be,{show:5,hide:0})}get show(){return this.$$.ctx[5]}get hide(){return this.$$.ctx[0]}}function ip(n){let e,t,i,r,s;function l(u,f){return u[3]==="image"?op:u[3]==="video"||u[3]==="audio"?lp:sp}let o=l(n),a=o(n);return{c(){e=y("a"),a.c(),h(e,"draggable",!1),h(e,"class",t="thumb "+(n[1]?`thumb-${n[1]}`:"")),h(e,"href",n[6]),h(e,"target","_blank"),h(e,"rel","noreferrer"),h(e,"title",i=(n[7]?"Preview":"Download")+" "+n[0])},m(u,f){C(u,e,f),a.m(e,null),r||(s=ee(e,"click",Qt(n[11])),r=!0)},p(u,f){o===(o=l(u))&&a?a.p(u,f):(a.d(1),a=o(u),a&&(a.c(),a.m(e,null))),f&2&&t!==(t="thumb "+(u[1]?`thumb-${u[1]}`:""))&&h(e,"class",t),f&64&&h(e,"href",u[6]),f&129&&i!==(i=(u[7]?"Preview":"Download")+" "+u[0])&&h(e,"title",i)},d(u){u&&S(e),a.d(),r=!1,s()}}}function rp(n){let e,t;return{c(){e=y("div"),h(e,"class",t="thumb "+(n[1]?`thumb-${n[1]}`:""))},m(i,r){C(i,e,r)},p(i,r){r&2&&t!==(t="thumb "+(i[1]?`thumb-${i[1]}`:""))&&h(e,"class",t)},d(i){i&&S(e)}}}function sp(n){let e;return{c(){e=y("i"),h(e,"class","ri-file-3-line")},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function lp(n){let e;return{c(){e=y("i"),h(e,"class","ri-video-line")},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function op(n){let e,t,i,r,s;return{c(){e=y("img"),h(e,"draggable",!1),h(e,"loading","lazy"),rn(e.src,t=n[5])||h(e,"src",t),h(e,"alt",n[0]),h(e,"title",i="Preview "+n[0])},m(l,o){C(l,e,o),r||(s=ee(e,"error",n[8]),r=!0)},p(l,o){o&32&&!rn(e.src,t=l[5])&&h(e,"src",t),o&1&&h(e,"alt",l[0]),o&1&&i!==(i="Preview "+l[0])&&h(e,"title",i)},d(l){l&&S(e),r=!1,s()}}}function Bl(n){let e,t,i={};return e=new np({props:i}),n[12](e),{c(){$(e.$$.fragment)},m(r,s){Q(e,r,s),t=!0},p(r,s){const l={};e.$set(l)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){n[12](null),X(e,r)}}}function ap(n){let e,t,i;function r(a,u){return a[2]?rp:ip}let s=r(n),l=s(n),o=n[7]&&Bl(n);return{c(){l.c(),e=R(),o&&o.c(),t=ge()},m(a,u){l.m(a,u),C(a,e,u),o&&o.m(a,u),C(a,t,u),i=!0},p(a,[u]){s===(s=r(a))&&l?l.p(a,u):(l.d(1),l=s(a),l&&(l.c(),l.m(e.parentNode,e))),a[7]?o?(o.p(a,u),u&128&&O(o,1)):(o=Bl(a),o.c(),O(o,1),o.m(t.parentNode,t)):o&&(ae(),N(o,1,1,()=>{o=null}),ue())},i(a){i||(O(o),i=!0)},o(a){N(o),i=!1},d(a){a&&(S(e),S(t)),l.d(a),o&&o.d(a)}}}function up(n,e,t){let i,r,{record:s=null}=e,{filename:l=""}=e,{size:o=""}=e,a,u="",f="",c="",m=!0;d();async function d(){t(2,m=!0);try{t(10,c=await Ae.getAdminFileToken(s.collectionId))}catch(_){console.warn("File token failure:",_)}t(2,m=!1)}function b(){t(5,u="")}const p=_=>{r&&(_.preventDefault(),a==null||a.show(f))};function g(_){le[_?"unshift":"push"](()=>{a=_,t(4,a)})}return n.$$set=_=>{"record"in _&&t(9,s=_.record),"filename"in _&&t(0,l=_.filename),"size"in _&&t(1,o=_.size)},n.$$.update=()=>{n.$$.dirty&1&&t(3,i=F.getFileType(l)),n.$$.dirty&9&&t(7,r=["image","audio","video"].includes(i)||l.endsWith(".pdf")),n.$$.dirty&1541&&t(6,f=m?"":Ae.files.getUrl(s,l,{token:c})),n.$$.dirty&1541&&t(5,u=m?"":Ae.files.getUrl(s,l,{thumb:"100x100",token:c}))},[l,o,m,i,a,u,f,r,b,s,c,p,g]}class Ds extends ke{constructor(e){super(),we(this,e,up,ap,be,{record:9,filename:0,size:1})}}function Kl(n,e,t){const i=n.slice();i[6]=e[t];const r=F.toArray(i[0][i[6]]).slice(0,5);return i[7]=r,i}function Zl(n,e,t){const i=n.slice();return i[10]=e[t],i}function Jl(n){let e,t;return e=new Ds({props:{record:n[0],filename:n[10],size:"xs"}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const s={};r&1&&(s.record=i[0]),r&3&&(s.filename=i[10]),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function Gl(n){let e=!F.isEmpty(n[10]),t,i,r=e&&Jl(n);return{c(){r&&r.c(),t=ge()},m(s,l){r&&r.m(s,l),C(s,t,l),i=!0},p(s,l){l&3&&(e=!F.isEmpty(s[10])),e?r?(r.p(s,l),l&3&&O(r,1)):(r=Jl(s),r.c(),O(r,1),r.m(t.parentNode,t)):r&&(ae(),N(r,1,1,()=>{r=null}),ue())},i(s){i||(O(r),i=!0)},o(s){N(r),i=!1},d(s){s&&S(t),r&&r.d(s)}}}function Ql(n){let e,t,i=ye(n[7]),r=[];for(let l=0;l<i.length;l+=1)r[l]=Gl(Zl(n,i,l));const s=l=>N(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=ge()},m(l,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(l,o);C(l,e,o),t=!0},p(l,o){if(o&3){i=ye(l[7]);let a;for(a=0;a<i.length;a+=1){const u=Zl(l,i,a);r[a]?(r[a].p(u,o),O(r[a],1)):(r[a]=Gl(u),r[a].c(),O(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=i.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<i.length;o+=1)O(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)N(r[o]);t=!1},d(l){l&&S(e),cn(r,l)}}}function fp(n){let e,t,i,r,s,l,o=F.truncate(F.displayValue(n[0],n[2]),70)+"",a,u,f,c,m=ye(n[1]),d=[];for(let p=0;p<m.length;p+=1)d[p]=Ql(Kl(n,m,p));const b=p=>N(d[p],1,1,()=>{d[p]=null});return{c(){e=y("div"),t=y("i"),r=R();for(let p=0;p<d.length;p+=1)d[p].c();s=R(),l=y("span"),a=re(o),h(t,"class","link-hint txt-sm ri-information-line"),h(l,"class","txt txt-ellipsis"),h(e,"class","record-info svelte-q8liga")},m(p,g){C(p,e,g),v(e,t),v(e,r);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(e,null);v(e,s),v(e,l),v(l,a),u=!0,f||(c=He(i=Ze.call(null,t,{text:F.truncate(JSON.stringify(F.truncateObject(n[0]),null,2),800,!0),class:"code",position:"left"})),f=!0)},p(p,[g]){if(i&&ot(i.update)&&g&1&&i.update.call(null,{text:F.truncate(JSON.stringify(F.truncateObject(p[0]),null,2),800,!0),class:"code",position:"left"}),g&3){m=ye(p[1]);let _;for(_=0;_<m.length;_+=1){const k=Kl(p,m,_);d[_]?(d[_].p(k,g),O(d[_],1)):(d[_]=Ql(k),d[_].c(),O(d[_],1),d[_].m(e,s))}for(ae(),_=m.length;_<d.length;_+=1)b(_);ue()}(!u||g&5)&&o!==(o=F.truncate(F.displayValue(p[0],p[2]),70)+"")&&pe(a,o)},i(p){if(!u){for(let g=0;g<m.length;g+=1)O(d[g]);u=!0}},o(p){d=d.filter(Boolean);for(let g=0;g<d.length;g+=1)N(d[g]);u=!1},d(p){p&&S(e),cn(d,p),f=!1,c()}}}function cp(n,e,t){let i,r;Xe(n,dn,u=>t(4,r=u));let{record:s}=e,l=[],o=[];function a(){const u=(i==null?void 0:i.schema)||[];if(t(1,l=u.filter(f=>f.presentable&&f.type=="file").map(f=>f.name)),t(2,o=u.filter(f=>f.presentable&&f.type!="file").map(f=>f.name)),!l.length&&!o.length){const f=u.find(c=>{var m,d,b;return c.type=="file"&&((m=c.options)==null?void 0:m.maxSelect)==1&&((b=(d=c.options)==null?void 0:d.mimeTypes)==null?void 0:b.find(p=>p.startsWith("image/")))});f&&l.push(f.name)}}return n.$$set=u=>{"record"in u&&t(0,s=u.record)},n.$$.update=()=>{n.$$.dirty&17&&t(3,i=r==null?void 0:r.find(u=>u.id==(s==null?void 0:s.collectionId))),n.$$.dirty&8&&i&&a()},[s,l,o,i,r]}class wr extends ke{constructor(e){super(),we(this,e,cp,fp,be,{record:0})}}function dp(n){let e;return{c(){e=y("textarea"),h(e,"id",n[0]),lc(e,"visibility","hidden")},m(t,i){C(t,e,i),n[15](e)},p(t,i){i&1&&h(e,"id",t[0])},d(t){t&&S(e),n[15](null)}}}function mp(n){let e;return{c(){e=y("div"),h(e,"id",n[0])},m(t,i){C(t,e,i),n[14](e)},p(t,i){i&1&&h(e,"id",t[0])},d(t){t&&S(e),n[14](null)}}}function hp(n){let e;function t(s,l){return s[1]?mp:dp}let i=t(n),r=i(n);return{c(){e=y("div"),r.c(),h(e,"class",n[2])},m(s,l){C(s,e,l),r.m(e,null),n[16](e)},p(s,[l]){i===(i=t(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(e,null))),l&4&&h(e,"class",s[2])},i:G,o:G,d(s){s&&S(e),r.d(),n[16](null)}}}function pp(){let n={listeners:[],scriptLoaded:!1,injected:!1};function e(i,r,s){n.injected=!0;const l=i.createElement("script");l.referrerPolicy="origin",l.type="application/javascript",l.src=r,l.onload=()=>{s()},i.head&&i.head.appendChild(l)}function t(i,r,s){n.scriptLoaded?s():(n.listeners.push(s),n.injected||e(i,r,()=>{n.listeners.forEach(l=>l()),n.scriptLoaded=!0}))}return{load:t}}let gp=pp();function Pr(){return window&&window.tinymce?window.tinymce:null}function _p(n,e,t){let{id:i="tinymce_svelte"+F.randomString(7)}=e,{inline:r=void 0}=e,{disabled:s=!1}=e,{scriptSrc:l="./libs/tinymce/tinymce.min.js"}=e,{conf:o={}}=e,{modelEvents:a="change input undo redo"}=e,{value:u=""}=e,{text:f=""}=e,{cssClass:c="tinymce-wrapper"}=e;const m=["Activate","AddUndo","BeforeAddUndo","BeforeExecCommand","BeforeGetContent","BeforeRenderUI","BeforeSetContent","BeforePaste","Blur","Change","ClearUndos","Click","ContextMenu","Copy","Cut","Dblclick","Deactivate","Dirty","Drag","DragDrop","DragEnd","DragGesture","DragOver","Drop","ExecCommand","Focus","FocusIn","FocusOut","GetContent","Hide","Init","KeyDown","KeyPress","KeyUp","LoadContent","MouseDown","MouseEnter","MouseLeave","MouseMove","MouseOut","MouseOver","MouseUp","NodeChange","ObjectResizeStart","ObjectResized","ObjectSelected","Paste","PostProcess","PostRender","PreProcess","ProgressState","Redo","Remove","Reset","ResizeEditor","SaveContent","SelectionChange","SetAttrib","SetContent","Show","Submit","Undo","VisualAid"],d=(E,L)=>{m.forEach(q=>{E.on(q,W=>{L(q.toLowerCase(),{eventName:q,event:W,editor:E})})})};let b,p,g,_=u,k=s;const T=St();function w(){const E={...o,target:p,inline:r!==void 0?r:o.inline!==void 0?o.inline:!1,readonly:s,setup:L=>{t(11,g=L),L.on("init",()=>{L.setContent(u),L.on(a,()=>{t(12,_=L.getContent()),_!==u&&(t(5,u=_),t(6,f=L.getContent({format:"text"})))})}),d(L,T),typeof o.setup=="function"&&o.setup(L)}};t(4,p.style.visibility="",p),Pr().init(E)}At(()=>(Pr()!==null?w():gp.load(b.ownerDocument,l,()=>{b&&w()}),()=>{var E,L;try{g&&((E=g.dom)==null||E.unbind(document),(L=Pr())==null||L.remove(g))}catch{}}));function I(E){le[E?"unshift":"push"](()=>{p=E,t(4,p)})}function P(E){le[E?"unshift":"push"](()=>{p=E,t(4,p)})}function A(E){le[E?"unshift":"push"](()=>{b=E,t(3,b)})}return n.$$set=E=>{"id"in E&&t(0,i=E.id),"inline"in E&&t(1,r=E.inline),"disabled"in E&&t(7,s=E.disabled),"scriptSrc"in E&&t(8,l=E.scriptSrc),"conf"in E&&t(9,o=E.conf),"modelEvents"in E&&t(10,a=E.modelEvents),"value"in E&&t(5,u=E.value),"text"in E&&t(6,f=E.text),"cssClass"in E&&t(2,c=E.cssClass)},n.$$.update=()=>{var E;if(n.$$.dirty&14496)try{g&&_!==u&&(g.setContent(u),t(6,f=g.getContent({format:"text"}))),g&&s!==k&&(t(13,k=s),typeof((E=g.mode)==null?void 0:E.set)=="function"?g.mode.set(s?"readonly":"design"):g.setMode(s?"readonly":"design"))}catch(L){console.warn("TinyMCE reactive error:",L)}},[i,r,c,b,p,u,f,s,l,o,a,g,_,k,I,P,A]}class Lf extends ke{constructor(e){super(),we(this,e,_p,hp,be,{id:0,inline:1,disabled:7,scriptSrc:8,conf:9,modelEvents:10,value:5,text:6,cssClass:2})}}function Xl(n,e,t){const i=n.slice();return i[18]=e[t],i[8]=t,i}function $l(n,e,t){const i=n.slice();return i[13]=e[t],i}function xl(n,e,t){const i=n.slice();return i[6]=e[t],i[8]=t,i}function eo(n,e,t){const i=n.slice();return i[6]=e[t],i[8]=t,i}function bp(n){const e=n.slice(),t=F.toArray(e[3]);e[16]=t;const i=e[2]?10:500;return e[17]=i,e}function yp(n){var s,l;const e=n.slice(),t=F.toArray(e[3]);e[9]=t;const i=F.toArray((l=(s=e[0])==null?void 0:s.expand)==null?void 0:l[e[1].name]);e[10]=i;const r=e[2]?20:500;return e[11]=r,e}function wp(n){const e=n.slice(),t=F.trimQuotedValue(JSON.stringify(e[3]))||'""';return e[5]=t,e}function kp(n){let e,t;return{c(){e=y("div"),t=re(n[3]),h(e,"class","block txt-break fallback-block svelte-jdf51v")},m(i,r){C(i,e,r),v(e,t)},p(i,r){r&8&&pe(t,i[3])},i:G,o:G,d(i){i&&S(e)}}}function vp(n){let e,t=F.truncate(n[3])+"",i,r;return{c(){e=y("span"),i=re(t),h(e,"class","txt txt-ellipsis"),h(e,"title",r=F.truncate(n[3]))},m(s,l){C(s,e,l),v(e,i)},p(s,l){l&8&&t!==(t=F.truncate(s[3])+"")&&pe(i,t),l&8&&r!==(r=F.truncate(s[3]))&&h(e,"title",r)},i:G,o:G,d(s){s&&S(e)}}}function Sp(n){let e,t=[],i=new Map,r,s,l=ye(n[16].slice(0,n[17]));const o=u=>u[8]+u[18];for(let u=0;u<l.length;u+=1){let f=Xl(n,l,u),c=o(f);i.set(c,t[u]=to(c,f))}let a=n[16].length>n[17]&&no();return{c(){var u;e=y("div");for(let f=0;f<t.length;f+=1)t[f].c();r=R(),a&&a.c(),h(e,"class","inline-flex"),J(e,"multiple",((u=n[1].options)==null?void 0:u.maxSelect)!=1)},m(u,f){C(u,e,f);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);v(e,r),a&&a.m(e,null),s=!0},p(u,f){var c;f&13&&(l=ye(u[16].slice(0,u[17])),ae(),t=bt(t,f,o,1,u,l,i,e,Nt,to,r,Xl),ue()),u[16].length>u[17]?a||(a=no(),a.c(),a.m(e,null)):a&&(a.d(1),a=null),(!s||f&2)&&J(e,"multiple",((c=u[1].options)==null?void 0:c.maxSelect)!=1)},i(u){if(!s){for(let f=0;f<l.length;f+=1)O(t[f]);s=!0}},o(u){for(let f=0;f<t.length;f+=1)N(t[f]);s=!1},d(u){u&&S(e);for(let f=0;f<t.length;f+=1)t[f].d();a&&a.d()}}}function Cp(n){let e,t,i,r,s;const l=[Fp,Lp],o=[];function a(f,c){return f[10].length?0:1}t=a(n),i=o[t]=l[t](n);let u=n[9].length>n[11]&&so();return{c(){e=y("div"),i.c(),r=R(),u&&u.c(),h(e,"class","inline-flex")},m(f,c){C(f,e,c),o[t].m(e,null),v(e,r),u&&u.m(e,null),s=!0},p(f,c){let m=t;t=a(f),t===m?o[t].p(f,c):(ae(),N(o[m],1,1,()=>{o[m]=null}),ue(),i=o[t],i?i.p(f,c):(i=o[t]=l[t](f),i.c()),O(i,1),i.m(e,r)),f[9].length>f[11]?u||(u=so(),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(f){s||(O(i),s=!0)},o(f){N(i),s=!1},d(f){f&&S(e),o[t].d(),u&&u.d()}}}function Tp(n){let e,t=[],i=new Map,r=ye(F.toArray(n[3]));const s=l=>l[8]+l[6];for(let l=0;l<r.length;l+=1){let o=eo(n,r,l),a=s(o);i.set(a,t[l]=lo(a,o))}return{c(){e=y("div");for(let l=0;l<t.length;l+=1)t[l].c();h(e,"class","inline-flex")},m(l,o){C(l,e,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(l,o){o&8&&(r=ye(F.toArray(l[3])),t=bt(t,o,s,1,l,r,i,e,os,lo,null,eo))},i:G,o:G,d(l){l&&S(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Dp(n){let e,t;return e=new Ts({props:{date:n[3]}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const s={};r&8&&(s.date=i[3]),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function Op(n){let e,t,i,r;const s=[Rp,Pp],l=[];function o(a,u){return a[2]?0:1}return e=o(n),t=l[e]=s[e](n),{c(){t.c(),i=ge()},m(a,u){l[e].m(a,u),C(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?l[e].p(a,u):(ae(),N(l[f],1,1,()=>{l[f]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&S(i),l[e].d(a)}}}function Ep(n){let e,t=F.truncate(n[3])+"",i,r,s;return{c(){e=y("a"),i=re(t),h(e,"class","txt-ellipsis"),h(e,"href",n[3]),h(e,"target","_blank"),h(e,"rel","noopener noreferrer")},m(l,o){C(l,e,o),v(e,i),r||(s=[He(Ze.call(null,e,"Open in new tab")),ee(e,"click",Qt(n[4]))],r=!0)},p(l,o){o&8&&t!==(t=F.truncate(l[3])+"")&&pe(i,t),o&8&&h(e,"href",l[3])},i:G,o:G,d(l){l&&S(e),r=!1,Ce(s)}}}function Mp(n){let e,t;return{c(){e=y("span"),t=re(n[3]),h(e,"class","txt")},m(i,r){C(i,e,r),v(e,t)},p(i,r){r&8&&pe(t,i[3])},i:G,o:G,d(i){i&&S(e)}}}function Ip(n){let e,t=n[3]?"True":"False",i;return{c(){e=y("span"),i=re(t),h(e,"class","txt")},m(r,s){C(r,e,s),v(e,i)},p(r,s){s&8&&t!==(t=r[3]?"True":"False")&&pe(i,t)},i:G,o:G,d(r){r&&S(e)}}}function Np(n){let e;return{c(){e=y("span"),e.textContent="N/A",h(e,"class","txt-hint")},m(t,i){C(t,e,i)},p:G,i:G,o:G,d(t){t&&S(e)}}}function Ap(n){let e,t,i,r;const s=[jp,qp],l=[];function o(a,u){return a[2]?0:1}return e=o(n),t=l[e]=s[e](n),{c(){t.c(),i=ge()},m(a,u){l[e].m(a,u),C(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?l[e].p(a,u):(ae(),N(l[f],1,1,()=>{l[f]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&S(i),l[e].d(a)}}}function to(n,e){let t,i,r;return i=new Ds({props:{record:e[0],filename:e[18],size:"sm"}}),{key:n,first:null,c(){t=ge(),$(i.$$.fragment),this.first=t},m(s,l){C(s,t,l),Q(i,s,l),r=!0},p(s,l){e=s;const o={};l&1&&(o.record=e[0]),l&12&&(o.filename=e[18]),i.$set(o)},i(s){r||(O(i.$$.fragment,s),r=!0)},o(s){N(i.$$.fragment,s),r=!1},d(s){s&&S(t),X(i,s)}}}function no(n){let e;return{c(){e=re("...")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Lp(n){let e,t=ye(n[9].slice(0,n[11])),i=[];for(let r=0;r<t.length;r+=1)i[r]=io($l(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ge()},m(r,s){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(r,s);C(r,e,s)},p(r,s){if(s&12){t=ye(r[9].slice(0,r[11]));let l;for(l=0;l<t.length;l+=1){const o=$l(r,t,l);i[l]?i[l].p(o,s):(i[l]=io(o),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},i:G,o:G,d(r){r&&S(e),cn(i,r)}}}function Fp(n){let e=[],t=new Map,i,r,s=ye(n[10].slice(0,n[11]));const l=o=>o[8]+o[6];for(let o=0;o<s.length;o+=1){let a=xl(n,s,o),u=l(a);t.set(u,e[o]=ro(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();i=ge()},m(o,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,a);C(o,i,a),r=!0},p(o,a){a&7&&(s=ye(o[10].slice(0,o[11])),ae(),e=bt(e,a,l,1,o,s,t,i.parentNode,Nt,ro,i,xl),ue())},i(o){if(!r){for(let a=0;a<s.length;a+=1)O(e[a]);r=!0}},o(o){for(let a=0;a<e.length;a+=1)N(e[a]);r=!1},d(o){o&&S(i);for(let a=0;a<e.length;a+=1)e[a].d(o)}}}function io(n){let e,t=n[13]+"",i;return{c(){e=y("span"),i=re(t),h(e,"class","label")},m(r,s){C(r,e,s),v(e,i)},p(r,s){s&12&&t!==(t=r[13]+"")&&pe(i,t)},d(r){r&&S(e)}}}function ro(n,e){let t,i,r,s;return i=new wr({props:{record:e[6]}}),{key:n,first:null,c(){t=y("span"),$(i.$$.fragment),r=R(),h(t,"class","label"),this.first=t},m(l,o){C(l,t,o),Q(i,t,null),v(t,r),s=!0},p(l,o){e=l;const a={};o&7&&(a.record=e[6]),i.$set(a)},i(l){s||(O(i.$$.fragment,l),s=!0)},o(l){N(i.$$.fragment,l),s=!1},d(l){l&&S(t),X(i)}}}function so(n){let e;return{c(){e=re("...")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function lo(n,e){let t,i=e[6]+"",r;return{key:n,first:null,c(){t=y("span"),r=re(i),h(t,"class","label"),this.first=t},m(s,l){C(s,t,l),v(t,r)},p(s,l){e=s,l&8&&i!==(i=e[6]+"")&&pe(r,i)},d(s){s&&S(t)}}}function Pp(n){let e,t;return e=new Lf({props:{cssClass:"tinymce-preview",conf:{branding:!1,promotion:!1,menubar:!1,statusbar:!1,min_height:30,height:59,max_height:500,autoresize_bottom_margin:5,resize:!1,content_style:"body { font-size: 14px }",toolbar:"",plugins:["autoresize"],skin:"pocketbase"},value:n[3],disabled:!0}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const s={};r&8&&(s.value=i[3]),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function Rp(n){let e,t=F.truncate(F.plainText(n[3]),195)+"",i;return{c(){e=y("span"),i=re(t),h(e,"class","txt")},m(r,s){C(r,e,s),v(e,i)},p(r,s){s&8&&t!==(t=F.truncate(F.plainText(r[3]),195)+"")&&pe(i,t)},i:G,o:G,d(r){r&&S(e)}}}function qp(n){let e,t=F.truncate(n[5],500,!0)+"",i,r,s,l,o=n[5].length>500&&oo(n);return{c(){e=y("span"),i=re(t),r=R(),o&&o.c(),s=ge(),h(e,"class","txt")},m(a,u){C(a,e,u),v(e,i),C(a,r,u),o&&o.m(a,u),C(a,s,u),l=!0},p(a,u){(!l||u&8)&&t!==(t=F.truncate(a[5],500,!0)+"")&&pe(i,t),a[5].length>500?o?(o.p(a,u),u&8&&O(o,1)):(o=oo(a),o.c(),O(o,1),o.m(s.parentNode,s)):o&&(ae(),N(o,1,1,()=>{o=null}),ue())},i(a){l||(O(o),l=!0)},o(a){N(o),l=!1},d(a){a&&(S(e),S(r),S(s)),o&&o.d(a)}}}function jp(n){let e,t=F.truncate(n[5])+"",i;return{c(){e=y("span"),i=re(t),h(e,"class","txt txt-ellipsis")},m(r,s){C(r,e,s),v(e,i)},p(r,s){s&8&&t!==(t=F.truncate(r[5])+"")&&pe(i,t)},i:G,o:G,d(r){r&&S(e)}}}function oo(n){let e,t;return e=new Cs({props:{value:JSON.stringify(n[3],null,2)}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const s={};r&8&&(s.value=JSON.stringify(i[3],null,2)),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function Vp(n){let e,t,i,r,s;const l=[Ap,Np,Ip,Mp,Ep,Op,Dp,Tp,Cp,Sp,vp,kp],o=[];function a(f,c){return c&8&&(e=null),f[1].type==="json"?0:(e==null&&(e=!!F.isEmpty(f[3])),e?1:f[1].type==="bool"?2:f[1].type==="number"?3:f[1].type==="url"?4:f[1].type==="editor"?5:f[1].type==="date"?6:f[1].type==="select"?7:f[1].type==="relation"?8:f[1].type==="file"?9:f[2]?10:11)}function u(f,c){return c===0?wp(f):c===8?yp(f):c===9?bp(f):f}return t=a(n,-1),i=o[t]=l[t](u(n,t)),{c(){i.c(),r=ge()},m(f,c){o[t].m(f,c),C(f,r,c),s=!0},p(f,[c]){let m=t;t=a(f,c),t===m?o[t].p(u(f,t),c):(ae(),N(o[m],1,1,()=>{o[m]=null}),ue(),i=o[t],i?i.p(u(f,t),c):(i=o[t]=l[t](u(f,t)),i.c()),O(i,1),i.m(r.parentNode,r))},i(f){s||(O(i),s=!0)},o(f){N(i),s=!1},d(f){f&&S(r),o[t].d(f)}}}function Wp(n,e,t){let i,{record:r}=e,{field:s}=e,{short:l=!1}=e;function o(a){vt.call(this,n,a)}return n.$$set=a=>{"record"in a&&t(0,r=a.record),"field"in a&&t(1,s=a.field),"short"in a&&t(2,l=a.short)},n.$$.update=()=>{n.$$.dirty&3&&t(3,i=r==null?void 0:r[s.name])},[r,s,l,i,o]}class Hp extends ke{constructor(e){super(),we(this,e,Wp,Vp,be,{record:0,field:1,short:2})}}function ao(n,e,t){const i=n.slice();return i[63]=e[t],i}function uo(n,e,t){const i=n.slice();return i[66]=e[t],i}function fo(n,e,t){const i=n.slice();return i[66]=e[t],i}function co(n,e,t){const i=n.slice();return i[59]=e[t],i}function mo(n){let e;function t(s,l){return s[14]?zp:Up}let i=t(n),r=i(n);return{c(){e=y("th"),r.c(),h(e,"class","bulk-select-col min-width")},m(s,l){C(s,e,l),r.m(e,null)},p(s,l){i===(i=t(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(e,null)))},d(s){s&&S(e),r.d()}}}function Up(n){let e,t,i,r,s,l,o;return{c(){e=y("div"),t=y("input"),r=R(),s=y("label"),h(t,"type","checkbox"),h(t,"id","checkbox_0"),t.disabled=i=!n[4].length,t.checked=n[18],h(s,"for","checkbox_0"),h(e,"class","form-field")},m(a,u){C(a,e,u),v(e,t),v(e,r),v(e,s),l||(o=ee(t,"change",n[31]),l=!0)},p(a,u){u[0]&16&&i!==(i=!a[4].length)&&(t.disabled=i),u[0]&262144&&(t.checked=a[18])},d(a){a&&S(e),l=!1,o()}}}function zp(n){let e;return{c(){e=y("span"),h(e,"class","loader loader-sm")},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function ho(n){let e,t,i;function r(l){n[32](l)}let s={class:"col-type-text col-field-id",name:"id",$$slots:{default:[Yp]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new ii({props:s}),le.push(()=>Le(e,"sort",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){const a={};o[2]&512&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.sort=l[0],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function Yp(n){let e;return{c(){e=y("div"),e.innerHTML=`<i class="${F.getFieldTypeIcon("primary")}"></i> <span class="txt">id</span>`,h(e,"class","col-header-content")},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function po(n){let e=!n[6].includes("@username"),t,i=!n[6].includes("@email"),r,s,l=e&&go(n),o=i&&_o(n);return{c(){l&&l.c(),t=R(),o&&o.c(),r=ge()},m(a,u){l&&l.m(a,u),C(a,t,u),o&&o.m(a,u),C(a,r,u),s=!0},p(a,u){u[0]&64&&(e=!a[6].includes("@username")),e?l?(l.p(a,u),u[0]&64&&O(l,1)):(l=go(a),l.c(),O(l,1),l.m(t.parentNode,t)):l&&(ae(),N(l,1,1,()=>{l=null}),ue()),u[0]&64&&(i=!a[6].includes("@email")),i?o?(o.p(a,u),u[0]&64&&O(o,1)):(o=_o(a),o.c(),O(o,1),o.m(r.parentNode,r)):o&&(ae(),N(o,1,1,()=>{o=null}),ue())},i(a){s||(O(l),O(o),s=!0)},o(a){N(l),N(o),s=!1},d(a){a&&(S(t),S(r)),l&&l.d(a),o&&o.d(a)}}}function go(n){let e,t,i;function r(l){n[33](l)}let s={class:"col-type-text col-field-id",name:"username",$$slots:{default:[Bp]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new ii({props:s}),le.push(()=>Le(e,"sort",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){const a={};o[2]&512&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.sort=l[0],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function Bp(n){let e;return{c(){e=y("div"),e.innerHTML=`<i class="${F.getFieldTypeIcon("user")}"></i> <span class="txt">username</span>`,h(e,"class","col-header-content")},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function _o(n){let e,t,i;function r(l){n[34](l)}let s={class:"col-type-email col-field-email",name:"email",$$slots:{default:[Kp]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new ii({props:s}),le.push(()=>Le(e,"sort",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){const a={};o[2]&512&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.sort=l[0],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function Kp(n){let e;return{c(){e=y("div"),e.innerHTML=`<i class="${F.getFieldTypeIcon("email")}"></i> <span class="txt">email</span>`,h(e,"class","col-header-content")},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function Zp(n){let e,t,i,r,s,l=n[66].name+"",o;return{c(){e=y("div"),t=y("i"),r=R(),s=y("span"),o=re(l),h(t,"class",i=F.getFieldTypeIcon(n[66].type)),h(s,"class","txt"),h(e,"class","col-header-content")},m(a,u){C(a,e,u),v(e,t),v(e,r),v(e,s),v(s,o)},p(a,u){u[0]&1048576&&i!==(i=F.getFieldTypeIcon(a[66].type))&&h(t,"class",i),u[0]&1048576&&l!==(l=a[66].name+"")&&pe(o,l)},d(a){a&&S(e)}}}function bo(n,e){let t,i,r,s;function l(a){e[35](a)}let o={class:"col-type-"+e[66].type+" col-field-"+e[66].name,name:e[66].name,$$slots:{default:[Zp]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.sort=e[0]),i=new ii({props:o}),le.push(()=>Le(i,"sort",l)),{key:n,first:null,c(){t=ge(),$(i.$$.fragment),this.first=t},m(a,u){C(a,t,u),Q(i,a,u),s=!0},p(a,u){e=a;const f={};u[0]&1048576&&(f.class="col-type-"+e[66].type+" col-field-"+e[66].name),u[0]&1048576&&(f.name=e[66].name),u[0]&1048576|u[2]&512&&(f.$$scope={dirty:u,ctx:e}),!r&&u[0]&1&&(r=!0,f.sort=e[0],Pe(()=>r=!1)),i.$set(f)},i(a){s||(O(i.$$.fragment,a),s=!0)},o(a){N(i.$$.fragment,a),s=!1},d(a){a&&S(t),X(i,a)}}}function yo(n){let e,t,i;function r(l){n[36](l)}let s={class:"col-type-date col-field-created",name:"created",$$slots:{default:[Jp]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new ii({props:s}),le.push(()=>Le(e,"sort",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){const a={};o[2]&512&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.sort=l[0],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function Jp(n){let e;return{c(){e=y("div"),e.innerHTML=`<i class="${F.getFieldTypeIcon("date")}"></i> <span class="txt">created</span>`,h(e,"class","col-header-content")},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function wo(n){let e,t,i;function r(l){n[37](l)}let s={class:"col-type-date col-field-updated",name:"updated",$$slots:{default:[Gp]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new ii({props:s}),le.push(()=>Le(e,"sort",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){const a={};o[2]&512&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.sort=l[0],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function Gp(n){let e;return{c(){e=y("div"),e.innerHTML=`<i class="${F.getFieldTypeIcon("date")}"></i> <span class="txt">updated</span>`,h(e,"class","col-header-content")},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function ko(n){let e;return{c(){e=y("button"),e.innerHTML='<i class="ri-more-line"></i>',h(e,"type","button"),h(e,"aria-label","Toggle columns"),h(e,"class","btn btn-sm btn-transparent p-0")},m(t,i){C(t,e,i),n[38](e)},p:G,d(t){t&&S(e),n[38](null)}}}function vo(n){let e;function t(s,l){return s[14]?Xp:Qp}let i=t(n),r=i(n);return{c(){r.c(),e=ge()},m(s,l){r.m(s,l),C(s,e,l)},p(s,l){i===(i=t(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){s&&S(e),r.d(s)}}}function Qp(n){let e,t,i,r;function s(a,u){var f;if((f=a[1])!=null&&f.length)return xp;if(!a[11])return $p}let l=s(n),o=l&&l(n);return{c(){e=y("tr"),t=y("td"),i=y("h6"),i.textContent="No records found.",r=R(),o&&o.c(),h(t,"colspan","99"),h(t,"class","txt-center txt-hint p-xs")},m(a,u){C(a,e,u),v(e,t),v(t,i),v(t,r),o&&o.m(t,null)},p(a,u){l===(l=s(a))&&o?o.p(a,u):(o&&o.d(1),o=l&&l(a),o&&(o.c(),o.m(t,null)))},d(a){a&&S(e),o&&o.d()}}}function Xp(n){let e;return{c(){e=y("tr"),e.innerHTML='<td colspan="99" class="p-xs"><span class="skeleton-loader m-0"></span></td>'},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function $p(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<i class="ri-add-line"></i> <span class="txt">New record</span>',h(e,"type","button"),h(e,"class","btn btn-secondary btn-expanded m-t-sm")},m(r,s){C(r,e,s),t||(i=ee(e,"click",n[42]),t=!0)},p:G,d(r){r&&S(e),t=!1,i()}}}function xp(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<span class="txt">Clear filters</span>',h(e,"type","button"),h(e,"class","btn btn-hint btn-expanded m-t-sm")},m(r,s){C(r,e,s),t||(i=ee(e,"click",n[41]),t=!0)},p:G,d(r){r&&S(e),t=!1,i()}}}function So(n){let e,t,i,r,s,l,o,a,u,f;function c(){return n[39](n[63])}return{c(){e=y("td"),t=y("div"),i=y("input"),l=R(),o=y("label"),h(i,"type","checkbox"),h(i,"id",r="checkbox_"+n[63].id),i.checked=s=n[5][n[63].id],h(o,"for",a="checkbox_"+n[63].id),h(t,"class","form-field"),h(e,"class","bulk-select-col min-width")},m(m,d){C(m,e,d),v(e,t),v(t,i),v(t,l),v(t,o),u||(f=[ee(i,"change",c),ee(t,"click",Qt(n[29]))],u=!0)},p(m,d){n=m,d[0]&16&&r!==(r="checkbox_"+n[63].id)&&h(i,"id",r),d[0]&48&&s!==(s=n[5][n[63].id])&&(i.checked=s),d[0]&16&&a!==(a="checkbox_"+n[63].id)&&h(o,"for",a)},d(m){m&&S(e),u=!1,Ce(f)}}}function Co(n){let e,t,i,r,s,l,o=n[63].id+"",a,u,f;r=new Cs({props:{value:n[63].id}});let c=n[10]&&To(n);return{c(){e=y("td"),t=y("div"),i=y("div"),$(r.$$.fragment),s=R(),l=y("div"),a=re(o),u=R(),c&&c.c(),h(l,"class","txt txt-ellipsis"),h(i,"class","label"),h(t,"class","flex flex-gap-5"),h(e,"class","col-type-text col-field-id")},m(m,d){C(m,e,d),v(e,t),v(t,i),Q(r,i,null),v(i,s),v(i,l),v(l,a),v(t,u),c&&c.m(t,null),f=!0},p(m,d){const b={};d[0]&16&&(b.value=m[63].id),r.$set(b),(!f||d[0]&16)&&o!==(o=m[63].id+"")&&pe(a,o),m[10]?c?c.p(m,d):(c=To(m),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(m){f||(O(r.$$.fragment,m),f=!0)},o(m){N(r.$$.fragment,m),f=!1},d(m){m&&S(e),X(r),c&&c.d()}}}function To(n){let e;function t(s,l){return s[63].verified?tg:eg}let i=t(n),r=i(n);return{c(){r.c(),e=ge()},m(s,l){r.m(s,l),C(s,e,l)},p(s,l){i!==(i=t(s))&&(r.d(1),r=i(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){s&&S(e),r.d(s)}}}function eg(n){let e,t,i;return{c(){e=y("i"),h(e,"class","ri-error-warning-fill txt-sm txt-hint")},m(r,s){C(r,e,s),t||(i=He(Ze.call(null,e,"Unverified")),t=!0)},d(r){r&&S(e),t=!1,i()}}}function tg(n){let e,t,i;return{c(){e=y("i"),h(e,"class","ri-checkbox-circle-fill txt-sm txt-success")},m(r,s){C(r,e,s),t||(i=He(Ze.call(null,e,"Verified")),t=!0)},d(r){r&&S(e),t=!1,i()}}}function Do(n){let e=!n[6].includes("@username"),t,i=!n[6].includes("@email"),r,s=e&&Oo(n),l=i&&Eo(n);return{c(){s&&s.c(),t=R(),l&&l.c(),r=ge()},m(o,a){s&&s.m(o,a),C(o,t,a),l&&l.m(o,a),C(o,r,a)},p(o,a){a[0]&64&&(e=!o[6].includes("@username")),e?s?s.p(o,a):(s=Oo(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),a[0]&64&&(i=!o[6].includes("@email")),i?l?l.p(o,a):(l=Eo(o),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(o){o&&(S(t),S(r)),s&&s.d(o),l&&l.d(o)}}}function Oo(n){let e,t;function i(l,o){return o[0]&16&&(t=null),t==null&&(t=!!F.isEmpty(l[63].username)),t?ig:ng}let r=i(n,[-1,-1,-1]),s=r(n);return{c(){e=y("td"),s.c(),h(e,"class","col-type-text col-field-username")},m(l,o){C(l,e,o),s.m(e,null)},p(l,o){r===(r=i(l,o))&&s?s.p(l,o):(s.d(1),s=r(l),s&&(s.c(),s.m(e,null)))},d(l){l&&S(e),s.d()}}}function ng(n){let e,t=n[63].username+"",i,r;return{c(){e=y("span"),i=re(t),h(e,"class","txt txt-ellipsis"),h(e,"title",r=n[63].username)},m(s,l){C(s,e,l),v(e,i)},p(s,l){l[0]&16&&t!==(t=s[63].username+"")&&pe(i,t),l[0]&16&&r!==(r=s[63].username)&&h(e,"title",r)},d(s){s&&S(e)}}}function ig(n){let e;return{c(){e=y("span"),e.textContent="N/A",h(e,"class","txt-hint")},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function Eo(n){let e,t;function i(l,o){return o[0]&16&&(t=null),t==null&&(t=!!F.isEmpty(l[63].email)),t?sg:rg}let r=i(n,[-1,-1,-1]),s=r(n);return{c(){e=y("td"),s.c(),h(e,"class","col-type-text col-field-email")},m(l,o){C(l,e,o),s.m(e,null)},p(l,o){r===(r=i(l,o))&&s?s.p(l,o):(s.d(1),s=r(l),s&&(s.c(),s.m(e,null)))},d(l){l&&S(e),s.d()}}}function rg(n){let e,t=n[63].email+"",i,r;return{c(){e=y("span"),i=re(t),h(e,"class","txt txt-ellipsis"),h(e,"title",r=n[63].email)},m(s,l){C(s,e,l),v(e,i)},p(s,l){l[0]&16&&t!==(t=s[63].email+"")&&pe(i,t),l[0]&16&&r!==(r=s[63].email)&&h(e,"title",r)},d(s){s&&S(e)}}}function sg(n){let e;return{c(){e=y("span"),e.textContent="N/A",h(e,"class","txt-hint")},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function Mo(n,e){let t,i,r,s;return i=new Hp({props:{short:!0,record:e[63],field:e[66]}}),{key:n,first:null,c(){t=y("td"),$(i.$$.fragment),h(t,"class",r="col-type-"+e[66].type+" col-field-"+e[66].name),this.first=t},m(l,o){C(l,t,o),Q(i,t,null),s=!0},p(l,o){e=l;const a={};o[0]&16&&(a.record=e[63]),o[0]&1048576&&(a.field=e[66]),i.$set(a),(!s||o[0]&1048576&&r!==(r="col-type-"+e[66].type+" col-field-"+e[66].name))&&h(t,"class",r)},i(l){s||(O(i.$$.fragment,l),s=!0)},o(l){N(i.$$.fragment,l),s=!1},d(l){l&&S(t),X(i)}}}function Io(n){let e,t,i;return t=new Ts({props:{date:n[63].created}}),{c(){e=y("td"),$(t.$$.fragment),h(e,"class","col-type-date col-field-created")},m(r,s){C(r,e,s),Q(t,e,null),i=!0},p(r,s){const l={};s[0]&16&&(l.date=r[63].created),t.$set(l)},i(r){i||(O(t.$$.fragment,r),i=!0)},o(r){N(t.$$.fragment,r),i=!1},d(r){r&&S(e),X(t)}}}function No(n){let e,t,i;return t=new Ts({props:{date:n[63].updated}}),{c(){e=y("td"),$(t.$$.fragment),h(e,"class","col-type-date col-field-updated")},m(r,s){C(r,e,s),Q(t,e,null),i=!0},p(r,s){const l={};s[0]&16&&(l.date=r[63].updated),t.$set(l)},i(r){i||(O(t.$$.fragment,r),i=!0)},o(r){N(t.$$.fragment,r),i=!1},d(r){r&&S(e),X(t)}}}function Ao(n,e){let t,i,r=!e[6].includes("@id"),s,l,o=[],a=new Map,u,f=e[9]&&!e[6].includes("@created"),c,m=e[8]&&!e[6].includes("@updated"),d,b,p,g,_,k=!e[11]&&So(e),T=r&&Co(e),w=e[10]&&Do(e),I=ye(e[20]);const P=q=>q[66].name;for(let q=0;q<I.length;q+=1){let W=uo(e,I,q),z=P(W);a.set(z,o[q]=Mo(z,W))}let A=f&&Io(e),E=m&&No(e);function L(){return e[40](e[63])}return{key:n,first:null,c(){t=y("tr"),k&&k.c(),i=R(),T&&T.c(),s=R(),w&&w.c(),l=R();for(let q=0;q<o.length;q+=1)o[q].c();u=R(),A&&A.c(),c=R(),E&&E.c(),d=R(),b=y("td"),b.innerHTML='<i class="ri-arrow-right-line"></i>',h(b,"class","col-type-action min-width"),h(t,"tabindex","0"),h(t,"class","row-handle"),this.first=t},m(q,W){C(q,t,W),k&&k.m(t,null),v(t,i),T&&T.m(t,null),v(t,s),w&&w.m(t,null),v(t,l);for(let z=0;z<o.length;z+=1)o[z]&&o[z].m(t,null);v(t,u),A&&A.m(t,null),v(t,c),E&&E.m(t,null),v(t,d),v(t,b),p=!0,g||(_=ee(t,"click",L),g=!0)},p(q,W){e=q,e[11]?k&&(k.d(1),k=null):k?k.p(e,W):(k=So(e),k.c(),k.m(t,i)),W[0]&64&&(r=!e[6].includes("@id")),r?T?(T.p(e,W),W[0]&64&&O(T,1)):(T=Co(e),T.c(),O(T,1),T.m(t,s)):T&&(ae(),N(T,1,1,()=>{T=null}),ue()),e[10]?w?w.p(e,W):(w=Do(e),w.c(),w.m(t,l)):w&&(w.d(1),w=null),W[0]&1048592&&(I=ye(e[20]),ae(),o=bt(o,W,P,1,e,I,a,t,Nt,Mo,u,uo),ue()),W[0]&576&&(f=e[9]&&!e[6].includes("@created")),f?A?(A.p(e,W),W[0]&576&&O(A,1)):(A=Io(e),A.c(),O(A,1),A.m(t,c)):A&&(ae(),N(A,1,1,()=>{A=null}),ue()),W[0]&320&&(m=e[8]&&!e[6].includes("@updated")),m?E?(E.p(e,W),W[0]&320&&O(E,1)):(E=No(e),E.c(),O(E,1),E.m(t,d)):E&&(ae(),N(E,1,1,()=>{E=null}),ue())},i(q){if(!p){O(T);for(let W=0;W<I.length;W+=1)O(o[W]);O(A),O(E),p=!0}},o(q){N(T);for(let W=0;W<o.length;W+=1)N(o[W]);N(A),N(E),p=!1},d(q){q&&S(t),k&&k.d(),T&&T.d(),w&&w.d();for(let W=0;W<o.length;W+=1)o[W].d();A&&A.d(),E&&E.d(),g=!1,_()}}}function Lo(n){let e,t,i,r,s,l;return{c(){e=y("tr"),t=y("td"),i=y("button"),r=y("span"),r.textContent="Load more",h(r,"class","txt"),h(i,"class","btn btn-expanded-lg btn-secondary btn-horizontal-sticky"),i.disabled=n[14],J(i,"btn-loading",n[14]),h(t,"colspan","99"),h(t,"class","txt-center")},m(o,a){C(o,e,a),v(e,t),v(t,i),v(i,r),s||(l=ee(i,"click",$e(n[43])),s=!0)},p(o,a){a[0]&16384&&(i.disabled=o[14]),a[0]&16384&&J(i,"btn-loading",o[14])},d(o){o&&S(e),s=!1,l()}}}function lg(n){let e,t,i,r,s=!n[6].includes("@id"),l,o,a=[],u=new Map,f,c=n[9]&&!n[6].includes("@created"),m,d=n[8]&&!n[6].includes("@updated"),b,p,g,_,k=[],T=new Map,w,I,P=!n[11]&&mo(n),A=s&&ho(n),E=n[10]&&po(n),L=ye(n[20]);const q=H=>H[66].name;for(let H=0;H<L.length;H+=1){let j=fo(n,L,H),De=q(j);u.set(De,a[H]=bo(De,j))}let W=c&&yo(n),z=d&&wo(n),B=n[17].length&&ko(n),ne=ye(n[4]);const Z=H=>H[11]?H[63]:H[63].id;for(let H=0;H<ne.length;H+=1){let j=ao(n,ne,H),De=Z(j);T.set(De,k[H]=Ao(De,j))}let te=null;ne.length||(te=vo(n));let U=n[4].length&&n[19]&&Lo(n);return{c(){e=y("table"),t=y("thead"),i=y("tr"),P&&P.c(),r=R(),A&&A.c(),l=R(),E&&E.c(),o=R();for(let H=0;H<a.length;H+=1)a[H].c();f=R(),W&&W.c(),m=R(),z&&z.c(),b=R(),p=y("th"),B&&B.c(),g=R(),_=y("tbody");for(let H=0;H<k.length;H+=1)k[H].c();te&&te.c(),w=R(),U&&U.c(),h(p,"class","col-type-action min-width"),h(e,"class","table"),J(e,"table-loading",n[14])},m(H,j){C(H,e,j),v(e,t),v(t,i),P&&P.m(i,null),v(i,r),A&&A.m(i,null),v(i,l),E&&E.m(i,null),v(i,o);for(let De=0;De<a.length;De+=1)a[De]&&a[De].m(i,null);v(i,f),W&&W.m(i,null),v(i,m),z&&z.m(i,null),v(i,b),v(i,p),B&&B.m(p,null),v(e,g),v(e,_);for(let De=0;De<k.length;De+=1)k[De]&&k[De].m(_,null);te&&te.m(_,null),v(_,w),U&&U.m(_,null),I=!0},p(H,j){H[11]?P&&(P.d(1),P=null):P?P.p(H,j):(P=mo(H),P.c(),P.m(i,r)),j[0]&64&&(s=!H[6].includes("@id")),s?A?(A.p(H,j),j[0]&64&&O(A,1)):(A=ho(H),A.c(),O(A,1),A.m(i,l)):A&&(ae(),N(A,1,1,()=>{A=null}),ue()),H[10]?E?(E.p(H,j),j[0]&1024&&O(E,1)):(E=po(H),E.c(),O(E,1),E.m(i,o)):E&&(ae(),N(E,1,1,()=>{E=null}),ue()),j[0]&1048577&&(L=ye(H[20]),ae(),a=bt(a,j,q,1,H,L,u,i,Nt,bo,f,fo),ue()),j[0]&576&&(c=H[9]&&!H[6].includes("@created")),c?W?(W.p(H,j),j[0]&576&&O(W,1)):(W=yo(H),W.c(),O(W,1),W.m(i,m)):W&&(ae(),N(W,1,1,()=>{W=null}),ue()),j[0]&320&&(d=H[8]&&!H[6].includes("@updated")),d?z?(z.p(H,j),j[0]&320&&O(z,1)):(z=wo(H),z.c(),O(z,1),z.m(i,b)):z&&(ae(),N(z,1,1,()=>{z=null}),ue()),H[17].length?B?B.p(H,j):(B=ko(H),B.c(),B.m(p,null)):B&&(B.d(1),B=null),j[0]&9457526&&(ne=ye(H[4]),ae(),k=bt(k,j,Z,1,H,ne,T,_,Nt,Ao,w,ao),ue(),!ne.length&&te?te.p(H,j):ne.length?te&&(te.d(1),te=null):(te=vo(H),te.c(),te.m(_,w))),H[4].length&&H[19]?U?U.p(H,j):(U=Lo(H),U.c(),U.m(_,null)):U&&(U.d(1),U=null),(!I||j[0]&16384)&&J(e,"table-loading",H[14])},i(H){if(!I){O(A),O(E);for(let j=0;j<L.length;j+=1)O(a[j]);O(W),O(z);for(let j=0;j<ne.length;j+=1)O(k[j]);I=!0}},o(H){N(A),N(E);for(let j=0;j<a.length;j+=1)N(a[j]);N(W),N(z);for(let j=0;j<k.length;j+=1)N(k[j]);I=!1},d(H){H&&S(e),P&&P.d(),A&&A.d(),E&&E.d();for(let j=0;j<a.length;j+=1)a[j].d();W&&W.d(),z&&z.d(),B&&B.d();for(let j=0;j<k.length;j+=1)k[j].d();te&&te.d(),U&&U.d()}}}function Fo(n){let e,t;return e=new Ii({props:{class:"dropdown dropdown-right dropdown-nowrap columns-dropdown",trigger:n[16],$$slots:{default:[ag]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const s={};r[0]&65536&&(s.trigger=i[16]),r[0]&131136|r[2]&512&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function og(n){let e,t,i,r,s,l=n[59].name+"",o,a,u,f,c;function m(...d){return n[30](n[59],...d)}return{c(){e=y("input"),r=R(),s=y("label"),o=re(l),u=R(),h(e,"type","checkbox"),h(e,"id",t=n[62]),e.checked=i=!n[6].includes(n[59].id),h(s,"for",a=n[62])},m(d,b){C(d,e,b),C(d,r,b),C(d,s,b),v(s,o),C(d,u,b),f||(c=ee(e,"change",m),f=!0)},p(d,b){n=d,b[2]&1&&t!==(t=n[62])&&h(e,"id",t),b[0]&131136&&i!==(i=!n[6].includes(n[59].id))&&(e.checked=i),b[0]&131072&&l!==(l=n[59].name+"")&&pe(o,l),b[2]&1&&a!==(a=n[62])&&h(s,"for",a)},d(d){d&&(S(e),S(r),S(s),S(u)),f=!1,c()}}}function Po(n,e){let t,i,r;return i=new et({props:{class:"form-field form-field-sm form-field-toggle m-0 p-5",$$slots:{default:[og,({uniqueId:s})=>({62:s}),({uniqueId:s})=>[0,0,s?1:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=ge(),$(i.$$.fragment),this.first=t},m(s,l){C(s,t,l),Q(i,s,l),r=!0},p(s,l){e=s;const o={};l[0]&131136|l[2]&513&&(o.$$scope={dirty:l,ctx:e}),i.$set(o)},i(s){r||(O(i.$$.fragment,s),r=!0)},o(s){N(i.$$.fragment,s),r=!1},d(s){s&&S(t),X(i,s)}}}function ag(n){let e,t,i=[],r=new Map,s,l,o=ye(n[17]);const a=u=>u[59].id+u[59].name;for(let u=0;u<o.length;u+=1){let f=co(n,o,u),c=a(f);r.set(c,i[u]=Po(c,f))}return{c(){e=y("div"),e.textContent="Toggle columns",t=R();for(let u=0;u<i.length;u+=1)i[u].c();s=ge(),h(e,"class","txt-hint txt-sm p-5 m-b-5")},m(u,f){C(u,e,f),C(u,t,f);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(u,f);C(u,s,f),l=!0},p(u,f){f[0]&131136|f[2]&1&&(o=ye(u[17]),ae(),i=bt(i,f,a,1,u,o,r,s.parentNode,Nt,Po,s,co),ue())},i(u){if(!l){for(let f=0;f<o.length;f+=1)O(i[f]);l=!0}},o(u){for(let f=0;f<i.length;f+=1)N(i[f]);l=!1},d(u){u&&(S(e),S(t),S(s));for(let f=0;f<i.length;f+=1)i[f].d(u)}}}function ug(n){let e,t,i=n[16]&&Fo(n);return{c(){i&&i.c(),e=ge()},m(r,s){i&&i.m(r,s),C(r,e,s),t=!0},p(r,s){r[16]?i?(i.p(r,s),s[0]&65536&&O(i,1)):(i=Fo(r),i.c(),O(i,1),i.m(e.parentNode,e)):i&&(ae(),N(i,1,1,()=>{i=null}),ue())},i(r){t||(O(i),t=!0)},o(r){N(i),t=!1},d(r){r&&S(e),i&&i.d(r)}}}function Ro(n){let e,t,i,r,s,l,o=n[7]===1?"record":"records",a,u,f,c,m,d,b,p,g,_,k;return{c(){e=y("div"),t=y("div"),i=re("Selected "),r=y("strong"),s=re(n[7]),l=R(),a=re(o),u=R(),f=y("button"),f.innerHTML='<span class="txt">Reset</span>',c=R(),m=y("div"),d=R(),b=y("button"),b.innerHTML='<span class="txt">Delete selected</span>',h(t,"class","txt"),h(f,"type","button"),h(f,"class","btn btn-xs btn-transparent btn-outline p-l-5 p-r-5"),J(f,"btn-disabled",n[15]),h(m,"class","flex-fill"),h(b,"type","button"),h(b,"class","btn btn-sm btn-transparent btn-danger"),J(b,"btn-loading",n[15]),J(b,"btn-disabled",n[15]),h(e,"class","bulkbar")},m(T,w){C(T,e,w),v(e,t),v(t,i),v(t,r),v(r,s),v(t,l),v(t,a),v(e,u),v(e,f),v(e,c),v(e,m),v(e,d),v(e,b),g=!0,_||(k=[ee(f,"click",n[45]),ee(b,"click",n[46])],_=!0)},p(T,w){(!g||w[0]&128)&&pe(s,T[7]),(!g||w[0]&128)&&o!==(o=T[7]===1?"record":"records")&&pe(a,o),(!g||w[0]&32768)&&J(f,"btn-disabled",T[15]),(!g||w[0]&32768)&&J(b,"btn-loading",T[15]),(!g||w[0]&32768)&&J(b,"btn-disabled",T[15])},i(T){g||(T&&_t(()=>{g&&(p||(p=pt(e,ln,{duration:150,y:5},!0)),p.run(1))}),g=!0)},o(T){T&&(p||(p=pt(e,ln,{duration:150,y:5},!1)),p.run(0)),g=!1},d(T){T&&S(e),T&&p&&p.end(),_=!1,Ce(k)}}}function fg(n){let e,t,i,r,s={class:"table-wrapper",$$slots:{before:[ug],default:[lg]},$$scope:{ctx:n}};e=new Af({props:s}),n[44](e);let l=n[7]&&Ro(n);return{c(){$(e.$$.fragment),t=R(),l&&l.c(),i=ge()},m(o,a){Q(e,o,a),C(o,t,a),l&&l.m(o,a),C(o,i,a),r=!0},p(o,a){const u={};a[0]&2060151|a[2]&512&&(u.$$scope={dirty:a,ctx:o}),e.$set(u),o[7]?l?(l.p(o,a),a[0]&128&&O(l,1)):(l=Ro(o),l.c(),O(l,1),l.m(i.parentNode,i)):l&&(ae(),N(l,1,1,()=>{l=null}),ue())},i(o){r||(O(e.$$.fragment,o),O(l),r=!0)},o(o){N(e.$$.fragment,o),N(l),r=!1},d(o){o&&(S(t),S(i)),n[44](null),X(e,o),l&&l.d(o)}}}const cg=/^([\+\-])?(\w+)$/,qo=40;function dg(n,e,t){let i,r,s,l,o,a,u,f,c,m,d,b;Xe(n,dn,fe=>t(51,b=fe));const p=St();let{collection:g}=e,{sort:_=""}=e,{filter:k=""}=e,T,w=[],I=1,P=0,A={},E=!0,L=!1,q=0,W,z=[],B=["@id"],ne=[],Z="";function te(){g!=null&&g.id&&(z.length?localStorage.setItem(Z,JSON.stringify(z)):localStorage.removeItem(Z))}function U(){if(t(6,z=[]),!!(g!=null&&g.id))try{const fe=localStorage.getItem(Z);fe?t(6,z=JSON.parse(fe)||[]):t(6,z=B)}catch{}}function H(fe){return!!w.find(st=>st.id)}async function j(){const fe=I;for(let st=1;st<=fe;st++)(st===1||u)&&await De(st,!1)}async function De(fe=1,st=!0){var x,oe,_e;if(!(g!=null&&g.id))return;t(14,E=!0);let Sn=_;const xt=Sn.match(cg),qn=xt?o.find(Ie=>Ie.name===xt[2]):null;if(xt&&qn){const Ie=((_e=(oe=(x=b==null?void 0:b.find(Je=>{var lt;return Je.id==((lt=qn.options)==null?void 0:lt.collectionId)}))==null?void 0:x.schema)==null?void 0:oe.filter(Je=>Je.presentable))==null?void 0:_e.map(Je=>Je.name))||[],Ne=[];for(const Je of Ie)Ne.push((xt[1]||"")+xt[2]+"."+Je);Ne.length>0&&(Sn=Ne.join(","))}const li=F.getAllCollectionIdentifiers(g),hn=l.map(Ie=>Ie.name+":excerpt(200)").concat(o.map(Ie=>"expand."+Ie.name+".*:excerpt(200)"));return hn.length&&hn.unshift("*"),Ae.collection(g.id).getList(fe,qo,{sort:Sn,skipTotal:1,filter:F.normalizeSearchFilter(k,li),expand:o.map(Ie=>Ie.name).join(","),fields:hn.join(","),requestKey:"records_list"}).then(async Ie=>{var Ne;if(fe<=1&&at(),t(14,E=!1),t(13,I=Ie.page),t(27,P=Ie.items.length),p("load",w.concat(Ie.items)),l.length)for(let Je of Ie.items)Je._partial=!0;if(st){const Je=++q;for(;(Ne=Ie.items)!=null&&Ne.length&&q==Je;){const lt=Ie.items.splice(0,20);for(let Ft of lt)F.pushOrReplaceByKey(w,Ft);t(4,w),await F.yieldToMain()}}else{for(let Je of Ie.items)F.pushOrReplaceByKey(w,Je);t(4,w)}}).catch(Ie=>{Ie!=null&&Ie.isAbort||(t(14,E=!1),console.warn(Ie),at(),Ae.error(Ie,!k||(Ie==null?void 0:Ie.status)!=400))})}function at(){T==null||T.resetVerticalScroll(),t(4,w=[]),t(13,I=1),t(27,P=0),t(5,A={})}function Ct(){c?yt():Ht()}function yt(){t(5,A={})}function Ht(){for(const fe of w)t(5,A[fe.id]=fe,A);t(5,A)}function gt(fe){A[fe.id]?delete A[fe.id]:t(5,A[fe.id]=fe,A),t(5,A)}function Tt(){hi(`Do you really want to delete the selected ${f===1?"record":"records"}?`,it)}async function it(){if(L||!f||!(g!=null&&g.id))return;let fe=[];for(const st of Object.keys(A))fe.push(Ae.collection(g.id).delete(st));return t(15,L=!0),Promise.all(fe).then(()=>{Qr(`Successfully deleted the selected ${f===1?"record":"records"}.`),p("delete",A),yt()}).catch(st=>{Ae.error(st)}).finally(()=>(t(15,L=!1),j()))}function ut(fe){vt.call(this,n,fe)}const ve=(fe,st)=>{st.target.checked?F.removeByValue(z,fe.id):F.pushUnique(z,fe.id),t(6,z)},qe=()=>Ct();function Ue(fe){_=fe,t(0,_)}function je(fe){_=fe,t(0,_)}function rt(fe){_=fe,t(0,_)}function de(fe){_=fe,t(0,_)}function K(fe){_=fe,t(0,_)}function Te(fe){_=fe,t(0,_)}function Ge(fe){le[fe?"unshift":"push"](()=>{W=fe,t(16,W)})}const ft=fe=>gt(fe),Lt=fe=>er(`#/collections/${g.id}?recordId=${fe.id}`),ri=()=>t(1,k=""),si=()=>er(`#/collections/${g.name}`),Pn=()=>De(I+1);function vn(fe){le[fe?"unshift":"push"](()=>{T=fe,t(12,T)})}const Rn=()=>yt(),mn=()=>Tt();return n.$$set=fe=>{"collection"in fe&&t(2,g=fe.collection),"sort"in fe&&t(0,_=fe.sort),"filter"in fe&&t(1,k=fe.filter)},n.$$.update=()=>{n.$$.dirty[0]&4&&g!=null&&g.id&&(Z=g.id+"@hiddenColumns",U(),at()),n.$$.dirty[0]&4&&t(11,i=(g==null?void 0:g.type)==="view"),n.$$.dirty[0]&4&&t(10,r=(g==null?void 0:g.type)==="auth"),n.$$.dirty[0]&4&&t(28,s=(g==null?void 0:g.schema)||[]),n.$$.dirty[0]&268435456&&(l=s.filter(fe=>fe.type==="editor")),n.$$.dirty[0]&268435456&&(o=s.filter(fe=>fe.type==="relation")),n.$$.dirty[0]&268435520&&t(20,a=s.filter(fe=>!z.includes(fe.id))),n.$$.dirty[0]&7&&g!=null&&g.id&&_!==-1&&k!==-1&&De(1),n.$$.dirty[0]&134217728&&t(19,u=P>=qo),n.$$.dirty[0]&32&&t(7,f=Object.keys(A).length),n.$$.dirty[0]&144&&t(18,c=w.length&&f===w.length),n.$$.dirty[0]&64&&z!==-1&&te(),n.$$.dirty[0]&2064&&t(9,m=!i||w.length>0&&typeof w[0].created<"u"),n.$$.dirty[0]&2064&&t(8,d=!i||w.length>0&&typeof w[0].updated<"u"),n.$$.dirty[0]&268437248&&t(17,ne=[].concat(r?[{id:"@username",name:"username"},{id:"@email",name:"email"}]:[],s.map(fe=>({id:fe.id,name:fe.name})),m?{id:"@created",name:"created"}:[],d?{id:"@updated",name:"updated"}:[],{id:"@id",name:"id"}))},[_,k,g,De,w,A,z,f,d,m,r,i,T,I,E,L,W,ne,c,u,a,Ct,yt,gt,Tt,H,j,P,s,ut,ve,qe,Ue,je,rt,de,K,Te,Ge,ft,Lt,ri,si,Pn,vn,Rn,mn]}class mg extends ke{constructor(e){super(),we(this,e,dg,fg,be,{collection:2,sort:0,filter:1,hasRecord:25,reloadLoadedPages:26,load:3},null,[-1,-1,-1])}get hasRecord(){return this.$$.ctx[25]}get reloadLoadedPages(){return this.$$.ctx[26]}get load(){return this.$$.ctx[3]}}function hg(n){let e,t,i,r,s=(n[2]?"...":n[0])+"",l,o;return{c(){e=y("div"),t=y("span"),t.textContent="Total found:",i=R(),r=y("span"),l=re(s),h(t,"class","txt"),h(r,"class","txt"),h(e,"class",o="inline-flex flex-gap-5 records-counter "+n[1])},m(a,u){C(a,e,u),v(e,t),v(e,i),v(e,r),v(r,l)},p(a,[u]){u&5&&s!==(s=(a[2]?"...":a[0])+"")&&pe(l,s),u&2&&o!==(o="inline-flex flex-gap-5 records-counter "+a[1])&&h(e,"class",o)},i:G,o:G,d(a){a&&S(e)}}}function pg(n,e,t){const i=St();let{collection:r}=e,{filter:s=""}=e,{totalCount:l=0}=e,{class:o=void 0}=e,a=!1;async function u(){if(r!=null&&r.id){t(2,a=!0),t(0,l=0);try{const f=F.getAllCollectionIdentifiers(r),c=await Ae.collection(r.id).getList(1,1,{filter:F.normalizeSearchFilter(s,f),fields:"id",requestKey:"records_count"});t(0,l=c.totalItems),i("count",l),t(2,a=!1)}catch(f){f!=null&&f.isAbort||(t(2,a=!1),console.warn(f))}}}return n.$$set=f=>{"collection"in f&&t(3,r=f.collection),"filter"in f&&t(4,s=f.filter),"totalCount"in f&&t(0,l=f.totalCount),"class"in f&&t(1,o=f.class)},n.$$.update=()=>{n.$$.dirty&24&&r!=null&&r.id&&s!==-1&&u()},[l,o,a,r,s,u]}class gg extends ke{constructor(e){super(),we(this,e,pg,hg,be,{collection:3,filter:4,totalCount:0,class:1,reload:5})}get reload(){return this.$$.ctx[5]}}function _g(n){let e,t,i,r,s,l;return{c(){e=y("button"),t=y("i"),h(t,"class","ri-refresh-line svelte-1bvelc2"),h(e,"type","button"),h(e,"aria-label","Refresh"),h(e,"class",i="btn btn-transparent btn-circle "+n[1]+" svelte-1bvelc2"),J(e,"refreshing",n[2])},m(o,a){C(o,e,a),v(e,t),s||(l=[He(r=Ze.call(null,e,n[0])),ee(e,"click",n[3])],s=!0)},p(o,[a]){a&2&&i!==(i="btn btn-transparent btn-circle "+o[1]+" svelte-1bvelc2")&&h(e,"class",i),r&&ot(r.update)&&a&1&&r.update.call(null,o[0]),a&6&&J(e,"refreshing",o[2])},i:G,o:G,d(o){o&&S(e),s=!1,Ce(l)}}}function bg(n,e,t){const i=St();let{tooltip:r={text:"Refresh",position:"right"}}=e,{class:s=""}=e,l=null;function o(){i("refresh");const a=r;t(0,r=null),clearTimeout(l),t(2,l=setTimeout(()=>{t(2,l=null),t(0,r=a)},150))}return At(()=>()=>clearTimeout(l)),n.$$set=a=>{"tooltip"in a&&t(0,r=a.tooltip),"class"in a&&t(1,s=a.class)},[r,s,l,o]}class yg extends ke{constructor(e){super(),we(this,e,bg,_g,be,{tooltip:0,class:1})}}function wg(n){let e,t,i,r;return e=new Nf({}),i=new Fn({props:{class:"flex-content",$$slots:{footer:[Cg],default:[Sg]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment),t=R(),$(i.$$.fragment)},m(s,l){Q(e,s,l),C(s,t,l),Q(i,s,l),r=!0},p(s,l){const o={};l&268435575&&(o.$$scope={dirty:l,ctx:s}),i.$set(o)},i(s){r||(O(e.$$.fragment,s),O(i.$$.fragment,s),r=!0)},o(s){N(e.$$.fragment,s),N(i.$$.fragment,s),r=!1},d(s){s&&S(t),X(e,s),X(i,s)}}}function kg(n){let e,t;return e=new Fn({props:{center:!0,$$slots:{default:[Tg]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const s={};r&268435456&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function vg(n){let e,t;return e=new Fn({props:{center:!0,$$slots:{default:[Dg]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const s={};r&268435456&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function jo(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<i class="ri-add-line"></i> <span class="txt">New record</span>',h(e,"type","button"),h(e,"class","btn btn-expanded")},m(r,s){C(r,e,s),t||(i=ee(e,"click",n[17]),t=!0)},p:G,d(r){r&&S(e),t=!1,i()}}}function Sg(n){let e,t,i,r,s,l=n[2].name.replace("pcms_","")+"",o,a,u,f,c,m,d,b,p,g,_,k,T;f=new yg({}),f.$on("refresh",n[16]);let w=n[2].type!=="view"&&jo(n);function I(E){n[19](E)}function P(E){n[20](E)}let A={collection:n[2]};return n[0]!==void 0&&(A.filter=n[0]),n[1]!==void 0&&(A.sort=n[1]),g=new mg({props:A}),n[18](g),le.push(()=>Le(g,"filter",I)),le.push(()=>Le(g,"sort",P)),g.$on("select",n[21]),g.$on("delete",n[22]),g.$on("new",n[23]),{c(){e=y("header"),t=y("nav"),i=y("div"),i.textContent="Collections",r=R(),s=y("div"),o=re(l),a=R(),u=y("div"),$(f.$$.fragment),c=R(),m=y("div"),w&&w.c(),d=R(),b=y("div"),p=R(),$(g.$$.fragment),h(i,"class","breadcrumb-item"),h(s,"class","breadcrumb-item"),h(t,"class","breadcrumbs"),h(u,"class","inline-flex gap-5"),h(m,"class","btns-group"),h(e,"class","page-header"),h(b,"class","clearfix m-b-sm")},m(E,L){C(E,e,L),v(e,t),v(t,i),v(t,r),v(t,s),v(s,o),v(e,a),v(e,u),Q(f,u,null),v(e,c),v(e,m),w&&w.m(m,null),C(E,d,L),C(E,b,L),C(E,p,L),Q(g,E,L),T=!0},p(E,L){(!T||L&4)&&l!==(l=E[2].name.replace("pcms_","")+"")&&pe(o,l),E[2].type!=="view"?w?w.p(E,L):(w=jo(E),w.c(),w.m(m,null)):w&&(w.d(1),w=null);const q={};L&4&&(q.collection=E[2]),!_&&L&1&&(_=!0,q.filter=E[0],Pe(()=>_=!1)),!k&&L&2&&(k=!0,q.sort=E[1],Pe(()=>k=!1)),g.$set(q)},i(E){T||(O(f.$$.fragment,E),O(g.$$.fragment,E),T=!0)},o(E){N(f.$$.fragment,E),N(g.$$.fragment,E),T=!1},d(E){E&&(S(e),S(d),S(b),S(p)),X(f),w&&w.d(),n[18](null),X(g,E)}}}function Cg(n){let e,t,i;function r(l){n[15](l)}let s={class:"m-r-auto txt-sm txt-hint",collection:n[2],filter:n[0]};return n[6]!==void 0&&(s.totalCount=n[6]),e=new gg({props:s}),n[14](e),le.push(()=>Le(e,"totalCount",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){const a={};o&4&&(a.collection=l[2]),o&1&&(a.filter=l[0]),!t&&o&64&&(t=!0,a.totalCount=l[6],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){n[14](null),X(e,l)}}}function Tg(n){let e;return{c(){e=y("p"),e.textContent="no collections"},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function Dg(n){let e;return{c(){e=y("div"),e.innerHTML='<span class="loader loader-lg"></span> <h1>Loading collections...</h1>',h(e,"class","placeholder-section m-b-base")},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function Og(n){let e,t,i,r;const s=[vg,kg,wg],l=[];function o(a,u){return a[3]&&!a[7].length?0:a[7].length?2:1}return e=o(n),t=l[e]=s[e](n),{c(){t.c(),i=ge()},m(a,u){l[e].m(a,u),C(a,i,u),r=!0},p(a,[u]){let f=e;e=o(a),e===f?l[e].p(a,u):(ae(),N(l[f],1,1,()=>{l[f]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&S(i),l[e].d(a)}}}function Eg(n,e,t){let i,r,s,l,o,a;Xe(n,fn,Z=>t(2,r=Z)),Xe(n,Dl,Z=>t(24,s=Z)),Xe(n,ki,Z=>t(3,l=Z)),Xe(n,as,Z=>t(13,o=Z)),Xe(n,dn,Z=>t(7,a=Z));const u=new URLSearchParams(o);let f,c,m,d,b=u.get("filter")||"",p=u.get("sort")||"-created",g=u.get("collectionId")||(r==null?void 0:r.id),_=0;Ss(g);function k(){t(11,g=r==null?void 0:r.id),t(0,b=""),t(1,p="-created"),w({recordId:null}),T()}async function T(){if(!p)return;const Z=F.getAllCollectionIdentifiers(r),te=p.split(",").map(U=>U.startsWith("+")||U.startsWith("-")?U.substring(1):U);te.filter(U=>Z.includes(U)).length!=te.length&&(Z.includes("created")?t(1,p="-created"):t(1,p=""))}function w(Z={}){const te=Object.assign({collectionId:(r==null?void 0:r.id)||"",filter:b,sort:p},Z);F.replaceHashQueryParams(te)}function I(Z){le[Z?"unshift":"push"](()=>{d=Z,t(5,d)})}function P(Z){_=Z,t(6,_)}const A=()=>{m==null||m.load(),d==null||d.reload()},E=()=>er(`#/collections/${r.id}`);function L(Z){le[Z?"unshift":"push"](()=>{m=Z,t(4,m)})}function q(Z){b=Z,t(0,b)}function W(Z){p=Z,t(1,p)}const z=Z=>{w({recordId:Z.detail.id});let te=Z.detail._partial?Z.detail.id:Z.detail;r.type==="view"?c==null||c.show(te):f==null||f.show(te)},B=()=>{d==null||d.reload()},ne=()=>f==null?void 0:f.show();return n.$$.update=()=>{n.$$.dirty&8192&&t(12,i=new URLSearchParams(o)),n.$$.dirty&6152&&!l&&i.get("collectionId")&&i.get("collectionId")!=g&&hh(i.get("collectionId")),n.$$.dirty&2052&&r!=null&&r.id&&g!=r.id&&k(),n.$$.dirty&4&&r!=null&&r.id&&T(),n.$$.dirty&15&&!l&&(p||b||r!=null&&r.id)&&w(),n.$$.dirty&4&&tc(Dl,s=(r==null?void 0:r.name)||"Collections",s)},[b,p,r,l,m,d,_,a,f,c,w,g,i,o,I,P,A,E,L,q,W,z,B,ne]}class Mg extends ke{constructor(e){super(),we(this,e,Eg,Og,be,{})}}function Ig(n){let e,t,i,r,s,l,o,a,u,f;return s=new Cs({props:{value:n[1]}}),{c(){e=y("div"),t=y("span"),i=re(n[1]),r=R(),$(s.$$.fragment),l=R(),o=y("i"),h(t,"class","secret svelte-1md8247"),h(o,"class","ri-refresh-line txt-sm link-hint"),h(o,"aria-label","Refresh"),h(e,"class","flex flex-gap-5 p-5")},m(c,m){C(c,e,m),v(e,t),v(t,i),n[6](t),v(e,r),Q(s,e,null),v(e,l),v(e,o),a=!0,u||(f=[He(Ze.call(null,o,"Refresh")),ee(o,"click",n[4])],u=!0)},p(c,m){(!a||m&2)&&pe(i,c[1]);const d={};m&2&&(d.value=c[1]),s.$set(d)},i(c){a||(O(s.$$.fragment,c),a=!0)},o(c){N(s.$$.fragment,c),a=!1},d(c){c&&S(e),n[6](null),X(s),u=!1,Ce(f)}}}function Ng(n){let e,t,i,r,s,l,o,a,u,f;function c(d){n[7](d)}let m={class:"dropdown dropdown-upside dropdown-center dropdown-nowrap",$$slots:{default:[Ig]},$$scope:{ctx:n}};return n[3]!==void 0&&(m.active=n[3]),r=new Ii({props:m}),le.push(()=>Le(r,"active",c)),r.$on("show",n[4]),{c(){e=y("button"),t=y("i"),i=R(),$(r.$$.fragment),h(t,"class","ri-sparkling-line"),h(t,"aria-hidden","true"),h(e,"tabindex","-1"),h(e,"type","button"),h(e,"aria-label","Generate"),h(e,"class",l="btn btn-circle "+n[0]+" svelte-1md8247")},m(d,b){C(d,e,b),v(e,t),v(e,i),Q(r,e,null),a=!0,u||(f=He(o=Ze.call(null,e,n[3]?"":"Generate")),u=!0)},p(d,[b]){const p={};b&518&&(p.$$scope={dirty:b,ctx:d}),!s&&b&8&&(s=!0,p.active=d[3],Pe(()=>s=!1)),r.$set(p),(!a||b&1&&l!==(l="btn btn-circle "+d[0]+" svelte-1md8247"))&&h(e,"class",l),o&&ot(o.update)&&b&8&&o.update.call(null,d[3]?"":"Generate")},i(d){a||(O(r.$$.fragment,d),a=!0)},o(d){N(r.$$.fragment,d),a=!1},d(d){d&&S(e),X(r),u=!1,f()}}}function Ag(n,e,t){const i=St();let{class:r="btn-sm btn-hint btn-transparent"}=e,{length:s=32}=e,l="",o,a=!1;async function u(){if(t(1,l=F.randomSecret(s)),i("generate",l),await nn(),o){let m=document.createRange();m.selectNode(o),window.getSelection().removeAllRanges(),window.getSelection().addRange(m)}}function f(m){le[m?"unshift":"push"](()=>{o=m,t(2,o)})}function c(m){a=m,t(3,a)}return n.$$set=m=>{"class"in m&&t(0,r=m.class),"length"in m&&t(5,s=m.length)},[r,l,o,a,u,s,f,c]}class Lg extends ke{constructor(e){super(),we(this,e,Ag,Ng,be,{class:0,length:5})}}function Fg(n){let e,t,i,r,s,l,o,a,u,f,c,m;return{c(){e=y("label"),t=y("i"),i=R(),r=y("span"),r.textContent="Username",l=R(),o=y("input"),h(t,"class",F.getFieldTypeIcon("user")),h(r,"class","txt"),h(e,"for",s=n[13]),h(o,"type","text"),h(o,"requried",a=!n[2]),h(o,"placeholder",u=n[2]?"Leave empty to auto generate...":n[4]),h(o,"id",f=n[13])},m(d,b){C(d,e,b),v(e,t),v(e,i),v(e,r),C(d,l,b),C(d,o,b),Be(o,n[0].username),c||(m=ee(o,"input",n[5]),c=!0)},p(d,b){b&8192&&s!==(s=d[13])&&h(e,"for",s),b&4&&a!==(a=!d[2])&&h(o,"requried",a),b&4&&u!==(u=d[2]?"Leave empty to auto generate...":d[4])&&h(o,"placeholder",u),b&8192&&f!==(f=d[13])&&h(o,"id",f),b&1&&o.value!==d[0].username&&Be(o,d[0].username)},d(d){d&&(S(e),S(l),S(o)),c=!1,m()}}}function Pg(n){let e,t,i,r,s,l,o,a,u,f,c=n[0].emailVisibility?"On":"Off",m,d,b,p,g,_,k,T;return{c(){var w;e=y("label"),t=y("i"),i=R(),r=y("span"),r.textContent="Email",l=R(),o=y("div"),a=y("button"),u=y("span"),f=re("Public: "),m=re(c),b=R(),p=y("input"),h(t,"class",F.getFieldTypeIcon("email")),h(r,"class","txt"),h(e,"for",s=n[13]),h(u,"class","txt"),h(a,"type","button"),h(a,"class",d="btn btn-sm btn-transparent "+(n[0].emailVisibility?"btn-success":"btn-hint")),h(o,"class","form-field-addon email-visibility-addon svelte-1751a4d"),h(p,"type","email"),p.autofocus=n[2],h(p,"autocomplete","off"),h(p,"id",g=n[13]),p.required=_=(w=n[1].options)==null?void 0:w.requireEmail,h(p,"class","svelte-1751a4d")},m(w,I){C(w,e,I),v(e,t),v(e,i),v(e,r),C(w,l,I),C(w,o,I),v(o,a),v(a,u),v(u,f),v(u,m),C(w,b,I),C(w,p,I),Be(p,n[0].email),n[2]&&p.focus(),k||(T=[He(Ze.call(null,a,{text:"Make email public or private",position:"top-right"})),ee(a,"click",$e(n[6])),ee(p,"input",n[7])],k=!0)},p(w,I){var P;I&8192&&s!==(s=w[13])&&h(e,"for",s),I&1&&c!==(c=w[0].emailVisibility?"On":"Off")&&pe(m,c),I&1&&d!==(d="btn btn-sm btn-transparent "+(w[0].emailVisibility?"btn-success":"btn-hint"))&&h(a,"class",d),I&4&&(p.autofocus=w[2]),I&8192&&g!==(g=w[13])&&h(p,"id",g),I&2&&_!==(_=(P=w[1].options)==null?void 0:P.requireEmail)&&(p.required=_),I&1&&p.value!==w[0].email&&Be(p,w[0].email)},d(w){w&&(S(e),S(l),S(o),S(b),S(p)),k=!1,Ce(T)}}}function Vo(n){let e,t;return e=new et({props:{class:"form-field form-field-toggle",name:"verified",$$slots:{default:[Rg,({uniqueId:i})=>({13:i}),({uniqueId:i})=>i?8192:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const s={};r&24584&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function Rg(n){let e,t,i,r,s,l,o,a;return{c(){e=y("input"),i=R(),r=y("label"),s=re("Change password"),h(e,"type","checkbox"),h(e,"id",t=n[13]),h(r,"for",l=n[13])},m(u,f){C(u,e,f),e.checked=n[3],C(u,i,f),C(u,r,f),v(r,s),o||(a=ee(e,"change",n[8]),o=!0)},p(u,f){f&8192&&t!==(t=u[13])&&h(e,"id",t),f&8&&(e.checked=u[3]),f&8192&&l!==(l=u[13])&&h(r,"for",l)},d(u){u&&(S(e),S(i),S(r)),o=!1,a()}}}function Wo(n){let e,t,i,r,s,l,o,a,u;return r=new et({props:{class:"form-field required",name:"password",$$slots:{default:[qg,({uniqueId:f})=>({13:f}),({uniqueId:f})=>f?8192:0]},$$scope:{ctx:n}}}),o=new et({props:{class:"form-field required",name:"passwordConfirm",$$slots:{default:[jg,({uniqueId:f})=>({13:f}),({uniqueId:f})=>f?8192:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),i=y("div"),$(r.$$.fragment),s=R(),l=y("div"),$(o.$$.fragment),h(i,"class","col-sm-6"),h(l,"class","col-sm-6"),h(t,"class","grid"),J(t,"p-t-xs",n[3]),h(e,"class","block")},m(f,c){C(f,e,c),v(e,t),v(t,i),Q(r,i,null),v(t,s),v(t,l),Q(o,l,null),u=!0},p(f,c){const m={};c&24579&&(m.$$scope={dirty:c,ctx:f}),r.$set(m);const d={};c&24577&&(d.$$scope={dirty:c,ctx:f}),o.$set(d),(!u||c&8)&&J(t,"p-t-xs",f[3])},i(f){u||(O(r.$$.fragment,f),O(o.$$.fragment,f),f&&_t(()=>{u&&(a||(a=pt(e,Xn,{duration:150},!0)),a.run(1))}),u=!0)},o(f){N(r.$$.fragment,f),N(o.$$.fragment,f),f&&(a||(a=pt(e,Xn,{duration:150},!1)),a.run(0)),u=!1},d(f){f&&S(e),X(r),X(o),f&&a&&a.end()}}}function qg(n){var p,g;let e,t,i,r,s,l,o,a,u,f,c,m,d,b;return c=new Lg({props:{length:Math.max(15,((g=(p=n[1])==null?void 0:p.options)==null?void 0:g.minPasswordLength)||0)}}),{c(){e=y("label"),t=y("i"),i=R(),r=y("span"),r.textContent="Password",l=R(),o=y("input"),u=R(),f=y("div"),$(c.$$.fragment),h(t,"class","ri-lock-line"),h(r,"class","txt"),h(e,"for",s=n[13]),h(o,"type","password"),h(o,"autocomplete","new-password"),h(o,"id",a=n[13]),o.required=!0,h(f,"class","form-field-addon")},m(_,k){C(_,e,k),v(e,t),v(e,i),v(e,r),C(_,l,k),C(_,o,k),Be(o,n[0].password),C(_,u,k),C(_,f,k),Q(c,f,null),m=!0,d||(b=ee(o,"input",n[9]),d=!0)},p(_,k){var w,I;(!m||k&8192&&s!==(s=_[13]))&&h(e,"for",s),(!m||k&8192&&a!==(a=_[13]))&&h(o,"id",a),k&1&&o.value!==_[0].password&&Be(o,_[0].password);const T={};k&2&&(T.length=Math.max(15,((I=(w=_[1])==null?void 0:w.options)==null?void 0:I.minPasswordLength)||0)),c.$set(T)},i(_){m||(O(c.$$.fragment,_),m=!0)},o(_){N(c.$$.fragment,_),m=!1},d(_){_&&(S(e),S(l),S(o),S(u),S(f)),X(c),d=!1,b()}}}function jg(n){let e,t,i,r,s,l,o,a,u,f;return{c(){e=y("label"),t=y("i"),i=R(),r=y("span"),r.textContent="Password confirm",l=R(),o=y("input"),h(t,"class","ri-lock-line"),h(r,"class","txt"),h(e,"for",s=n[13]),h(o,"type","password"),h(o,"autocomplete","new-password"),h(o,"id",a=n[13]),o.required=!0},m(c,m){C(c,e,m),v(e,t),v(e,i),v(e,r),C(c,l,m),C(c,o,m),Be(o,n[0].passwordConfirm),u||(f=ee(o,"input",n[10]),u=!0)},p(c,m){m&8192&&s!==(s=c[13])&&h(e,"for",s),m&8192&&a!==(a=c[13])&&h(o,"id",a),m&1&&o.value!==c[0].passwordConfirm&&Be(o,c[0].passwordConfirm)},d(c){c&&(S(e),S(l),S(o)),u=!1,f()}}}function Vg(n){let e,t,i,r,s,l,o,a;return{c(){e=y("input"),i=R(),r=y("label"),s=re("Verified"),h(e,"type","checkbox"),h(e,"id",t=n[13]),h(r,"for",l=n[13])},m(u,f){C(u,e,f),e.checked=n[0].verified,C(u,i,f),C(u,r,f),v(r,s),o||(a=[ee(e,"change",n[11]),ee(e,"change",$e(n[12]))],o=!0)},p(u,f){f&8192&&t!==(t=u[13])&&h(e,"id",t),f&1&&(e.checked=u[0].verified),f&8192&&l!==(l=u[13])&&h(r,"for",l)},d(u){u&&(S(e),S(i),S(r)),o=!1,Ce(a)}}}function Wg(n){var g;let e,t,i,r,s,l,o,a,u,f,c,m,d;i=new et({props:{class:"form-field "+(n[2]?"":"required"),name:"username",$$slots:{default:[Fg,({uniqueId:_})=>({13:_}),({uniqueId:_})=>_?8192:0]},$$scope:{ctx:n}}}),l=new et({props:{class:"form-field "+((g=n[1].options)!=null&&g.requireEmail?"required":""),name:"email",$$slots:{default:[Pg,({uniqueId:_})=>({13:_}),({uniqueId:_})=>_?8192:0]},$$scope:{ctx:n}}});let b=!n[2]&&Vo(n),p=(n[2]||n[3])&&Wo(n);return m=new et({props:{class:"form-field form-field-toggle",name:"verified",$$slots:{default:[Vg,({uniqueId:_})=>({13:_}),({uniqueId:_})=>_?8192:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),$(i.$$.fragment),r=R(),s=y("div"),$(l.$$.fragment),o=R(),a=y("div"),b&&b.c(),u=R(),p&&p.c(),f=R(),c=y("div"),$(m.$$.fragment),h(t,"class","col-lg-6"),h(s,"class","col-lg-6"),h(a,"class","col-lg-12"),h(c,"class","col-lg-12"),h(e,"class","grid m-b-base")},m(_,k){C(_,e,k),v(e,t),Q(i,t,null),v(e,r),v(e,s),Q(l,s,null),v(e,o),v(e,a),b&&b.m(a,null),v(a,u),p&&p.m(a,null),v(e,f),v(e,c),Q(m,c,null),d=!0},p(_,[k]){var P;const T={};k&4&&(T.class="form-field "+(_[2]?"":"required")),k&24581&&(T.$$scope={dirty:k,ctx:_}),i.$set(T);const w={};k&2&&(w.class="form-field "+((P=_[1].options)!=null&&P.requireEmail?"required":"")),k&24583&&(w.$$scope={dirty:k,ctx:_}),l.$set(w),_[2]?b&&(ae(),N(b,1,1,()=>{b=null}),ue()):b?(b.p(_,k),k&4&&O(b,1)):(b=Vo(_),b.c(),O(b,1),b.m(a,u)),_[2]||_[3]?p?(p.p(_,k),k&12&&O(p,1)):(p=Wo(_),p.c(),O(p,1),p.m(a,null)):p&&(ae(),N(p,1,1,()=>{p=null}),ue());const I={};k&24581&&(I.$$scope={dirty:k,ctx:_}),m.$set(I)},i(_){d||(O(i.$$.fragment,_),O(l.$$.fragment,_),O(b),O(p),O(m.$$.fragment,_),d=!0)},o(_){N(i.$$.fragment,_),N(l.$$.fragment,_),N(b),N(p),N(m.$$.fragment,_),d=!1},d(_){_&&S(e),X(i),X(l),b&&b.d(),p&&p.d(),X(m)}}}function Hg(n,e,t){let{record:i}=e,{collection:r}=e,{isNew:s=!(i!=null&&i.id)}=e,l=i.username||null,o=!1;function a(){i.username=this.value,t(0,i),t(3,o)}const u=()=>t(0,i.emailVisibility=!i.emailVisibility,i);function f(){i.email=this.value,t(0,i),t(3,o)}function c(){o=this.checked,t(3,o)}function m(){i.password=this.value,t(0,i),t(3,o)}function d(){i.passwordConfirm=this.value,t(0,i),t(3,o)}function b(){i.verified=this.checked,t(0,i),t(3,o)}const p=g=>{s||hi("Do you really want to manually change the verified account state?",()=>{},()=>{t(0,i.verified=!g.target.checked,i)})};return n.$$set=g=>{"record"in g&&t(0,i=g.record),"collection"in g&&t(1,r=g.collection),"isNew"in g&&t(2,s=g.isNew)},n.$$.update=()=>{n.$$.dirty&1&&!i.username&&i.username!==null&&t(0,i.username=null,i),n.$$.dirty&8&&(o||(t(0,i.password=null,i),t(0,i.passwordConfirm=null,i),es("password"),es("passwordConfirm")))},[i,r,s,o,l,a,u,f,c,m,d,b,p]}class Ug extends ke{constructor(e){super(),we(this,e,Hg,Wg,be,{record:0,collection:1,isNew:2})}}function zg(n){let e,t,i,r=[n[3]],s={};for(let l=0;l<r.length;l+=1)s=Ke(s,r[l]);return{c(){e=y("textarea"),Xi(e,s),J(e,"svelte-1x1pbts",!0)},m(l,o){C(l,e,o),e.autofocus&&e.focus(),n[5](e),Be(e,n[0]),t||(i=[ee(e,"input",n[6]),ee(e,"keydown",n[2])],t=!0)},p(l,[o]){Xi(e,s=Wt(r,[o&8&&l[3]])),o&1&&Be(e,l[0]),J(e,"svelte-1x1pbts",!0)},i:G,o:G,d(l){l&&S(e),n[5](null),t=!1,Ce(i)}}}function Yg(n,e,t){const i=["value","maxHeight"];let r=sn(e,i),{value:s=""}=e,{maxHeight:l=200}=e,o,a;function u(){clearTimeout(a),a=setTimeout(()=>{o&&(t(1,o.style.height="",o),t(1,o.style.height=Math.min(o.scrollHeight,l)+"px",o))},0)}function f(d){if((d==null?void 0:d.code)==="Enter"&&!(d!=null&&d.shiftKey)&&!(d!=null&&d.isComposing)){d.preventDefault();const b=o.closest("form");b!=null&&b.requestSubmit&&b.requestSubmit()}}At(()=>(u(),()=>clearTimeout(a)));function c(d){le[d?"unshift":"push"](()=>{o=d,t(1,o)})}function m(){s=this.value,t(0,s)}return n.$$set=d=>{e=Ke(Ke({},e),Ci(d)),t(3,r=sn(e,i)),"value"in d&&t(0,s=d.value),"maxHeight"in d&&t(4,l=d.maxHeight)},n.$$.update=()=>{n.$$.dirty&1&&typeof s!==void 0&&u()},[s,o,f,r,l,c,m]}class Bg extends ke{constructor(e){super(),we(this,e,Yg,zg,be,{value:0,maxHeight:4})}}function Kg(n){let e,t,i,r,s,l=n[1].name+"",o,a,u,f,c,m;function d(p){n[2](p)}let b={id:n[3],required:n[1].required};return n[0]!==void 0&&(b.value=n[0]),f=new Bg({props:b}),le.push(()=>Le(f,"value",d)),{c(){e=y("label"),t=y("i"),r=R(),s=y("span"),o=re(l),u=R(),$(f.$$.fragment),h(t,"class",i=F.getFieldTypeIcon(n[1].type)),h(s,"class","txt"),h(e,"for",a=n[3])},m(p,g){C(p,e,g),v(e,t),v(e,r),v(e,s),v(s,o),C(p,u,g),Q(f,p,g),m=!0},p(p,g){(!m||g&2&&i!==(i=F.getFieldTypeIcon(p[1].type)))&&h(t,"class",i),(!m||g&2)&&l!==(l=p[1].name+"")&&pe(o,l),(!m||g&8&&a!==(a=p[3]))&&h(e,"for",a);const _={};g&8&&(_.id=p[3]),g&2&&(_.required=p[1].required),!c&&g&1&&(c=!0,_.value=p[0],Pe(()=>c=!1)),f.$set(_)},i(p){m||(O(f.$$.fragment,p),m=!0)},o(p){N(f.$$.fragment,p),m=!1},d(p){p&&(S(e),S(u)),X(f,p)}}}function Zg(n){let e,t;return e=new et({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[Kg,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const s={};r&2&&(s.class="form-field "+(i[1].required?"required":"")),r&2&&(s.name=i[1].name),r&27&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function Jg(n,e,t){let{field:i}=e,{value:r=void 0}=e;function s(l){r=l,t(0,r)}return n.$$set=l=>{"field"in l&&t(1,i=l.field),"value"in l&&t(0,r=l.value)},[r,i,s]}class Gg extends ke{constructor(e){super(),we(this,e,Jg,Zg,be,{field:1,value:0})}}function Qg(n){let e,t,i,r,s,l=n[1].name+"",o,a,u,f,c,m,d,b,p,g;return{c(){var _,k;e=y("label"),t=y("i"),r=R(),s=y("span"),o=re(l),u=R(),f=y("input"),h(t,"class",i=F.getFieldTypeIcon(n[1].type)),h(s,"class","txt"),h(e,"for",a=n[3]),h(f,"type","number"),h(f,"id",c=n[3]),f.required=m=n[1].required,h(f,"min",d=(_=n[1].options)==null?void 0:_.min),h(f,"max",b=(k=n[1].options)==null?void 0:k.max),h(f,"step","any")},m(_,k){C(_,e,k),v(e,t),v(e,r),v(e,s),v(s,o),C(_,u,k),C(_,f,k),Be(f,n[0]),p||(g=ee(f,"input",n[2]),p=!0)},p(_,k){var T,w;k&2&&i!==(i=F.getFieldTypeIcon(_[1].type))&&h(t,"class",i),k&2&&l!==(l=_[1].name+"")&&pe(o,l),k&8&&a!==(a=_[3])&&h(e,"for",a),k&8&&c!==(c=_[3])&&h(f,"id",c),k&2&&m!==(m=_[1].required)&&(f.required=m),k&2&&d!==(d=(T=_[1].options)==null?void 0:T.min)&&h(f,"min",d),k&2&&b!==(b=(w=_[1].options)==null?void 0:w.max)&&h(f,"max",b),k&1&&lu(f.value)!==_[0]&&Be(f,_[0])},d(_){_&&(S(e),S(u),S(f)),p=!1,g()}}}function Xg(n){let e,t;return e=new et({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[Qg,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const s={};r&2&&(s.class="form-field "+(i[1].required?"required":"")),r&2&&(s.name=i[1].name),r&27&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function $g(n,e,t){let{field:i}=e,{value:r=void 0}=e;function s(){r=lu(this.value),t(0,r)}return n.$$set=l=>{"field"in l&&t(1,i=l.field),"value"in l&&t(0,r=l.value)},[r,i,s]}class xg extends ke{constructor(e){super(),we(this,e,$g,Xg,be,{field:1,value:0})}}function e1(n){let e,t,i,r,s=n[1].name+"",l,o,a,u;return{c(){e=y("input"),i=R(),r=y("label"),l=re(s),h(e,"type","checkbox"),h(e,"id",t=n[3]),h(r,"for",o=n[3])},m(f,c){C(f,e,c),e.checked=n[0],C(f,i,c),C(f,r,c),v(r,l),a||(u=ee(e,"change",n[2]),a=!0)},p(f,c){c&8&&t!==(t=f[3])&&h(e,"id",t),c&1&&(e.checked=f[0]),c&2&&s!==(s=f[1].name+"")&&pe(l,s),c&8&&o!==(o=f[3])&&h(r,"for",o)},d(f){f&&(S(e),S(i),S(r)),a=!1,u()}}}function t1(n){let e,t;return e=new et({props:{class:"form-field form-field-toggle "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[e1,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const s={};r&2&&(s.class="form-field form-field-toggle "+(i[1].required?"required":"")),r&2&&(s.name=i[1].name),r&27&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function n1(n,e,t){let{field:i}=e,{value:r=!1}=e;function s(){r=this.checked,t(0,r)}return n.$$set=l=>{"field"in l&&t(1,i=l.field),"value"in l&&t(0,r=l.value)},[r,i,s]}class i1 extends ke{constructor(e){super(),we(this,e,n1,t1,be,{field:1,value:0})}}function r1(n){let e,t,i,r,s,l=n[1].name+"",o,a,u,f,c,m,d,b;return{c(){e=y("label"),t=y("i"),r=R(),s=y("span"),o=re(l),u=R(),f=y("input"),h(t,"class",i=F.getFieldTypeIcon(n[1].type)),h(s,"class","txt"),h(e,"for",a=n[3]),h(f,"type","email"),h(f,"id",c=n[3]),f.required=m=n[1].required},m(p,g){C(p,e,g),v(e,t),v(e,r),v(e,s),v(s,o),C(p,u,g),C(p,f,g),Be(f,n[0]),d||(b=ee(f,"input",n[2]),d=!0)},p(p,g){g&2&&i!==(i=F.getFieldTypeIcon(p[1].type))&&h(t,"class",i),g&2&&l!==(l=p[1].name+"")&&pe(o,l),g&8&&a!==(a=p[3])&&h(e,"for",a),g&8&&c!==(c=p[3])&&h(f,"id",c),g&2&&m!==(m=p[1].required)&&(f.required=m),g&1&&f.value!==p[0]&&Be(f,p[0])},d(p){p&&(S(e),S(u),S(f)),d=!1,b()}}}function s1(n){let e,t;return e=new et({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[r1,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const s={};r&2&&(s.class="form-field "+(i[1].required?"required":"")),r&2&&(s.name=i[1].name),r&27&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function l1(n,e,t){let{field:i}=e,{value:r=void 0}=e;function s(){r=this.value,t(0,r)}return n.$$set=l=>{"field"in l&&t(1,i=l.field),"value"in l&&t(0,r=l.value)},[r,i,s]}class o1 extends ke{constructor(e){super(),we(this,e,l1,s1,be,{field:1,value:0})}}function a1(n){let e,t,i,r,s,l=n[1].name+"",o,a,u,f,c,m,d,b;return{c(){e=y("label"),t=y("i"),r=R(),s=y("span"),o=re(l),u=R(),f=y("input"),h(t,"class",i=F.getFieldTypeIcon(n[1].type)),h(s,"class","txt"),h(e,"for",a=n[3]),h(f,"type","url"),h(f,"id",c=n[3]),f.required=m=n[1].required},m(p,g){C(p,e,g),v(e,t),v(e,r),v(e,s),v(s,o),C(p,u,g),C(p,f,g),Be(f,n[0]),d||(b=ee(f,"input",n[2]),d=!0)},p(p,g){g&2&&i!==(i=F.getFieldTypeIcon(p[1].type))&&h(t,"class",i),g&2&&l!==(l=p[1].name+"")&&pe(o,l),g&8&&a!==(a=p[3])&&h(e,"for",a),g&8&&c!==(c=p[3])&&h(f,"id",c),g&2&&m!==(m=p[1].required)&&(f.required=m),g&1&&f.value!==p[0]&&Be(f,p[0])},d(p){p&&(S(e),S(u),S(f)),d=!1,b()}}}function u1(n){let e,t;return e=new et({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[a1,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const s={};r&2&&(s.class="form-field "+(i[1].required?"required":"")),r&2&&(s.name=i[1].name),r&27&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function f1(n,e,t){let{field:i}=e,{value:r=void 0}=e;function s(){r=this.value,t(0,r)}return n.$$set=l=>{"field"in l&&t(1,i=l.field),"value"in l&&t(0,r=l.value)},[r,i,s]}class c1 extends ke{constructor(e){super(),we(this,e,f1,u1,be,{field:1,value:0})}}var Rr=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Gn={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},vi={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Et=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},zt=function(n){return n===!0?1:0};function Ho(n,e){var t;return function(){var i=this,r=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(i,r)},e)}}var qr=function(n){return n instanceof Array?n:[n]};function Dt(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function We(n,e,t){var i=window.document.createElement(n);return e=e||"",t=t||"",i.className=e,t!==void 0&&(i.textContent=t),i}function Hi(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Ff(n,e){if(e(n))return n;if(n.parentNode)return Ff(n.parentNode,e)}function Ui(n,e){var t=We("div","numInputWrapper"),i=We("input","numInput "+n),r=We("span","arrowUp"),s=We("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?i.type="number":(i.type="text",i.pattern="\\d*"),e!==void 0)for(var l in e)i.setAttribute(l,e[l]);return t.appendChild(i),t.appendChild(r),t.appendChild(s),t}function Rt(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var jr=function(){},lr=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},d1={D:jr,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*zt(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var i=parseInt(e),r=new Date(n.getFullYear(),0,2+(i-1)*7,0,0,0,0);return r.setDate(r.getDate()-r.getDay()+t.firstDayOfWeek),r},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:jr,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:jr,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},En={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},pi={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[pi.w(n,e,t)]},F:function(n,e,t){return lr(pi.n(n,e,t)-1,!1,e)},G:function(n,e,t){return Et(pi.h(n,e,t))},H:function(n){return Et(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[zt(n.getHours()>11)]},M:function(n,e){return lr(n.getMonth(),!0,e)},S:function(n){return Et(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return Et(n.getFullYear(),4)},d:function(n){return Et(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return Et(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return Et(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},Pf=function(n){var e=n.config,t=e===void 0?Gn:e,i=n.l10n,r=i===void 0?vi:i,s=n.isMobile,l=s===void 0?!1:s;return function(o,a,u){var f=u||r;return t.formatDate!==void 0&&!l?t.formatDate(o,a,f):a.split("").map(function(c,m,d){return pi[c]&&d[m-1]!=="\\"?pi[c](o,f,t):c!=="\\"?c:""}).join("")}},ts=function(n){var e=n.config,t=e===void 0?Gn:e,i=n.l10n,r=i===void 0?vi:i;return function(s,l,o,a){if(!(s!==0&&!s)){var u=a||r,f,c=s;if(s instanceof Date)f=new Date(s.getTime());else if(typeof s!="string"&&s.toFixed!==void 0)f=new Date(s);else if(typeof s=="string"){var m=l||(t||Gn).dateFormat,d=String(s).trim();if(d==="today")f=new Date,o=!0;else if(t&&t.parseDate)f=t.parseDate(s,m);else if(/Z$/.test(d)||/GMT$/.test(d))f=new Date(s);else{for(var b=void 0,p=[],g=0,_=0,k="";g<m.length;g++){var T=m[g],w=T==="\\",I=m[g-1]==="\\"||w;if(En[T]&&!I){k+=En[T];var P=new RegExp(k).exec(s);P&&(b=!0)&&p[T!=="Y"?"push":"unshift"]({fn:d1[T],val:P[++_]})}else w||(k+=".")}f=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),p.forEach(function(A){var E=A.fn,L=A.val;return f=E(f,L,u)||f}),f=b?f:void 0}}if(!(f instanceof Date&&!isNaN(f.getTime()))){t.errorHandler(new Error("Invalid date provided: "+c));return}return o===!0&&f.setHours(0,0,0,0),f}}};function qt(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var m1=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},Vr=function(n,e,t){return n*3600+e*60+t},h1=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},p1={DAY:864e5};function Wr(n){var e=n.defaultHour,t=n.defaultMinute,i=n.defaultSeconds;if(n.minDate!==void 0){var r=n.minDate.getHours(),s=n.minDate.getMinutes(),l=n.minDate.getSeconds();e<r&&(e=r),e===r&&t<s&&(t=s),e===r&&t===s&&i<l&&(i=n.minDate.getSeconds())}if(n.maxDate!==void 0){var o=n.maxDate.getHours(),a=n.maxDate.getMinutes();e=Math.min(e,o),e===o&&(t=Math.min(a,t)),e===o&&t===a&&(i=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:i}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var i=function(o){o&&Object.keys(o).forEach(function(a){return n[a]=o[a]})},r=0,s=e;r<s.length;r++){var l=s[r];i(l)}return n});var wt=function(){return wt=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},wt.apply(this,arguments)},Uo=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var s=arguments[e],l=0,o=s.length;l<o;l++,r++)i[r]=s[l];return i},g1=300;function _1(n,e){var t={config:wt(wt({},Gn),nt.defaultConfig),l10n:vi};t.parseDate=ts({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=p,t._setHoursFromDate=m,t._positionCalendar=Lt,t.changeMonth=at,t.changeYear=it,t.clear=Ct,t.close=yt,t.onMouseOver=je,t._createElement=We,t.createDay=P,t.destroy=Ht,t.isEnabled=ut,t.jumpToDate=k,t.updateValue=an,t.open=de,t.redraw=Pn,t.set=fe,t.setDate=Sn,t.toggle=oe;function i(){t.utils={getDaysInMonth:function(D,M){return D===void 0&&(D=t.currentMonth),M===void 0&&(M=t.currentYear),D===1&&(M%4===0&&M%100!==0||M%400===0)?29:t.l10n.daysInMonth[D]}}}function r(){t.element=t.input=n,t.isOpen=!1,Te(),ft(),li(),qn(),i(),t.isMobile||I(),_(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&m(t.config.noCalendar?t.latestSelectedDateObj:void 0),an(!1)),o();var D=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&D&&Lt(),_e("onReady")}function s(){var D;return((D=t.calendarContainer)===null||D===void 0?void 0:D.getRootNode()).activeElement||document.activeElement}function l(D){return D.bind(t)}function o(){var D=t.config;D.weekNumbers===!1&&D.showMonths===1||D.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var M=(t.days.offsetWidth+1)*D.showMonths;t.daysContainer.style.width=M+"px",t.calendarContainer.style.width=M+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function a(D){if(t.selectedDates.length===0){var M=t.config.minDate===void 0||qt(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),V=Wr(t.config);M.setHours(V.hours,V.minutes,V.seconds,M.getMilliseconds()),t.selectedDates=[M],t.latestSelectedDateObj=M}D!==void 0&&D.type!=="blur"&&Hf(D);var Y=t._input.value;c(),an(),t._input.value!==Y&&t._debouncedChange()}function u(D,M){return D%12+12*zt(M===t.l10n.amPM[1])}function f(D){switch(D%24){case 0:case 12:return 12;default:return D%12}}function c(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var D=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,M=(parseInt(t.minuteElement.value,10)||0)%60,V=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(D=u(D,t.amPM.textContent));var Y=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&qt(t.latestSelectedDateObj,t.config.minDate,!0)===0,ie=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&qt(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var ce=Vr(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),Me=Vr(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),he=Vr(D,M,V);if(he>Me&&he<ce){var Fe=h1(ce);D=Fe[0],M=Fe[1],V=Fe[2]}}else{if(ie){var me=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;D=Math.min(D,me.getHours()),D===me.getHours()&&(M=Math.min(M,me.getMinutes())),M===me.getMinutes()&&(V=Math.min(V,me.getSeconds()))}if(Y){var Se=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;D=Math.max(D,Se.getHours()),D===Se.getHours()&&M<Se.getMinutes()&&(M=Se.getMinutes()),M===Se.getMinutes()&&(V=Math.max(V,Se.getSeconds()))}}d(D,M,V)}}function m(D){var M=D||t.latestSelectedDateObj;M&&M instanceof Date&&d(M.getHours(),M.getMinutes(),M.getSeconds())}function d(D,M,V){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(D%24,M,V||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=Et(t.config.time_24hr?D:(12+D)%12+12*zt(D%12===0)),t.minuteElement.value=Et(M),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[zt(D>=12)]),t.secondElement!==void 0&&(t.secondElement.value=Et(V)))}function b(D){var M=Rt(D),V=parseInt(M.value)+(D.delta||0);(V/1e3>1||D.key==="Enter"&&!/[^\d]/.test(V.toString()))&&it(V)}function p(D,M,V,Y){if(M instanceof Array)return M.forEach(function(ie){return p(D,ie,V,Y)});if(D instanceof Array)return D.forEach(function(ie){return p(ie,M,V,Y)});D.addEventListener(M,V,Y),t._handlers.push({remove:function(){return D.removeEventListener(M,V,Y)}})}function g(){_e("onChange")}function _(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(V){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+V+"]"),function(Y){return p(Y,"click",t[V])})}),t.isMobile){x();return}var D=Ho(rt,50);if(t._debouncedChange=Ho(g,g1),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&p(t.daysContainer,"mouseover",function(V){t.config.mode==="range"&&je(Rt(V))}),p(t._input,"keydown",Ue),t.calendarContainer!==void 0&&p(t.calendarContainer,"keydown",Ue),!t.config.inline&&!t.config.static&&p(window,"resize",D),window.ontouchstart!==void 0?p(window.document,"touchstart",Tt):p(window.document,"mousedown",Tt),p(window.document,"focus",Tt,{capture:!0}),t.config.clickOpens===!0&&(p(t._input,"focus",t.open),p(t._input,"click",t.open)),t.daysContainer!==void 0&&(p(t.monthNav,"click",Wf),p(t.monthNav,["keyup","increment"],b),p(t.daysContainer,"click",Rn)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var M=function(V){return Rt(V).select()};p(t.timeContainer,["increment"],a),p(t.timeContainer,"blur",a,{capture:!0}),p(t.timeContainer,"click",T),p([t.hourElement,t.minuteElement],["focus","click"],M),t.secondElement!==void 0&&p(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&p(t.amPM,"click",function(V){a(V)})}t.config.allowInput&&p(t._input,"blur",qe)}function k(D,M){var V=D!==void 0?t.parseDate(D):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),Y=t.currentYear,ie=t.currentMonth;try{V!==void 0&&(t.currentYear=V.getFullYear(),t.currentMonth=V.getMonth())}catch(ce){ce.message="Invalid date supplied: "+V,t.config.errorHandler(ce)}M&&t.currentYear!==Y&&(_e("onYearChange"),B()),M&&(t.currentYear!==Y||t.currentMonth!==ie)&&_e("onMonthChange"),t.redraw()}function T(D){var M=Rt(D);~M.className.indexOf("arrow")&&w(D,M.classList.contains("arrowUp")?1:-1)}function w(D,M,V){var Y=D&&Rt(D),ie=V||Y&&Y.parentNode&&Y.parentNode.firstChild,ce=Ie("increment");ce.delta=M,ie&&ie.dispatchEvent(ce)}function I(){var D=window.document.createDocumentFragment();if(t.calendarContainer=We("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(D.appendChild(te()),t.innerContainer=We("div","flatpickr-innerContainer"),t.config.weekNumbers){var M=De(),V=M.weekWrapper,Y=M.weekNumbers;t.innerContainer.appendChild(V),t.weekNumbers=Y,t.weekWrapper=V}t.rContainer=We("div","flatpickr-rContainer"),t.rContainer.appendChild(H()),t.daysContainer||(t.daysContainer=We("div","flatpickr-days"),t.daysContainer.tabIndex=-1),z(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),D.appendChild(t.innerContainer)}t.config.enableTime&&D.appendChild(U()),Dt(t.calendarContainer,"rangeMode",t.config.mode==="range"),Dt(t.calendarContainer,"animate",t.config.animate===!0),Dt(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(D);var ie=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!ie&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var ce=We("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(ce,t.element),ce.appendChild(t.element),t.altInput&&ce.appendChild(t.altInput),ce.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function P(D,M,V,Y){var ie=ut(M,!0),ce=We("span",D,M.getDate().toString());return ce.dateObj=M,ce.$i=Y,ce.setAttribute("aria-label",t.formatDate(M,t.config.ariaDateFormat)),D.indexOf("hidden")===-1&&qt(M,t.now)===0&&(t.todayDateElem=ce,ce.classList.add("today"),ce.setAttribute("aria-current","date")),ie?(ce.tabIndex=-1,Ne(M)&&(ce.classList.add("selected"),t.selectedDateElem=ce,t.config.mode==="range"&&(Dt(ce,"startRange",t.selectedDates[0]&&qt(M,t.selectedDates[0],!0)===0),Dt(ce,"endRange",t.selectedDates[1]&&qt(M,t.selectedDates[1],!0)===0),D==="nextMonthDay"&&ce.classList.add("inRange")))):ce.classList.add("flatpickr-disabled"),t.config.mode==="range"&&Je(M)&&!Ne(M)&&ce.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&D!=="prevMonthDay"&&Y%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(M)+"</span>"),_e("onDayCreate",ce),ce}function A(D){D.focus(),t.config.mode==="range"&&je(D)}function E(D){for(var M=D>0?0:t.config.showMonths-1,V=D>0?t.config.showMonths:-1,Y=M;Y!=V;Y+=D)for(var ie=t.daysContainer.children[Y],ce=D>0?0:ie.children.length-1,Me=D>0?ie.children.length:-1,he=ce;he!=Me;he+=D){var Fe=ie.children[he];if(Fe.className.indexOf("hidden")===-1&&ut(Fe.dateObj))return Fe}}function L(D,M){for(var V=D.className.indexOf("Month")===-1?D.dateObj.getMonth():t.currentMonth,Y=M>0?t.config.showMonths:-1,ie=M>0?1:-1,ce=V-t.currentMonth;ce!=Y;ce+=ie)for(var Me=t.daysContainer.children[ce],he=V-t.currentMonth===ce?D.$i+M:M<0?Me.children.length-1:0,Fe=Me.children.length,me=he;me>=0&&me<Fe&&me!=(M>0?Fe:-1);me+=ie){var Se=Me.children[me];if(Se.className.indexOf("hidden")===-1&&ut(Se.dateObj)&&Math.abs(D.$i-me)>=Math.abs(M))return A(Se)}t.changeMonth(ie),q(E(ie),0)}function q(D,M){var V=s(),Y=ve(V||document.body),ie=D!==void 0?D:Y?V:t.selectedDateElem!==void 0&&ve(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&ve(t.todayDateElem)?t.todayDateElem:E(M>0?1:-1);ie===void 0?t._input.focus():Y?L(ie,M):A(ie)}function W(D,M){for(var V=(new Date(D,M,1).getDay()-t.l10n.firstDayOfWeek+7)%7,Y=t.utils.getDaysInMonth((M-1+12)%12,D),ie=t.utils.getDaysInMonth(M,D),ce=window.document.createDocumentFragment(),Me=t.config.showMonths>1,he=Me?"prevMonthDay hidden":"prevMonthDay",Fe=Me?"nextMonthDay hidden":"nextMonthDay",me=Y+1-V,Se=0;me<=Y;me++,Se++)ce.appendChild(P("flatpickr-day "+he,new Date(D,M-1,me),me,Se));for(me=1;me<=ie;me++,Se++)ce.appendChild(P("flatpickr-day",new Date(D,M,me),me,Se));for(var Ye=ie+1;Ye<=42-V&&(t.config.showMonths===1||Se%7!==0);Ye++,Se++)ce.appendChild(P("flatpickr-day "+Fe,new Date(D,M+1,Ye%ie),Ye,Se));var en=We("div","dayContainer");return en.appendChild(ce),en}function z(){if(t.daysContainer!==void 0){Hi(t.daysContainer),t.weekNumbers&&Hi(t.weekNumbers);for(var D=document.createDocumentFragment(),M=0;M<t.config.showMonths;M++){var V=new Date(t.currentYear,t.currentMonth,1);V.setMonth(t.currentMonth+M),D.appendChild(W(V.getFullYear(),V.getMonth()))}t.daysContainer.appendChild(D),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&je()}}function B(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var D=function(Y){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&Y<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&Y>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var M=0;M<12;M++)if(D(M)){var V=We("option","flatpickr-monthDropdown-month");V.value=new Date(t.currentYear,M).getMonth().toString(),V.textContent=lr(M,t.config.shorthandCurrentMonth,t.l10n),V.tabIndex=-1,t.currentMonth===M&&(V.selected=!0),t.monthsDropdownContainer.appendChild(V)}}}function ne(){var D=We("div","flatpickr-month"),M=window.document.createDocumentFragment(),V;t.config.showMonths>1||t.config.monthSelectorType==="static"?V=We("span","cur-month"):(t.monthsDropdownContainer=We("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),p(t.monthsDropdownContainer,"change",function(Me){var he=Rt(Me),Fe=parseInt(he.value,10);t.changeMonth(Fe-t.currentMonth),_e("onMonthChange")}),B(),V=t.monthsDropdownContainer);var Y=Ui("cur-year",{tabindex:"-1"}),ie=Y.getElementsByTagName("input")[0];ie.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&ie.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(ie.setAttribute("max",t.config.maxDate.getFullYear().toString()),ie.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var ce=We("div","flatpickr-current-month");return ce.appendChild(V),ce.appendChild(Y),M.appendChild(ce),D.appendChild(M),{container:D,yearElement:ie,monthElement:V}}function Z(){Hi(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var D=t.config.showMonths;D--;){var M=ne();t.yearElements.push(M.yearElement),t.monthElements.push(M.monthElement),t.monthNav.appendChild(M.container)}t.monthNav.appendChild(t.nextMonthNav)}function te(){return t.monthNav=We("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=We("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=We("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,Z(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(D){t.__hidePrevMonthArrow!==D&&(Dt(t.prevMonthNav,"flatpickr-disabled",D),t.__hidePrevMonthArrow=D)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(D){t.__hideNextMonthArrow!==D&&(Dt(t.nextMonthNav,"flatpickr-disabled",D),t.__hideNextMonthArrow=D)}}),t.currentYearElement=t.yearElements[0],lt(),t.monthNav}function U(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var D=Wr(t.config);t.timeContainer=We("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var M=We("span","flatpickr-time-separator",":"),V=Ui("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=V.getElementsByTagName("input")[0];var Y=Ui("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=Y.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=Et(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?D.hours:f(D.hours)),t.minuteElement.value=Et(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():D.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(V),t.timeContainer.appendChild(M),t.timeContainer.appendChild(Y),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var ie=Ui("flatpickr-second");t.secondElement=ie.getElementsByTagName("input")[0],t.secondElement.value=Et(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():D.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(We("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(ie)}return t.config.time_24hr||(t.amPM=We("span","flatpickr-am-pm",t.l10n.amPM[zt((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function H(){t.weekdayContainer?Hi(t.weekdayContainer):t.weekdayContainer=We("div","flatpickr-weekdays");for(var D=t.config.showMonths;D--;){var M=We("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(M)}return j(),t.weekdayContainer}function j(){if(t.weekdayContainer){var D=t.l10n.firstDayOfWeek,M=Uo(t.l10n.weekdays.shorthand);D>0&&D<M.length&&(M=Uo(M.splice(D,M.length),M.splice(0,D)));for(var V=t.config.showMonths;V--;)t.weekdayContainer.children[V].innerHTML=`
      <span class='flatpickr-weekday'>
        `+M.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function De(){t.calendarContainer.classList.add("hasWeeks");var D=We("div","flatpickr-weekwrapper");D.appendChild(We("span","flatpickr-weekday",t.l10n.weekAbbreviation));var M=We("div","flatpickr-weeks");return D.appendChild(M),{weekWrapper:D,weekNumbers:M}}function at(D,M){M===void 0&&(M=!0);var V=M?D:D-t.currentMonth;V<0&&t._hidePrevMonthArrow===!0||V>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=V,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,_e("onYearChange"),B()),z(),_e("onMonthChange"),lt())}function Ct(D,M){if(D===void 0&&(D=!0),M===void 0&&(M=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,M===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var V=Wr(t.config),Y=V.hours,ie=V.minutes,ce=V.seconds;d(Y,ie,ce)}t.redraw(),D&&_e("onChange")}function yt(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),_e("onClose")}function Ht(){t.config!==void 0&&_e("onDestroy");for(var D=t._handlers.length;D--;)t._handlers[D].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var M=t.calendarContainer.parentNode;if(M.lastChild&&M.removeChild(M.lastChild),M.parentNode){for(;M.firstChild;)M.parentNode.insertBefore(M.firstChild,M);M.parentNode.removeChild(M)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(V){try{delete t[V]}catch{}})}function gt(D){return t.calendarContainer.contains(D)}function Tt(D){if(t.isOpen&&!t.config.inline){var M=Rt(D),V=gt(M),Y=M===t.input||M===t.altInput||t.element.contains(M)||D.path&&D.path.indexOf&&(~D.path.indexOf(t.input)||~D.path.indexOf(t.altInput)),ie=!Y&&!V&&!gt(D.relatedTarget),ce=!t.config.ignoredFocusElements.some(function(Me){return Me.contains(M)});ie&&ce&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&a(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function it(D){if(!(!D||t.config.minDate&&D<t.config.minDate.getFullYear()||t.config.maxDate&&D>t.config.maxDate.getFullYear())){var M=D,V=t.currentYear!==M;t.currentYear=M||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),V&&(t.redraw(),_e("onYearChange"),B())}}function ut(D,M){var V;M===void 0&&(M=!0);var Y=t.parseDate(D,void 0,M);if(t.config.minDate&&Y&&qt(Y,t.config.minDate,M!==void 0?M:!t.minDateHasTime)<0||t.config.maxDate&&Y&&qt(Y,t.config.maxDate,M!==void 0?M:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(Y===void 0)return!1;for(var ie=!!t.config.enable,ce=(V=t.config.enable)!==null&&V!==void 0?V:t.config.disable,Me=0,he=void 0;Me<ce.length;Me++){if(he=ce[Me],typeof he=="function"&&he(Y))return ie;if(he instanceof Date&&Y!==void 0&&he.getTime()===Y.getTime())return ie;if(typeof he=="string"){var Fe=t.parseDate(he,void 0,!0);return Fe&&Fe.getTime()===Y.getTime()?ie:!ie}else if(typeof he=="object"&&Y!==void 0&&he.from&&he.to&&Y.getTime()>=he.from.getTime()&&Y.getTime()<=he.to.getTime())return ie}return!ie}function ve(D){return t.daysContainer!==void 0?D.className.indexOf("hidden")===-1&&D.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(D):!1}function qe(D){var M=D.target===t._input,V=t._input.value.trimEnd()!==Ft();M&&V&&!(D.relatedTarget&&gt(D.relatedTarget))&&t.setDate(t._input.value,!0,D.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Ue(D){var M=Rt(D),V=t.config.wrap?n.contains(M):M===t._input,Y=t.config.allowInput,ie=t.isOpen&&(!Y||!V),ce=t.config.inline&&V&&!Y;if(D.keyCode===13&&V){if(Y)return t.setDate(t._input.value,!0,M===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),M.blur();t.open()}else if(gt(M)||ie||ce){var Me=!!t.timeContainer&&t.timeContainer.contains(M);switch(D.keyCode){case 13:Me?(D.preventDefault(),a(),vn()):Rn(D);break;case 27:D.preventDefault(),vn();break;case 8:case 46:V&&!t.config.allowInput&&(D.preventDefault(),t.clear());break;case 37:case 39:if(!Me&&!V){D.preventDefault();var he=s();if(t.daysContainer!==void 0&&(Y===!1||he&&ve(he))){var Fe=D.keyCode===39?1:-1;D.ctrlKey?(D.stopPropagation(),at(Fe),q(E(1),0)):q(void 0,Fe)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:D.preventDefault();var me=D.keyCode===40?1:-1;t.daysContainer&&M.$i!==void 0||M===t.input||M===t.altInput?D.ctrlKey?(D.stopPropagation(),it(t.currentYear-me),q(E(1),0)):Me||q(void 0,me*7):M===t.currentYearElement?it(t.currentYear-me):t.config.enableTime&&(!Me&&t.hourElement&&t.hourElement.focus(),a(D),t._debouncedChange());break;case 9:if(Me){var Se=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Pt){return Pt}),Ye=Se.indexOf(M);if(Ye!==-1){var en=Se[Ye+(D.shiftKey?-1:1)];D.preventDefault(),(en||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(M)&&D.shiftKey&&(D.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&M===t.amPM)switch(D.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],c(),an();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],c(),an();break}(V||gt(M))&&_e("onKeyDown",D)}function je(D,M){if(M===void 0&&(M="flatpickr-day"),!(t.selectedDates.length!==1||D&&(!D.classList.contains(M)||D.classList.contains("flatpickr-disabled")))){for(var V=D?D.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),Y=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),ie=Math.min(V,t.selectedDates[0].getTime()),ce=Math.max(V,t.selectedDates[0].getTime()),Me=!1,he=0,Fe=0,me=ie;me<ce;me+=p1.DAY)ut(new Date(me),!0)||(Me=Me||me>ie&&me<ce,me<Y&&(!he||me>he)?he=me:me>Y&&(!Fe||me<Fe)&&(Fe=me));var Se=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+M));Se.forEach(function(Ye){var en=Ye.dateObj,Pt=en.getTime(),oi=he>0&&Pt<he||Fe>0&&Pt>Fe;if(oi){Ye.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(jn){Ye.classList.remove(jn)});return}else if(Me&&!oi)return;["startRange","inRange","endRange","notAllowed"].forEach(function(jn){Ye.classList.remove(jn)}),D!==void 0&&(D.classList.add(V<=t.selectedDates[0].getTime()?"startRange":"endRange"),Y<V&&Pt===Y?Ye.classList.add("startRange"):Y>V&&Pt===Y&&Ye.classList.add("endRange"),Pt>=he&&(Fe===0||Pt<=Fe)&&m1(Pt,Y,V)&&Ye.classList.add("inRange"))})}}function rt(){t.isOpen&&!t.config.static&&!t.config.inline&&Lt()}function de(D,M){if(M===void 0&&(M=t._positionElement),t.isMobile===!0){if(D){D.preventDefault();var V=Rt(D);V&&V.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),_e("onOpen");return}else if(t._input.disabled||t.config.inline)return;var Y=t.isOpen;t.isOpen=!0,Y||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),_e("onOpen"),Lt(M)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(D===void 0||!t.timeContainer.contains(D.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function K(D){return function(M){var V=t.config["_"+D+"Date"]=t.parseDate(M,t.config.dateFormat),Y=t.config["_"+(D==="min"?"max":"min")+"Date"];V!==void 0&&(t[D==="min"?"minDateHasTime":"maxDateHasTime"]=V.getHours()>0||V.getMinutes()>0||V.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(ie){return ut(ie)}),!t.selectedDates.length&&D==="min"&&m(V),an()),t.daysContainer&&(Pn(),V!==void 0?t.currentYearElement[D]=V.getFullYear().toString():t.currentYearElement.removeAttribute(D),t.currentYearElement.disabled=!!Y&&V!==void 0&&Y.getFullYear()===V.getFullYear())}}function Te(){var D=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],M=wt(wt({},JSON.parse(JSON.stringify(n.dataset||{}))),e),V={};t.config.parseDate=M.parseDate,t.config.formatDate=M.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(Se){t.config._enable=xt(Se)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(Se){t.config._disable=xt(Se)}});var Y=M.mode==="time";if(!M.dateFormat&&(M.enableTime||Y)){var ie=nt.defaultConfig.dateFormat||Gn.dateFormat;V.dateFormat=M.noCalendar||Y?"H:i"+(M.enableSeconds?":S":""):ie+" H:i"+(M.enableSeconds?":S":"")}if(M.altInput&&(M.enableTime||Y)&&!M.altFormat){var ce=nt.defaultConfig.altFormat||Gn.altFormat;V.altFormat=M.noCalendar||Y?"h:i"+(M.enableSeconds?":S K":" K"):ce+(" h:i"+(M.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:K("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:K("max")});var Me=function(Se){return function(Ye){t.config[Se==="min"?"_minTime":"_maxTime"]=t.parseDate(Ye,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:Me("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:Me("max")}),M.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,V,M);for(var he=0;he<D.length;he++)t.config[D[he]]=t.config[D[he]]===!0||t.config[D[he]]==="true";Rr.filter(function(Se){return t.config[Se]!==void 0}).forEach(function(Se){t.config[Se]=qr(t.config[Se]||[]).map(l)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var he=0;he<t.config.plugins.length;he++){var Fe=t.config.plugins[he](t)||{};for(var me in Fe)Rr.indexOf(me)>-1?t.config[me]=qr(Fe[me]).map(l).concat(t.config[me]):typeof M[me]>"u"&&(t.config[me]=Fe[me])}M.altInputClass||(t.config.altInputClass=Ge().className+" "+t.config.altInputClass),_e("onParseConfig")}function Ge(){return t.config.wrap?n.querySelector("[data-input]"):n}function ft(){typeof t.config.locale!="object"&&typeof nt.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=wt(wt({},nt.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?nt.l10ns[t.config.locale]:void 0),En.D="("+t.l10n.weekdays.shorthand.join("|")+")",En.l="("+t.l10n.weekdays.longhand.join("|")+")",En.M="("+t.l10n.months.shorthand.join("|")+")",En.F="("+t.l10n.months.longhand.join("|")+")",En.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var D=wt(wt({},e),JSON.parse(JSON.stringify(n.dataset||{})));D.time_24hr===void 0&&nt.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=Pf(t),t.parseDate=ts({config:t.config,l10n:t.l10n})}function Lt(D){if(typeof t.config.position=="function")return void t.config.position(t,D);if(t.calendarContainer!==void 0){_e("onPreCalendarPosition");var M=D||t._positionElement,V=Array.prototype.reduce.call(t.calendarContainer.children,function(Gf,Qf){return Gf+Qf.offsetHeight},0),Y=t.calendarContainer.offsetWidth,ie=t.config.position.split(" "),ce=ie[0],Me=ie.length>1?ie[1]:null,he=M.getBoundingClientRect(),Fe=window.innerHeight-he.bottom,me=ce==="above"||ce!=="below"&&Fe<V&&he.top>V,Se=window.pageYOffset+he.top+(me?-V-2:M.offsetHeight+2);if(Dt(t.calendarContainer,"arrowTop",!me),Dt(t.calendarContainer,"arrowBottom",me),!t.config.inline){var Ye=window.pageXOffset+he.left,en=!1,Pt=!1;Me==="center"?(Ye-=(Y-he.width)/2,en=!0):Me==="right"&&(Ye-=Y-he.width,Pt=!0),Dt(t.calendarContainer,"arrowLeft",!en&&!Pt),Dt(t.calendarContainer,"arrowCenter",en),Dt(t.calendarContainer,"arrowRight",Pt);var oi=window.document.body.offsetWidth-(window.pageXOffset+he.right),jn=Ye+Y>window.document.body.offsetWidth,Uf=oi+Y>window.document.body.offsetWidth;if(Dt(t.calendarContainer,"rightMost",jn),!t.config.static)if(t.calendarContainer.style.top=Se+"px",!jn)t.calendarContainer.style.left=Ye+"px",t.calendarContainer.style.right="auto";else if(!Uf)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=oi+"px";else{var vr=ri();if(vr===void 0)return;var zf=window.document.body.offsetWidth,Yf=Math.max(0,zf/2-Y/2),Bf=".flatpickr-calendar.centerMost:before",Kf=".flatpickr-calendar.centerMost:after",Zf=vr.cssRules.length,Jf="{left:"+he.left+"px;right:auto;}";Dt(t.calendarContainer,"rightMost",!1),Dt(t.calendarContainer,"centerMost",!0),vr.insertRule(Bf+","+Kf+Jf,Zf),t.calendarContainer.style.left=Yf+"px",t.calendarContainer.style.right="auto"}}}}function ri(){for(var D=null,M=0;M<document.styleSheets.length;M++){var V=document.styleSheets[M];if(V.cssRules){try{V.cssRules}catch{continue}D=V;break}}return D??si()}function si(){var D=document.createElement("style");return document.head.appendChild(D),D.sheet}function Pn(){t.config.noCalendar||t.isMobile||(B(),lt(),z())}function vn(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function Rn(D){D.preventDefault(),D.stopPropagation();var M=function(Se){return Se.classList&&Se.classList.contains("flatpickr-day")&&!Se.classList.contains("flatpickr-disabled")&&!Se.classList.contains("notAllowed")},V=Ff(Rt(D),M);if(V!==void 0){var Y=V,ie=t.latestSelectedDateObj=new Date(Y.dateObj.getTime()),ce=(ie.getMonth()<t.currentMonth||ie.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=Y,t.config.mode==="single")t.selectedDates=[ie];else if(t.config.mode==="multiple"){var Me=Ne(ie);Me?t.selectedDates.splice(parseInt(Me),1):t.selectedDates.push(ie)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=ie,t.selectedDates.push(ie),qt(ie,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(Se,Ye){return Se.getTime()-Ye.getTime()}));if(c(),ce){var he=t.currentYear!==ie.getFullYear();t.currentYear=ie.getFullYear(),t.currentMonth=ie.getMonth(),he&&(_e("onYearChange"),B()),_e("onMonthChange")}if(lt(),z(),an(),!ce&&t.config.mode!=="range"&&t.config.showMonths===1?A(Y):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var Fe=t.config.mode==="single"&&!t.config.enableTime,me=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(Fe||me)&&vn()}g()}}var mn={locale:[ft,j],showMonths:[Z,o,H],minDate:[k],maxDate:[k],positionElement:[hn],clickOpens:[function(){t.config.clickOpens===!0?(p(t._input,"focus",t.open),p(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function fe(D,M){if(D!==null&&typeof D=="object"){Object.assign(t.config,D);for(var V in D)mn[V]!==void 0&&mn[V].forEach(function(Y){return Y()})}else t.config[D]=M,mn[D]!==void 0?mn[D].forEach(function(Y){return Y()}):Rr.indexOf(D)>-1&&(t.config[D]=qr(M));t.redraw(),an(!0)}function st(D,M){var V=[];if(D instanceof Array)V=D.map(function(Y){return t.parseDate(Y,M)});else if(D instanceof Date||typeof D=="number")V=[t.parseDate(D,M)];else if(typeof D=="string")switch(t.config.mode){case"single":case"time":V=[t.parseDate(D,M)];break;case"multiple":V=D.split(t.config.conjunction).map(function(Y){return t.parseDate(Y,M)});break;case"range":V=D.split(t.l10n.rangeSeparator).map(function(Y){return t.parseDate(Y,M)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(D)));t.selectedDates=t.config.allowInvalidPreload?V:V.filter(function(Y){return Y instanceof Date&&ut(Y,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(Y,ie){return Y.getTime()-ie.getTime()})}function Sn(D,M,V){if(M===void 0&&(M=!1),V===void 0&&(V=t.config.dateFormat),D!==0&&!D||D instanceof Array&&D.length===0)return t.clear(M);st(D,V),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),k(void 0,M),m(),t.selectedDates.length===0&&t.clear(!1),an(M),M&&_e("onChange")}function xt(D){return D.slice().map(function(M){return typeof M=="string"||typeof M=="number"||M instanceof Date?t.parseDate(M,void 0,!0):M&&typeof M=="object"&&M.from&&M.to?{from:t.parseDate(M.from,void 0),to:t.parseDate(M.to,void 0)}:M}).filter(function(M){return M})}function qn(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var D=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);D&&st(D,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function li(){if(t.input=Ge(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=We(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),hn()}function hn(){t._positionElement=t.config.positionElement||t._input}function x(){var D=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=We("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=D,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=D==="datetime-local"?"Y-m-d\\TH:i:S":D==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}p(t.mobileInput,"change",function(M){t.setDate(Rt(M).value,!1,t.mobileFormatStr),_e("onChange"),_e("onClose")})}function oe(D){if(t.isOpen===!0)return t.close();t.open(D)}function _e(D,M){if(t.config!==void 0){var V=t.config[D];if(V!==void 0&&V.length>0)for(var Y=0;V[Y]&&Y<V.length;Y++)V[Y](t.selectedDates,t.input.value,t,M);D==="onChange"&&(t.input.dispatchEvent(Ie("change")),t.input.dispatchEvent(Ie("input")))}}function Ie(D){var M=document.createEvent("Event");return M.initEvent(D,!0,!0),M}function Ne(D){for(var M=0;M<t.selectedDates.length;M++){var V=t.selectedDates[M];if(V instanceof Date&&qt(V,D)===0)return""+M}return!1}function Je(D){return t.config.mode!=="range"||t.selectedDates.length<2?!1:qt(D,t.selectedDates[0])>=0&&qt(D,t.selectedDates[1])<=0}function lt(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(D,M){var V=new Date(t.currentYear,t.currentMonth,1);V.setMonth(t.currentMonth+M),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[M].textContent=lr(V.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=V.getMonth().toString(),D.value=V.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function Ft(D){var M=D||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(V){return t.formatDate(V,M)}).filter(function(V,Y,ie){return t.config.mode!=="range"||t.config.enableTime||ie.indexOf(V)===Y}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function an(D){D===void 0&&(D=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=Ft(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=Ft(t.config.altFormat)),D!==!1&&_e("onValueUpdate")}function Wf(D){var M=Rt(D),V=t.prevMonthNav.contains(M),Y=t.nextMonthNav.contains(M);V||Y?at(V?-1:1):t.yearElements.indexOf(M)>=0?M.select():M.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):M.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function Hf(D){D.preventDefault();var M=D.type==="keydown",V=Rt(D),Y=V;t.amPM!==void 0&&V===t.amPM&&(t.amPM.textContent=t.l10n.amPM[zt(t.amPM.textContent===t.l10n.amPM[0])]);var ie=parseFloat(Y.getAttribute("min")),ce=parseFloat(Y.getAttribute("max")),Me=parseFloat(Y.getAttribute("step")),he=parseInt(Y.value,10),Fe=D.delta||(M?D.which===38?1:-1:0),me=he+Me*Fe;if(typeof Y.value<"u"&&Y.value.length===2){var Se=Y===t.hourElement,Ye=Y===t.minuteElement;me<ie?(me=ce+me+zt(!Se)+(zt(Se)&&zt(!t.amPM)),Ye&&w(void 0,-1,t.hourElement)):me>ce&&(me=Y===t.hourElement?me-ce-zt(!t.amPM):ie,Ye&&w(void 0,1,t.hourElement)),t.amPM&&Se&&(Me===1?me+he===23:Math.abs(me-he)>Me)&&(t.amPM.textContent=t.l10n.amPM[zt(t.amPM.textContent===t.l10n.amPM[0])]),Y.value=Et(me)}}return r(),t}function Qn(n,e){for(var t=Array.prototype.slice.call(n).filter(function(l){return l instanceof HTMLElement}),i=[],r=0;r<t.length;r++){var s=t[r];try{if(s.getAttribute("data-fp-omit")!==null)continue;s._flatpickr!==void 0&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=_1(s,e||{}),i.push(s._flatpickr)}catch(l){console.error(l)}}return i.length===1?i[0]:i}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return Qn(this,n)},HTMLElement.prototype.flatpickr=function(n){return Qn([this],n)});var nt=function(n,e){return typeof n=="string"?Qn(window.document.querySelectorAll(n),e):n instanceof Node?Qn([n],e):Qn(n,e)};nt.defaultConfig={};nt.l10ns={en:wt({},vi),default:wt({},vi)};nt.localize=function(n){nt.l10ns.default=wt(wt({},nt.l10ns.default),n)};nt.setDefaults=function(n){nt.defaultConfig=wt(wt({},nt.defaultConfig),n)};nt.parseDate=ts({});nt.formatDate=Pf({});nt.compareDates=qt;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return Qn(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=nt);function b1(n){let e,t=[n[1]],i={};for(let r=0;r<t.length;r+=1)i=Ke(i,t[r]);return{c(){e=y("input"),Xi(e,i)},m(r,s){C(r,e,s),e.autofocus&&e.focus(),n[11](e)},p(r,s){Xi(e,i=Wt(t,[s&2&&r[1]]))},d(r){r&&S(e),n[11](null)}}}function y1(n){let e;const t=n[10].default,i=ct(t,n,n[9],null),r=i||b1(n);return{c(){r&&r.c()},m(s,l){r&&r.m(s,l),e=!0},p(s,[l]){i?i.p&&(!e||l&512)&&mt(i,t,s,s[9],e?dt(t,s[9],l,null):ht(s[9]),null):r&&r.p&&(!e||l&3)&&r.p(s,e?l:-1)},i(s){e||(O(r,s),e=!0)},o(s){N(r,s),e=!1},d(s){r&&r.d(s)}}}function w1(n){return n.charAt(2).toLowerCase()+n.substring(3)}function zo(n,e){var i;return(((i=n==null?void 0:n.config)==null?void 0:i.mode)??"single")==="single"?e[0]:e}function Yo(n,e){return!!(n==e||n instanceof Date&&e instanceof Date&&n.valueOf()===e.valueOf()||Array.isArray(n)&&Array.isArray(e)&&n.length===e.length&&n.every((t,i)=>t===e[i]))}function k1(n,e,t){const i=["value","formattedValue","element","dateFormat","options","input","flatpickr"];let r=sn(e,i),{$$slots:s={},$$scope:l}=e;const o=new Set(["onChange","onOpen","onClose","onMonthChange","onYearChange","onReady","onValueUpdate","onDayCreate"]);let{value:a=void 0,formattedValue:u="",element:f=void 0,dateFormat:c=void 0}=e,{options:m={}}=e,d=!1,{input:b=void 0,flatpickr:p=void 0}=e;At(()=>{const w=f??b,I=_(m);return I.onReady.push((P,A,E)=>{a===void 0&&k(P,A,E),nn().then(()=>{t(8,d=!0)})}),t(3,p=nt(w,Object.assign(I,f?{wrap:!0}:{}))),()=>{p.destroy()}});const g=St();function _(w={}){w=Object.assign({},w);for(const I of o){const P=(A,E,L)=>{g(w1(I),[A,E,L])};I in w?(Array.isArray(w[I])||(w[I]=[w[I]]),w[I].push(P)):w[I]=[P]}return w.onChange&&!w.onChange.includes(k)&&w.onChange.push(k),w}function k(w,I,P){const A=zo(P,w);!Yo(a,A)&&(a||A)&&t(2,a=A),t(4,u=I)}function T(w){le[w?"unshift":"push"](()=>{b=w,t(0,b)})}return n.$$set=w=>{e=Ke(Ke({},e),Ci(w)),t(1,r=sn(e,i)),"value"in w&&t(2,a=w.value),"formattedValue"in w&&t(4,u=w.formattedValue),"element"in w&&t(5,f=w.element),"dateFormat"in w&&t(6,c=w.dateFormat),"options"in w&&t(7,m=w.options),"input"in w&&t(0,b=w.input),"flatpickr"in w&&t(3,p=w.flatpickr),"$$scope"in w&&t(9,l=w.$$scope)},n.$$.update=()=>{if(n.$$.dirty&332&&p&&d&&(Yo(a,zo(p,p.selectedDates))||p.setDate(a,!0,c)),n.$$.dirty&392&&p&&d)for(const[w,I]of Object.entries(_(m)))p.set(w,I)},[b,r,a,p,u,f,c,m,d,l,s,T]}class v1 extends ke{constructor(e){super(),we(this,e,k1,y1,be,{value:2,formattedValue:4,element:5,dateFormat:6,options:7,input:0,flatpickr:3})}}function Bo(n){let e,t,i,r;return{c(){e=y("div"),t=y("button"),t.innerHTML='<i class="ri-close-line"></i>',h(t,"type","button"),h(t,"class","link-hint clear-btn svelte-11df51y"),h(e,"class","form-field-addon")},m(s,l){C(s,e,l),v(e,t),i||(r=[He(Ze.call(null,t,"Clear")),ee(t,"click",n[5])],i=!0)},p:G,d(s){s&&S(e),i=!1,Ce(r)}}}function S1(n){let e,t,i,r,s,l=n[1].name+"",o,a,u,f,c,m,d,b,p,g=n[0]&&!n[1].required&&Bo(n);function _(w){n[6](w)}function k(w){n[7](w)}let T={id:n[8],options:F.defaultFlatpickrOptions()};return n[2]!==void 0&&(T.value=n[2]),n[0]!==void 0&&(T.formattedValue=n[0]),m=new v1({props:T}),le.push(()=>Le(m,"value",_)),le.push(()=>Le(m,"formattedValue",k)),m.$on("close",n[3]),{c(){e=y("label"),t=y("i"),r=R(),s=y("span"),o=re(l),a=re(" (UTC)"),f=R(),g&&g.c(),c=R(),$(m.$$.fragment),h(t,"class",i=kn(F.getFieldTypeIcon(n[1].type))+" svelte-11df51y"),h(s,"class","txt"),h(e,"for",u=n[8])},m(w,I){C(w,e,I),v(e,t),v(e,r),v(e,s),v(s,o),v(s,a),C(w,f,I),g&&g.m(w,I),C(w,c,I),Q(m,w,I),p=!0},p(w,I){(!p||I&2&&i!==(i=kn(F.getFieldTypeIcon(w[1].type))+" svelte-11df51y"))&&h(t,"class",i),(!p||I&2)&&l!==(l=w[1].name+"")&&pe(o,l),(!p||I&256&&u!==(u=w[8]))&&h(e,"for",u),w[0]&&!w[1].required?g?g.p(w,I):(g=Bo(w),g.c(),g.m(c.parentNode,c)):g&&(g.d(1),g=null);const P={};I&256&&(P.id=w[8]),!d&&I&4&&(d=!0,P.value=w[2],Pe(()=>d=!1)),!b&&I&1&&(b=!0,P.formattedValue=w[0],Pe(()=>b=!1)),m.$set(P)},i(w){p||(O(m.$$.fragment,w),p=!0)},o(w){N(m.$$.fragment,w),p=!1},d(w){w&&(S(e),S(f),S(c)),g&&g.d(w),X(m,w)}}}function C1(n){let e,t;return e=new et({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[S1,({uniqueId:i})=>({8:i}),({uniqueId:i})=>i?256:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const s={};r&2&&(s.class="form-field "+(i[1].required?"required":"")),r&2&&(s.name=i[1].name),r&775&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function T1(n,e,t){let{field:i}=e,{value:r=void 0}=e,s=r;function l(c){c.detail&&c.detail.length==3&&t(0,r=c.detail[1])}function o(){t(0,r="")}const a=()=>o();function u(c){s=c,t(2,s),t(0,r)}function f(c){r=c,t(0,r)}return n.$$set=c=>{"field"in c&&t(1,i=c.field),"value"in c&&t(0,r=c.value)},n.$$.update=()=>{n.$$.dirty&1&&r&&r.length>19&&t(0,r=r.substring(0,19)),n.$$.dirty&5&&s!=r&&t(2,s=r)},[r,i,s,l,o,a,u,f]}class D1 extends ke{constructor(e){super(),we(this,e,T1,C1,be,{field:1,value:0})}}const O1=n=>({}),Ko=n=>({});function Zo(n,e,t){const i=n.slice();return i[48]=e[t],i}const E1=n=>({}),Jo=n=>({});function Go(n,e,t){const i=n.slice();return i[48]=e[t],i[52]=t,i}function Qo(n){let e,t,i;return{c(){e=y("div"),t=re(n[2]),i=R(),h(e,"class","block txt-placeholder"),J(e,"link-hint",!n[5]&&!n[6])},m(r,s){C(r,e,s),v(e,t),v(e,i)},p(r,s){s[0]&4&&pe(t,r[2]),s[0]&96&&J(e,"link-hint",!r[5]&&!r[6])},d(r){r&&S(e)}}}function M1(n){let e,t=n[48]+"",i;return{c(){e=y("span"),i=re(t),h(e,"class","txt")},m(r,s){C(r,e,s),v(e,i)},p(r,s){s[0]&1&&t!==(t=r[48]+"")&&pe(i,t)},i:G,o:G,d(r){r&&S(e)}}}function I1(n){let e,t,i;const r=[{item:n[48]},n[11]];var s=n[10];function l(o,a){let u={};for(let f=0;f<r.length;f+=1)u=Ke(u,r[f]);return a!==void 0&&a[0]&2049&&(u=Ke(u,Wt(r,[a[0]&1&&{item:o[48]},a[0]&2048&&Xt(o[11])]))),{props:u}}return s&&(e=Kt(s,l(n))),{c(){e&&$(e.$$.fragment),t=ge()},m(o,a){e&&Q(e,o,a),C(o,t,a),i=!0},p(o,a){if(a[0]&1024&&s!==(s=o[10])){if(e){ae();const u=e;N(u.$$.fragment,1,0,()=>{X(u,1)}),ue()}s?(e=Kt(s,l(o,a)),$(e.$$.fragment),O(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else if(s){const u=a[0]&2049?Wt(r,[a[0]&1&&{item:o[48]},a[0]&2048&&Xt(o[11])]):{};e.$set(u)}},i(o){i||(e&&O(e.$$.fragment,o),i=!0)},o(o){e&&N(e.$$.fragment,o),i=!1},d(o){o&&S(t),e&&X(e,o)}}}function Xo(n){let e,t,i;function r(){return n[36](n[48])}return{c(){e=y("span"),e.innerHTML='<i class="ri-close-line"></i>',h(e,"class","clear")},m(s,l){C(s,e,l),t||(i=[He(Ze.call(null,e,"Clear")),ee(e,"click",Qt($e(r)))],t=!0)},p(s,l){n=s},d(s){s&&S(e),t=!1,Ce(i)}}}function $o(n){let e,t,i,r,s,l;const o=[I1,M1],a=[];function u(c,m){return c[10]?0:1}t=u(n),i=a[t]=o[t](n);let f=(n[4]||n[8])&&Xo(n);return{c(){e=y("div"),i.c(),r=R(),f&&f.c(),s=R(),h(e,"class","option")},m(c,m){C(c,e,m),a[t].m(e,null),v(e,r),f&&f.m(e,null),v(e,s),l=!0},p(c,m){let d=t;t=u(c),t===d?a[t].p(c,m):(ae(),N(a[d],1,1,()=>{a[d]=null}),ue(),i=a[t],i?i.p(c,m):(i=a[t]=o[t](c),i.c()),O(i,1),i.m(e,r)),c[4]||c[8]?f?f.p(c,m):(f=Xo(c),f.c(),f.m(e,s)):f&&(f.d(1),f=null)},i(c){l||(O(i),l=!0)},o(c){N(i),l=!1},d(c){c&&S(e),a[t].d(),f&&f.d()}}}function xo(n){let e,t,i={class:"dropdown dropdown-block options-dropdown dropdown-left "+(n[7]?"dropdown-upside":""),trigger:n[20],$$slots:{default:[L1]},$$scope:{ctx:n}};return e=new Ii({props:i}),n[41](e),e.$on("show",n[26]),e.$on("hide",n[42]),{c(){$(e.$$.fragment)},m(r,s){Q(e,r,s),t=!0},p(r,s){const l={};s[0]&128&&(l.class="dropdown dropdown-block options-dropdown dropdown-left "+(r[7]?"dropdown-upside":"")),s[0]&1048576&&(l.trigger=r[20]),s[0]&6451722|s[1]&8192&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){n[41](null),X(e,r)}}}function ea(n){let e,t,i,r,s,l,o,a,u=n[17].length&&ta(n);return{c(){e=y("div"),t=y("label"),i=y("div"),i.innerHTML='<i class="ri-search-line"></i>',r=R(),s=y("input"),l=R(),u&&u.c(),h(i,"class","addon p-r-0"),s.autofocus=!0,h(s,"type","text"),h(s,"placeholder",n[3]),h(t,"class","input-group"),h(e,"class","form-field form-field-sm options-search")},m(f,c){C(f,e,c),v(e,t),v(t,i),v(t,r),v(t,s),Be(s,n[17]),v(t,l),u&&u.m(t,null),s.focus(),o||(a=ee(s,"input",n[38]),o=!0)},p(f,c){c[0]&8&&h(s,"placeholder",f[3]),c[0]&131072&&s.value!==f[17]&&Be(s,f[17]),f[17].length?u?u.p(f,c):(u=ta(f),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},d(f){f&&S(e),u&&u.d(),o=!1,a()}}}function ta(n){let e,t,i,r;return{c(){e=y("div"),t=y("button"),t.innerHTML='<i class="ri-close-line"></i>',h(t,"type","button"),h(t,"class","btn btn-sm btn-circle btn-transparent clear"),h(e,"class","addon suffix p-r-5")},m(s,l){C(s,e,l),v(e,t),i||(r=ee(t,"click",Qt($e(n[23]))),i=!0)},p:G,d(s){s&&S(e),i=!1,r()}}}function na(n){let e,t=n[1]&&ia(n);return{c(){t&&t.c(),e=ge()},m(i,r){t&&t.m(i,r),C(i,e,r)},p(i,r){i[1]?t?t.p(i,r):(t=ia(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&S(e),t&&t.d(i)}}}function ia(n){let e,t;return{c(){e=y("div"),t=re(n[1]),h(e,"class","txt-missing")},m(i,r){C(i,e,r),v(e,t)},p(i,r){r[0]&2&&pe(t,i[1])},d(i){i&&S(e)}}}function N1(n){let e=n[48]+"",t;return{c(){t=re(e)},m(i,r){C(i,t,r)},p(i,r){r[0]&4194304&&e!==(e=i[48]+"")&&pe(t,e)},i:G,o:G,d(i){i&&S(t)}}}function A1(n){let e,t,i;const r=[{item:n[48]},n[13]];var s=n[12];function l(o,a){let u={};for(let f=0;f<r.length;f+=1)u=Ke(u,r[f]);return a!==void 0&&a[0]&4202496&&(u=Ke(u,Wt(r,[a[0]&4194304&&{item:o[48]},a[0]&8192&&Xt(o[13])]))),{props:u}}return s&&(e=Kt(s,l(n))),{c(){e&&$(e.$$.fragment),t=ge()},m(o,a){e&&Q(e,o,a),C(o,t,a),i=!0},p(o,a){if(a[0]&4096&&s!==(s=o[12])){if(e){ae();const u=e;N(u.$$.fragment,1,0,()=>{X(u,1)}),ue()}s?(e=Kt(s,l(o,a)),$(e.$$.fragment),O(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else if(s){const u=a[0]&4202496?Wt(r,[a[0]&4194304&&{item:o[48]},a[0]&8192&&Xt(o[13])]):{};e.$set(u)}},i(o){i||(e&&O(e.$$.fragment,o),i=!0)},o(o){e&&N(e.$$.fragment,o),i=!1},d(o){o&&S(t),e&&X(e,o)}}}function ra(n){let e,t,i,r,s,l,o;const a=[A1,N1],u=[];function f(d,b){return d[12]?0:1}t=f(n),i=u[t]=a[t](n);function c(...d){return n[39](n[48],...d)}function m(...d){return n[40](n[48],...d)}return{c(){e=y("div"),i.c(),r=R(),h(e,"tabindex","0"),h(e,"class","dropdown-item option"),h(e,"role","menuitem"),J(e,"closable",n[9]),J(e,"selected",n[21](n[48]))},m(d,b){C(d,e,b),u[t].m(e,null),v(e,r),s=!0,l||(o=[ee(e,"click",c),ee(e,"keydown",m)],l=!0)},p(d,b){n=d;let p=t;t=f(n),t===p?u[t].p(n,b):(ae(),N(u[p],1,1,()=>{u[p]=null}),ue(),i=u[t],i?i.p(n,b):(i=u[t]=a[t](n),i.c()),O(i,1),i.m(e,r)),(!s||b[0]&512)&&J(e,"closable",n[9]),(!s||b[0]&6291456)&&J(e,"selected",n[21](n[48]))},i(d){s||(O(i),s=!0)},o(d){N(i),s=!1},d(d){d&&S(e),u[t].d(),l=!1,Ce(o)}}}function L1(n){let e,t,i,r,s,l=n[14]&&ea(n);const o=n[35].beforeOptions,a=ct(o,n,n[44],Jo);let u=ye(n[22]),f=[];for(let p=0;p<u.length;p+=1)f[p]=ra(Zo(n,u,p));const c=p=>N(f[p],1,1,()=>{f[p]=null});let m=null;u.length||(m=na(n));const d=n[35].afterOptions,b=ct(d,n,n[44],Ko);return{c(){l&&l.c(),e=R(),a&&a.c(),t=R(),i=y("div");for(let p=0;p<f.length;p+=1)f[p].c();m&&m.c(),r=R(),b&&b.c(),h(i,"class","options-list")},m(p,g){l&&l.m(p,g),C(p,e,g),a&&a.m(p,g),C(p,t,g),C(p,i,g);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(i,null);m&&m.m(i,null),C(p,r,g),b&&b.m(p,g),s=!0},p(p,g){if(p[14]?l?l.p(p,g):(l=ea(p),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),a&&a.p&&(!s||g[1]&8192)&&mt(a,o,p,p[44],s?dt(o,p[44],g,E1):ht(p[44]),Jo),g[0]&56635906){u=ye(p[22]);let _;for(_=0;_<u.length;_+=1){const k=Zo(p,u,_);f[_]?(f[_].p(k,g),O(f[_],1)):(f[_]=ra(k),f[_].c(),O(f[_],1),f[_].m(i,null))}for(ae(),_=u.length;_<f.length;_+=1)c(_);ue(),!u.length&&m?m.p(p,g):u.length?m&&(m.d(1),m=null):(m=na(p),m.c(),m.m(i,null))}b&&b.p&&(!s||g[1]&8192)&&mt(b,d,p,p[44],s?dt(d,p[44],g,O1):ht(p[44]),Ko)},i(p){if(!s){O(a,p);for(let g=0;g<u.length;g+=1)O(f[g]);O(b,p),s=!0}},o(p){N(a,p),f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)N(f[g]);N(b,p),s=!1},d(p){p&&(S(e),S(t),S(i),S(r)),l&&l.d(p),a&&a.d(p),cn(f,p),m&&m.d(),b&&b.d(p)}}}function F1(n){let e,t,i,r,s,l,o=ye(F.toArray(n[0])),a=[];for(let m=0;m<o.length;m+=1)a[m]=$o(Go(n,o,m));const u=m=>N(a[m],1,1,()=>{a[m]=null});let f=null;o.length||(f=Qo(n));let c=!n[5]&&!n[6]&&xo(n);return{c(){e=y("div"),t=y("div");for(let m=0;m<a.length;m+=1)a[m].c();f&&f.c(),r=R(),c&&c.c(),h(t,"tabindex",i=n[5]||n[6]?"-1":"0"),h(t,"class","selected-container"),h(t,"role","button"),J(t,"disabled",n[5]),J(t,"readonly",n[6]),h(e,"class",s="select "+n[15]),J(e,"upside",n[7]),J(e,"multiple",n[4]),J(e,"disabled",n[5]),J(e,"readonly",n[6])},m(m,d){C(m,e,d),v(e,t);for(let b=0;b<a.length;b+=1)a[b]&&a[b].m(t,null);f&&f.m(t,null),n[37](t),v(e,r),c&&c.m(e,null),n[43](e),l=!0},p(m,d){if(d[0]&68981){o=ye(F.toArray(m[0]));let b;for(b=0;b<o.length;b+=1){const p=Go(m,o,b);a[b]?(a[b].p(p,d),O(a[b],1)):(a[b]=$o(p),a[b].c(),O(a[b],1),a[b].m(t,null))}for(ae(),b=o.length;b<a.length;b+=1)u(b);ue(),!o.length&&f?f.p(m,d):o.length?f&&(f.d(1),f=null):(f=Qo(m),f.c(),f.m(t,null))}(!l||d[0]&96&&i!==(i=m[5]||m[6]?"-1":"0"))&&h(t,"tabindex",i),(!l||d[0]&32)&&J(t,"disabled",m[5]),(!l||d[0]&64)&&J(t,"readonly",m[6]),!m[5]&&!m[6]?c?(c.p(m,d),d[0]&96&&O(c,1)):(c=xo(m),c.c(),O(c,1),c.m(e,null)):c&&(ae(),N(c,1,1,()=>{c=null}),ue()),(!l||d[0]&32768&&s!==(s="select "+m[15]))&&h(e,"class",s),(!l||d[0]&32896)&&J(e,"upside",m[7]),(!l||d[0]&32784)&&J(e,"multiple",m[4]),(!l||d[0]&32800)&&J(e,"disabled",m[5]),(!l||d[0]&32832)&&J(e,"readonly",m[6])},i(m){if(!l){for(let d=0;d<o.length;d+=1)O(a[d]);O(c),l=!0}},o(m){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)N(a[d]);N(c),l=!1},d(m){m&&S(e),cn(a,m),f&&f.d(),n[37](null),c&&c.d(),n[43](null)}}}function P1(n,e){let t=(""+e).replace(/\s+/g,"").toLowerCase(),i=n;try{typeof n=="object"&&n!==null&&(i=JSON.stringify(n))}catch{}return(""+i).replace(/\s+/g,"").toLowerCase().includes(t)}function R1(n,e,t){let i,r,{$$slots:s={},$$scope:l}=e,{id:o=""}=e,{noOptionsText:a="No options found"}=e,{selectPlaceholder:u="- Select -"}=e,{searchPlaceholder:f="Search..."}=e,{items:c=[]}=e,{multiple:m=!1}=e,{disabled:d=!1}=e,{readonly:b=!1}=e,{upside:p=!1}=e,{selected:g=m?[]:void 0}=e,{toggle:_=m}=e,{closable:k=!0}=e,{labelComponent:T=void 0}=e,{labelComponentProps:w={}}=e,{optionComponent:I=void 0}=e,{optionComponentProps:P={}}=e,{searchable:A=!1}=e,{searchFunc:E=void 0}=e,{class:L=""}=e,q,W="",z,B;function ne(K){if(F.isEmpty(g))return;let Te=F.toArray(g);F.inArray(Te,K)&&(F.removeByValue(Te,K),t(0,g=Te)),z==null||z.dispatchEvent(new CustomEvent("change",{detail:g,bubbles:!0}))}function Z(K){if(m){let Te=F.toArray(g);F.inArray(Te,K)||t(0,g=[...Te,K])}else t(0,g=K);z==null||z.dispatchEvent(new CustomEvent("change",{detail:g,bubbles:!0}))}function te(K){return r(K)?ne(K):Z(K)}function U(){t(0,g=m?[]:void 0)}function H(){q!=null&&q.show&&(q==null||q.show())}function j(){q!=null&&q.hide&&(q==null||q.hide())}function De(){if(F.isEmpty(g)||F.isEmpty(c))return;let K=F.toArray(g),Te=[];for(const Ge of K)F.inArray(c,Ge)||Te.push(Ge);if(Te.length){for(const Ge of Te)F.removeByValue(K,Ge);t(0,g=m?K:K[0])}}function at(){t(17,W="")}function Ct(K,Te){K=K||[];const Ge=E||P1;return K.filter(ft=>Ge(ft,Te))||[]}function yt(K,Te){K.preventDefault(),_&&m?te(Te):Z(Te)}function Ht(K,Te){(K.code==="Enter"||K.code==="Space")&&(yt(K,Te),k&&j())}function gt(){at(),setTimeout(()=>{const K=z==null?void 0:z.querySelector(".dropdown-item.option.selected");K&&(K.focus(),K.scrollIntoView({block:"nearest"}))},0)}function Tt(K){K.stopPropagation(),!b&&!d&&(q==null||q.toggle())}At(()=>{const K=document.querySelectorAll(`label[for="${o}"]`);for(const Te of K)Te.addEventListener("click",Tt);return()=>{for(const Te of K)Te.removeEventListener("click",Tt)}});const it=K=>ne(K);function ut(K){le[K?"unshift":"push"](()=>{B=K,t(20,B)})}function ve(){W=this.value,t(17,W)}const qe=(K,Te)=>yt(Te,K),Ue=(K,Te)=>Ht(Te,K);function je(K){le[K?"unshift":"push"](()=>{q=K,t(18,q)})}function rt(K){vt.call(this,n,K)}function de(K){le[K?"unshift":"push"](()=>{z=K,t(19,z)})}return n.$$set=K=>{"id"in K&&t(27,o=K.id),"noOptionsText"in K&&t(1,a=K.noOptionsText),"selectPlaceholder"in K&&t(2,u=K.selectPlaceholder),"searchPlaceholder"in K&&t(3,f=K.searchPlaceholder),"items"in K&&t(28,c=K.items),"multiple"in K&&t(4,m=K.multiple),"disabled"in K&&t(5,d=K.disabled),"readonly"in K&&t(6,b=K.readonly),"upside"in K&&t(7,p=K.upside),"selected"in K&&t(0,g=K.selected),"toggle"in K&&t(8,_=K.toggle),"closable"in K&&t(9,k=K.closable),"labelComponent"in K&&t(10,T=K.labelComponent),"labelComponentProps"in K&&t(11,w=K.labelComponentProps),"optionComponent"in K&&t(12,I=K.optionComponent),"optionComponentProps"in K&&t(13,P=K.optionComponentProps),"searchable"in K&&t(14,A=K.searchable),"searchFunc"in K&&t(29,E=K.searchFunc),"class"in K&&t(15,L=K.class),"$$scope"in K&&t(44,l=K.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&268435456&&c&&(De(),at()),n.$$.dirty[0]&268566528&&t(22,i=Ct(c,W)),n.$$.dirty[0]&1&&t(21,r=function(K){const Te=F.toArray(g);return F.inArray(Te,K)})},[g,a,u,f,m,d,b,p,_,k,T,w,I,P,A,L,ne,W,q,z,B,r,i,at,yt,Ht,gt,o,c,E,Z,te,U,H,j,s,it,ut,ve,qe,Ue,je,rt,de,l]}class Rf extends ke{constructor(e){super(),we(this,e,R1,F1,be,{id:27,noOptionsText:1,selectPlaceholder:2,searchPlaceholder:3,items:28,multiple:4,disabled:5,readonly:6,upside:7,selected:0,toggle:8,closable:9,labelComponent:10,labelComponentProps:11,optionComponent:12,optionComponentProps:13,searchable:14,searchFunc:29,class:15,deselectItem:16,selectItem:30,toggleItem:31,reset:32,showDropdown:33,hideDropdown:34},null,[-1,-1])}get deselectItem(){return this.$$.ctx[16]}get selectItem(){return this.$$.ctx[30]}get toggleItem(){return this.$$.ctx[31]}get reset(){return this.$$.ctx[32]}get showDropdown(){return this.$$.ctx[33]}get hideDropdown(){return this.$$.ctx[34]}}function sa(n){let e,t,i=n[1].options.maxSelect+"",r,s;return{c(){e=y("div"),t=re("Select up to "),r=re(i),s=re(" items."),h(e,"class","help-block")},m(l,o){C(l,e,o),v(e,t),v(e,r),v(e,s)},p(l,o){o&2&&i!==(i=l[1].options.maxSelect+"")&&pe(r,i)},d(l){l&&S(e)}}}function q1(n){var k,T,w,I,P,A;let e,t,i,r,s,l=n[1].name+"",o,a,u,f,c,m,d,b;function p(E){n[3](E)}let g={id:n[4],toggle:!n[1].required||n[2],multiple:n[2],closable:!n[2]||((k=n[0])==null?void 0:k.length)>=((T=n[1].options)==null?void 0:T.maxSelect),items:(w=n[1].options)==null?void 0:w.values,searchable:((P=(I=n[1].options)==null?void 0:I.values)==null?void 0:P.length)>5};n[0]!==void 0&&(g.selected=n[0]),f=new Rf({props:g}),le.push(()=>Le(f,"selected",p));let _=((A=n[1].options)==null?void 0:A.maxSelect)>1&&sa(n);return{c(){e=y("label"),t=y("i"),r=R(),s=y("span"),o=re(l),u=R(),$(f.$$.fragment),m=R(),_&&_.c(),d=ge(),h(t,"class",i=F.getFieldTypeIcon(n[1].type)),h(s,"class","txt"),h(e,"for",a=n[4])},m(E,L){C(E,e,L),v(e,t),v(e,r),v(e,s),v(s,o),C(E,u,L),Q(f,E,L),C(E,m,L),_&&_.m(E,L),C(E,d,L),b=!0},p(E,L){var W,z,B,ne,Z,te;(!b||L&2&&i!==(i=F.getFieldTypeIcon(E[1].type)))&&h(t,"class",i),(!b||L&2)&&l!==(l=E[1].name+"")&&pe(o,l),(!b||L&16&&a!==(a=E[4]))&&h(e,"for",a);const q={};L&16&&(q.id=E[4]),L&6&&(q.toggle=!E[1].required||E[2]),L&4&&(q.multiple=E[2]),L&7&&(q.closable=!E[2]||((W=E[0])==null?void 0:W.length)>=((z=E[1].options)==null?void 0:z.maxSelect)),L&2&&(q.items=(B=E[1].options)==null?void 0:B.values),L&2&&(q.searchable=((Z=(ne=E[1].options)==null?void 0:ne.values)==null?void 0:Z.length)>5),!c&&L&1&&(c=!0,q.selected=E[0],Pe(()=>c=!1)),f.$set(q),((te=E[1].options)==null?void 0:te.maxSelect)>1?_?_.p(E,L):(_=sa(E),_.c(),_.m(d.parentNode,d)):_&&(_.d(1),_=null)},i(E){b||(O(f.$$.fragment,E),b=!0)},o(E){N(f.$$.fragment,E),b=!1},d(E){E&&(S(e),S(u),S(m),S(d)),X(f,E),_&&_.d(E)}}}function j1(n){let e,t;return e=new et({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[q1,({uniqueId:i})=>({4:i}),({uniqueId:i})=>i?16:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const s={};r&2&&(s.class="form-field "+(i[1].required?"required":"")),r&2&&(s.name=i[1].name),r&55&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function V1(n,e,t){let i,{field:r}=e,{value:s=void 0}=e;function l(o){s=o,t(0,s),t(2,i),t(1,r)}return n.$$set=o=>{"field"in o&&t(1,r=o.field),"value"in o&&t(0,s=o.value)},n.$$.update=()=>{var o;n.$$.dirty&2&&t(2,i=((o=r.options)==null?void 0:o.maxSelect)>1),n.$$.dirty&5&&typeof s>"u"&&t(0,s=i?[]:""),n.$$.dirty&7&&i&&Array.isArray(s)&&s.length>r.options.maxSelect&&t(0,s=s.slice(s.length-r.options.maxSelect))},[s,r,i,l]}class W1 extends ke{constructor(e){super(),we(this,e,V1,j1,be,{field:1,value:0})}}const H1="modulepreload",U1=function(n,e){return new URL(n,e).href},la={},qf=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){const s=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=Promise.all(t.map(a=>{if(a=U1(a,i),a in la)return;la[a]=!0;const u=a.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!i)for(let d=s.length-1;d>=0;d--){const b=s[d];if(b.href===a&&(!u||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${f}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":H1,u||(m.as="script",m.crossOrigin=""),m.href=a,o&&m.setAttribute("nonce",o),document.head.appendChild(m),u)return new Promise((d,b)=>{m.addEventListener("load",d),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${a}`)))})}))}return r.then(()=>e()).catch(s=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s})};function z1(n){let e;return{c(){e=y("i"),h(e,"class","ri-error-warning-fill txt-danger")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Y1(n){let e;return{c(){e=y("i"),h(e,"class","ri-checkbox-circle-fill txt-success")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function B1(n){let e;return{c(){e=y("input"),h(e,"type","text"),h(e,"class","txt-mono"),e.value="Loading...",e.disabled=!0},m(t,i){C(t,e,i)},p:G,i:G,o:G,d(t){t&&S(e)}}}function K1(n){let e,t,i;var r=n[3];function s(l,o){return{props:{id:l[6],maxHeight:"500",language:"json",value:l[2]}}}return r&&(e=Kt(r,s(n)),e.$on("change",n[5])),{c(){e&&$(e.$$.fragment),t=ge()},m(l,o){e&&Q(e,l,o),C(l,t,o),i=!0},p(l,o){if(o&8&&r!==(r=l[3])){if(e){ae();const a=e;N(a.$$.fragment,1,0,()=>{X(a,1)}),ue()}r?(e=Kt(r,s(l)),e.$on("change",l[5]),$(e.$$.fragment),O(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else if(r){const a={};o&64&&(a.id=l[6]),o&4&&(a.value=l[2]),e.$set(a)}},i(l){i||(e&&O(e.$$.fragment,l),i=!0)},o(l){e&&N(e.$$.fragment,l),i=!1},d(l){l&&S(t),e&&X(e,l)}}}function Z1(n){let e,t,i,r,s,l=n[1].name+"",o,a,u,f,c,m,d,b,p,g,_,k;function T(L,q){return L[4]?Y1:z1}let w=T(n),I=w(n);const P=[K1,B1],A=[];function E(L,q){return L[3]?0:1}return d=E(n),b=A[d]=P[d](n),{c(){e=y("label"),t=y("i"),r=R(),s=y("span"),o=re(l),a=R(),u=y("span"),I.c(),m=R(),b.c(),p=ge(),h(t,"class",i=kn(F.getFieldTypeIcon(n[1].type))+" svelte-p6ecb8"),h(s,"class","txt"),h(u,"class","json-state svelte-p6ecb8"),h(e,"for",c=n[6])},m(L,q){C(L,e,q),v(e,t),v(e,r),v(e,s),v(s,o),v(e,a),v(e,u),I.m(u,null),C(L,m,q),A[d].m(L,q),C(L,p,q),g=!0,_||(k=He(f=Ze.call(null,u,{position:"left",text:n[4]?"Valid JSON":"Invalid JSON"})),_=!0)},p(L,q){(!g||q&2&&i!==(i=kn(F.getFieldTypeIcon(L[1].type))+" svelte-p6ecb8"))&&h(t,"class",i),(!g||q&2)&&l!==(l=L[1].name+"")&&pe(o,l),w!==(w=T(L))&&(I.d(1),I=w(L),I&&(I.c(),I.m(u,null))),f&&ot(f.update)&&q&16&&f.update.call(null,{position:"left",text:L[4]?"Valid JSON":"Invalid JSON"}),(!g||q&64&&c!==(c=L[6]))&&h(e,"for",c);let W=d;d=E(L),d===W?A[d].p(L,q):(ae(),N(A[W],1,1,()=>{A[W]=null}),ue(),b=A[d],b?b.p(L,q):(b=A[d]=P[d](L),b.c()),O(b,1),b.m(p.parentNode,p))},i(L){g||(O(b),g=!0)},o(L){N(b),g=!1},d(L){L&&(S(e),S(m),S(p)),I.d(),A[d].d(L),_=!1,k()}}}function J1(n){let e,t;return e=new et({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[Z1,({uniqueId:i})=>({6:i}),({uniqueId:i})=>i?64:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const s={};r&2&&(s.class="form-field "+(i[1].required?"required":"")),r&2&&(s.name=i[1].name),r&223&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function oa(n){return typeof n=="string"&&jf(n)?n:JSON.stringify(typeof n>"u"?null:n,null,2)}function jf(n){try{return JSON.parse(n===""?null:n),!0}catch{}return!1}function G1(n,e,t){let i,{field:r}=e,{value:s=void 0}=e,l,o=oa(s);At(async()=>{try{t(3,l=(await qf(()=>import("./CodeEditor-D-MvFodb.js"),__vite__mapDeps([0,1]),import.meta.url)).default)}catch(u){console.warn(u)}});const a=u=>{t(2,o=u.detail),t(0,s=o.trim())};return n.$$set=u=>{"field"in u&&t(1,r=u.field),"value"in u&&t(0,s=u.value)},n.$$.update=()=>{n.$$.dirty&5&&s!==(o==null?void 0:o.trim())&&(t(2,o=oa(s)),t(0,s=o)),n.$$.dirty&4&&t(4,i=jf(o))},[s,r,o,l,i,a]}class Q1 extends ke{constructor(e){super(),we(this,e,G1,J1,be,{field:1,value:0})}}const X1=n=>({dragging:n&4,dragover:n&8}),aa=n=>({dragging:n[2],dragover:n[3]});function $1(n){let e,t,i,r,s;const l=n[10].default,o=ct(l,n,n[9],aa);return{c(){e=y("div"),o&&o.c(),h(e,"draggable",t=!n[1]),h(e,"class","draggable svelte-28orm4"),J(e,"dragging",n[2]),J(e,"dragover",n[3])},m(a,u){C(a,e,u),o&&o.m(e,null),i=!0,r||(s=[ee(e,"dragover",$e(n[11])),ee(e,"dragleave",$e(n[12])),ee(e,"dragend",n[13]),ee(e,"dragstart",n[14]),ee(e,"drop",n[15])],r=!0)},p(a,[u]){o&&o.p&&(!i||u&524)&&mt(o,l,a,a[9],i?dt(l,a[9],u,X1):ht(a[9]),aa),(!i||u&2&&t!==(t=!a[1]))&&h(e,"draggable",t),(!i||u&4)&&J(e,"dragging",a[2]),(!i||u&8)&&J(e,"dragover",a[3])},i(a){i||(O(o,a),i=!0)},o(a){N(o,a),i=!1},d(a){a&&S(e),o&&o.d(a),r=!1,Ce(s)}}}function x1(n,e,t){let{$$slots:i={},$$scope:r}=e;const s=St();let{index:l}=e,{list:o=[]}=e,{group:a="default"}=e,{disabled:u=!1}=e,{dragHandleClass:f=""}=e,c=!1,m=!1;function d(w,I){if(!(!w||u)){if(f&&!w.target.classList.contains(f)){t(3,m=!1),t(2,c=!1),w.preventDefault();return}t(2,c=!0),w.dataTransfer.effectAllowed="move",w.dataTransfer.dropEffect="move",w.dataTransfer.setData("text/plain",JSON.stringify({index:I,group:a})),s("drag",w)}}function b(w,I){if(t(3,m=!1),t(2,c=!1),!w||u)return;w.dataTransfer.dropEffect="move";let P={};try{P=JSON.parse(w.dataTransfer.getData("text/plain"))}catch{}if(P.group!=a)return;const A=P.index<<0;A<I?(o.splice(I+1,0,o[A]),o.splice(A,1)):(o.splice(I,0,o[A]),o.splice(A+1,1)),t(6,o),s("sort",{oldIndex:A,newIndex:I,list:o})}const p=()=>{t(3,m=!0)},g=()=>{t(3,m=!1)},_=()=>{t(3,m=!1),t(2,c=!1)},k=w=>d(w,l),T=w=>b(w,l);return n.$$set=w=>{"index"in w&&t(0,l=w.index),"list"in w&&t(6,o=w.list),"group"in w&&t(7,a=w.group),"disabled"in w&&t(1,u=w.disabled),"dragHandleClass"in w&&t(8,f=w.dragHandleClass),"$$scope"in w&&t(9,r=w.$$scope)},[l,u,c,m,d,b,o,a,f,r,i,p,g,_,k,T]}class kr extends ke{constructor(e){super(),we(this,e,x1,$1,be,{index:0,list:6,group:7,disabled:1,dragHandleClass:8})}}function e_(n){let e,t;return{c(){e=y("i"),h(e,"class","ri-file-line"),h(e,"alt",t=n[0].name)},m(i,r){C(i,e,r)},p(i,r){r&1&&t!==(t=i[0].name)&&h(e,"alt",t)},d(i){i&&S(e)}}}function t_(n){let e,t,i;return{c(){e=y("img"),h(e,"draggable",!1),rn(e.src,t=n[2])||h(e,"src",t),h(e,"width",n[1]),h(e,"height",n[1]),h(e,"alt",i=n[0].name)},m(r,s){C(r,e,s)},p(r,s){s&4&&!rn(e.src,t=r[2])&&h(e,"src",t),s&2&&h(e,"width",r[1]),s&2&&h(e,"height",r[1]),s&1&&i!==(i=r[0].name)&&h(e,"alt",i)},d(r){r&&S(e)}}}function n_(n){let e;function t(s,l){return s[2]?t_:e_}let i=t(n),r=i(n);return{c(){r.c(),e=ge()},m(s,l){r.m(s,l),C(s,e,l)},p(s,[l]){i===(i=t(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(e.parentNode,e)))},i:G,o:G,d(s){s&&S(e),r.d(s)}}}function i_(n,e,t){let i,{file:r}=e,{size:s=50}=e;function l(){F.hasImageExtension(r==null?void 0:r.name)?F.generateThumb(r,s,s).then(o=>{t(2,i=o)}).catch(o=>{t(2,i=""),console.warn("Unable to generate thumb: ",o)}):t(2,i="")}return n.$$set=o=>{"file"in o&&t(0,r=o.file),"size"in o&&t(1,s=o.size)},n.$$.update=()=>{n.$$.dirty&1&&typeof r<"u"&&l()},t(2,i=""),[r,s,i]}class r_ extends ke{constructor(e){super(),we(this,e,i_,n_,be,{file:0,size:1})}}function ua(n,e,t){const i=n.slice();return i[29]=e[t],i[31]=t,i}function fa(n,e,t){const i=n.slice();i[34]=e[t],i[31]=t;const r=i[2].includes(i[34]);return i[35]=r,i}function s_(n){let e,t,i;function r(){return n[17](n[34])}return{c(){e=y("button"),e.innerHTML='<i class="ri-close-line"></i>',h(e,"type","button"),h(e,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove")},m(s,l){C(s,e,l),t||(i=[He(Ze.call(null,e,"Remove file")),ee(e,"click",r)],t=!0)},p(s,l){n=s},d(s){s&&S(e),t=!1,Ce(i)}}}function l_(n){let e,t,i;function r(){return n[16](n[34])}return{c(){e=y("button"),e.innerHTML='<span class="txt">Restore</span>',h(e,"type","button"),h(e,"class","btn btn-sm btn-danger btn-transparent")},m(s,l){C(s,e,l),t||(i=ee(e,"click",r),t=!0)},p(s,l){n=s},d(s){s&&S(e),t=!1,i()}}}function o_(n){let e,t,i,r,s,l,o=n[34]+"",a,u,f,c,m,d;i=new Ds({props:{record:n[3],filename:n[34]}});function b(_,k){return _[35]?l_:s_}let p=b(n),g=p(n);return{c(){e=y("div"),t=y("div"),$(i.$$.fragment),r=R(),s=y("div"),l=y("a"),a=re(o),c=R(),m=y("div"),g.c(),J(t,"fade",n[35]),h(l,"draggable",!1),h(l,"href",u=Ae.files.getUrl(n[3],n[34],{token:n[10]})),h(l,"class",f="txt-ellipsis "+(n[35]?"txt-strikethrough txt-hint":"link-primary")),h(l,"title","Download"),h(l,"target","_blank"),h(l,"rel","noopener noreferrer"),h(s,"class","content"),h(m,"class","actions"),h(e,"class","list-item"),J(e,"dragging",n[32]),J(e,"dragover",n[33])},m(_,k){C(_,e,k),v(e,t),Q(i,t,null),v(e,r),v(e,s),v(s,l),v(l,a),v(e,c),v(e,m),g.m(m,null),d=!0},p(_,k){const T={};k[0]&8&&(T.record=_[3]),k[0]&32&&(T.filename=_[34]),i.$set(T),(!d||k[0]&36)&&J(t,"fade",_[35]),(!d||k[0]&32)&&o!==(o=_[34]+"")&&pe(a,o),(!d||k[0]&1064&&u!==(u=Ae.files.getUrl(_[3],_[34],{token:_[10]})))&&h(l,"href",u),(!d||k[0]&36&&f!==(f="txt-ellipsis "+(_[35]?"txt-strikethrough txt-hint":"link-primary")))&&h(l,"class",f),p===(p=b(_))&&g?g.p(_,k):(g.d(1),g=p(_),g&&(g.c(),g.m(m,null))),(!d||k[1]&2)&&J(e,"dragging",_[32]),(!d||k[1]&4)&&J(e,"dragover",_[33])},i(_){d||(O(i.$$.fragment,_),d=!0)},o(_){N(i.$$.fragment,_),d=!1},d(_){_&&S(e),X(i),g.d()}}}function ca(n,e){let t,i,r,s;function l(a){e[18](a)}let o={group:e[4].name+"_uploaded",index:e[31],disabled:!e[6],$$slots:{default:[o_,({dragging:a,dragover:u})=>({32:a,33:u}),({dragging:a,dragover:u})=>[0,(a?2:0)|(u?4:0)]]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.list=e[0]),i=new kr({props:o}),le.push(()=>Le(i,"list",l)),{key:n,first:null,c(){t=ge(),$(i.$$.fragment),this.first=t},m(a,u){C(a,t,u),Q(i,a,u),s=!0},p(a,u){e=a;const f={};u[0]&16&&(f.group=e[4].name+"_uploaded"),u[0]&32&&(f.index=e[31]),u[0]&64&&(f.disabled=!e[6]),u[0]&1068|u[1]&70&&(f.$$scope={dirty:u,ctx:e}),!r&&u[0]&1&&(r=!0,f.list=e[0],Pe(()=>r=!1)),i.$set(f)},i(a){s||(O(i.$$.fragment,a),s=!0)},o(a){N(i.$$.fragment,a),s=!1},d(a){a&&S(t),X(i,a)}}}function a_(n){let e,t,i,r,s,l,o,a,u=n[29].name+"",f,c,m,d,b,p,g;i=new r_({props:{file:n[29]}});function _(){return n[19](n[31])}return{c(){e=y("div"),t=y("figure"),$(i.$$.fragment),r=R(),s=y("div"),l=y("small"),l.textContent="New",o=R(),a=y("span"),f=re(u),m=R(),d=y("button"),d.innerHTML='<i class="ri-close-line"></i>',h(t,"class","thumb"),h(l,"class","label label-success m-r-5"),h(a,"class","txt"),h(s,"class","filename m-r-auto"),h(s,"title",c=n[29].name),h(d,"type","button"),h(d,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove"),h(e,"class","list-item"),J(e,"dragging",n[32]),J(e,"dragover",n[33])},m(k,T){C(k,e,T),v(e,t),Q(i,t,null),v(e,r),v(e,s),v(s,l),v(s,o),v(s,a),v(a,f),v(e,m),v(e,d),b=!0,p||(g=[He(Ze.call(null,d,"Remove file")),ee(d,"click",_)],p=!0)},p(k,T){n=k;const w={};T[0]&2&&(w.file=n[29]),i.$set(w),(!b||T[0]&2)&&u!==(u=n[29].name+"")&&pe(f,u),(!b||T[0]&2&&c!==(c=n[29].name))&&h(s,"title",c),(!b||T[1]&2)&&J(e,"dragging",n[32]),(!b||T[1]&4)&&J(e,"dragover",n[33])},i(k){b||(O(i.$$.fragment,k),b=!0)},o(k){N(i.$$.fragment,k),b=!1},d(k){k&&S(e),X(i),p=!1,Ce(g)}}}function da(n,e){let t,i,r,s;function l(a){e[20](a)}let o={group:e[4].name+"_new",index:e[31],disabled:!e[6],$$slots:{default:[a_,({dragging:a,dragover:u})=>({32:a,33:u}),({dragging:a,dragover:u})=>[0,(a?2:0)|(u?4:0)]]},$$scope:{ctx:e}};return e[1]!==void 0&&(o.list=e[1]),i=new kr({props:o}),le.push(()=>Le(i,"list",l)),{key:n,first:null,c(){t=ge(),$(i.$$.fragment),this.first=t},m(a,u){C(a,t,u),Q(i,a,u),s=!0},p(a,u){e=a;const f={};u[0]&16&&(f.group=e[4].name+"_new"),u[0]&2&&(f.index=e[31]),u[0]&64&&(f.disabled=!e[6]),u[0]&2|u[1]&70&&(f.$$scope={dirty:u,ctx:e}),!r&&u[0]&2&&(r=!0,f.list=e[1],Pe(()=>r=!1)),i.$set(f)},i(a){s||(O(i.$$.fragment,a),s=!0)},o(a){N(i.$$.fragment,a),s=!1},d(a){a&&S(t),X(i,a)}}}function u_(n){let e,t,i,r,s,l=n[4].name+"",o,a,u,f,c=[],m=new Map,d,b=[],p=new Map,g,_,k,T,w,I,P,A,E,L,q,W,z=ye(n[5]);const B=te=>te[34]+te[3].id;for(let te=0;te<z.length;te+=1){let U=fa(n,z,te),H=B(U);m.set(H,c[te]=ca(H,U))}let ne=ye(n[1]);const Z=te=>te[29].name+te[31];for(let te=0;te<ne.length;te+=1){let U=ua(n,ne,te),H=Z(U);p.set(H,b[te]=da(H,U))}return{c(){var te,U;e=y("label"),t=y("i"),r=R(),s=y("span"),o=re(l),u=R(),f=y("div");for(let H=0;H<c.length;H+=1)c[H].c();d=R();for(let H=0;H<b.length;H+=1)b[H].c();g=R(),_=y("div"),k=y("input"),w=R(),I=y("button"),P=y("i"),A=R(),E=y("span"),E.textContent="Upload new file",h(t,"class",i=F.getFieldTypeIcon(n[4].type)),h(s,"class","txt"),h(e,"for",a=n[28]),h(k,"type","file"),h(k,"class","hidden"),h(k,"accept",T=((U=(te=n[4].options)==null?void 0:te.mimeTypes)==null?void 0:U.join(","))||null),k.multiple=n[6],h(P,"class","ri-upload-cloud-line"),h(E,"class","txt"),h(I,"type","button"),h(I,"class","btn btn-transparent btn-sm btn-block"),I.disabled=n[11],h(_,"class","list-item list-item-btn"),h(f,"class","list")},m(te,U){C(te,e,U),v(e,t),v(e,r),v(e,s),v(s,o),C(te,u,U),C(te,f,U);for(let H=0;H<c.length;H+=1)c[H]&&c[H].m(f,null);v(f,d);for(let H=0;H<b.length;H+=1)b[H]&&b[H].m(f,null);v(f,g),v(f,_),v(_,k),n[21](k),v(_,w),v(_,I),v(I,P),v(I,A),v(I,E),n[24](f),L=!0,q||(W=[ee(k,"change",n[22]),ee(I,"click",n[23])],q=!0)},p(te,U){var H,j;(!L||U[0]&16&&i!==(i=F.getFieldTypeIcon(te[4].type)))&&h(t,"class",i),(!L||U[0]&16)&&l!==(l=te[4].name+"")&&pe(o,l),(!L||U[0]&268435456&&a!==(a=te[28]))&&h(e,"for",a),U[0]&13437|U[1]&6&&(z=ye(te[5]),ae(),c=bt(c,U,B,1,te,z,m,f,Nt,ca,d,fa),ue()),U[0]&16466|U[1]&6&&(ne=ye(te[1]),ae(),b=bt(b,U,Z,1,te,ne,p,f,Nt,da,g,ua),ue()),(!L||U[0]&16&&T!==(T=((j=(H=te[4].options)==null?void 0:H.mimeTypes)==null?void 0:j.join(","))||null))&&h(k,"accept",T),(!L||U[0]&64)&&(k.multiple=te[6]),(!L||U[0]&2048)&&(I.disabled=te[11])},i(te){if(!L){for(let U=0;U<z.length;U+=1)O(c[U]);for(let U=0;U<ne.length;U+=1)O(b[U]);L=!0}},o(te){for(let U=0;U<c.length;U+=1)N(c[U]);for(let U=0;U<b.length;U+=1)N(b[U]);L=!1},d(te){te&&(S(e),S(u),S(f));for(let U=0;U<c.length;U+=1)c[U].d();for(let U=0;U<b.length;U+=1)b[U].d();n[21](null),n[24](null),q=!1,Ce(W)}}}function f_(n){let e,t,i,r,s;return t=new et({props:{class:`
            form-field form-field-list form-field-file
            `+(n[4].required?"required":"")+`
            `+(n[9]?"dragover":"")+`
        `,name:n[4].name,$$slots:{default:[u_,({uniqueId:l})=>({28:l}),({uniqueId:l})=>[l?268435456:0]]},$$scope:{ctx:n}}}),{c(){e=y("div"),$(t.$$.fragment),h(e,"class","block")},m(l,o){C(l,e,o),Q(t,e,null),i=!0,r||(s=[ee(e,"dragover",$e(n[25])),ee(e,"dragleave",n[26]),ee(e,"drop",n[15])],r=!0)},p(l,o){const a={};o[0]&528&&(a.class=`
            form-field form-field-list form-field-file
            `+(l[4].required?"required":"")+`
            `+(l[9]?"dragover":"")+`
        `),o[0]&16&&(a.name=l[4].name),o[0]&268439039|o[1]&64&&(a.$$scope={dirty:o,ctx:l}),t.$set(a)},i(l){i||(O(t.$$.fragment,l),i=!0)},o(l){N(t.$$.fragment,l),i=!1},d(l){l&&S(e),X(t),r=!1,Ce(s)}}}function c_(n,e,t){let i,r,s,{record:l}=e,{field:o}=e,{value:a=""}=e,{uploadedFiles:u=[]}=e,{deletedFileNames:f=[]}=e,c,m,d=!1,b="";function p(Z){F.removeByValue(f,Z),t(2,f)}function g(Z){F.pushUnique(f,Z),t(2,f)}function _(Z){F.isEmpty(u[Z])||u.splice(Z,1),t(1,u)}function k(){m==null||m.dispatchEvent(new CustomEvent("change",{detail:{value:a,uploadedFiles:u,deletedFileNames:f},bubbles:!0}))}function T(Z){var U,H;Z.preventDefault(),t(9,d=!1);const te=((U=Z.dataTransfer)==null?void 0:U.files)||[];if(!(s||!te.length)){for(const j of te){const De=r.length+u.length-f.length;if(((H=o.options)==null?void 0:H.maxSelect)<=De)break;u.push(j)}t(1,u)}}At(async()=>{t(10,b=await Ae.getAdminFileToken(l.collectionId))});const w=Z=>p(Z),I=Z=>g(Z);function P(Z){a=Z,t(0,a),t(6,i),t(4,o)}const A=Z=>_(Z);function E(Z){u=Z,t(1,u)}function L(Z){le[Z?"unshift":"push"](()=>{c=Z,t(7,c)})}const q=()=>{for(let Z of c.files)u.push(Z);t(1,u),t(7,c.value=null,c)},W=()=>c==null?void 0:c.click();function z(Z){le[Z?"unshift":"push"](()=>{m=Z,t(8,m)})}const B=()=>{t(9,d=!0)},ne=()=>{t(9,d=!1)};return n.$$set=Z=>{"record"in Z&&t(3,l=Z.record),"field"in Z&&t(4,o=Z.field),"value"in Z&&t(0,a=Z.value),"uploadedFiles"in Z&&t(1,u=Z.uploadedFiles),"deletedFileNames"in Z&&t(2,f=Z.deletedFileNames)},n.$$.update=()=>{var Z,te;n.$$.dirty[0]&2&&(Array.isArray(u)||t(1,u=F.toArray(u))),n.$$.dirty[0]&4&&(Array.isArray(f)||t(2,f=F.toArray(f))),n.$$.dirty[0]&16&&t(6,i=((Z=o.options)==null?void 0:Z.maxSelect)>1),n.$$.dirty[0]&65&&F.isEmpty(a)&&t(0,a=i?[]:""),n.$$.dirty[0]&1&&t(5,r=F.toArray(a)),n.$$.dirty[0]&54&&t(11,s=(r.length||u.length)&&((te=o.options)==null?void 0:te.maxSelect)<=r.length+u.length-f.length),n.$$.dirty[0]&6&&(u!==-1||f!==-1)&&k()},[a,u,f,l,o,r,i,c,m,d,b,s,p,g,_,T,w,I,P,A,E,L,q,W,z,B,ne]}class d_ extends ke{constructor(e){super(),we(this,e,c_,f_,be,{record:3,field:4,value:0,uploadedFiles:1,deletedFileNames:2},null,[-1,-1])}}function ma(n){return typeof n=="function"?{threshold:100,callback:n}:n||{}}function m_(n,e){e=ma(e),e!=null&&e.callback&&e.callback();function t(i){if(!(e!=null&&e.callback))return;i.target.scrollHeight-i.target.clientHeight-i.target.scrollTop<=e.threshold&&e.callback()}return n.addEventListener("scroll",t),n.addEventListener("resize",t),{update(i){e=ma(i)},destroy(){n.removeEventListener("scroll",t),n.removeEventListener("resize",t)}}}function h_(n){let e,t,i,r;return{c(){e=y("input"),h(e,"type","text"),h(e,"id",n[8]),h(e,"placeholder",t=n[0]||n[1])},m(s,l){C(s,e,l),n[13](e),Be(e,n[7]),i||(r=ee(e,"input",n[14]),i=!0)},p(s,l){l&3&&t!==(t=s[0]||s[1])&&h(e,"placeholder",t),l&128&&e.value!==s[7]&&Be(e,s[7])},i:G,o:G,d(s){s&&S(e),n[13](null),i=!1,r()}}}function p_(n){let e,t,i,r;function s(a){n[12](a)}var l=n[4];function o(a,u){let f={id:a[8],singleLine:!0,disableRequestKeys:!0,disableCollectionJoinKeys:!0,extraAutocompleteKeys:a[3],baseCollection:a[2],placeholder:a[0]||a[1]};return a[7]!==void 0&&(f.value=a[7]),{props:f}}return l&&(e=Kt(l,o(n)),le.push(()=>Le(e,"value",s)),e.$on("submit",n[10])),{c(){e&&$(e.$$.fragment),i=ge()},m(a,u){e&&Q(e,a,u),C(a,i,u),r=!0},p(a,u){if(u&16&&l!==(l=a[4])){if(e){ae();const f=e;N(f.$$.fragment,1,0,()=>{X(f,1)}),ue()}l?(e=Kt(l,o(a)),le.push(()=>Le(e,"value",s)),e.$on("submit",a[10]),$(e.$$.fragment),O(e.$$.fragment,1),Q(e,i.parentNode,i)):e=null}else if(l){const f={};u&8&&(f.extraAutocompleteKeys=a[3]),u&4&&(f.baseCollection=a[2]),u&3&&(f.placeholder=a[0]||a[1]),!t&&u&128&&(t=!0,f.value=a[7],Pe(()=>t=!1)),e.$set(f)}},i(a){r||(e&&O(e.$$.fragment,a),r=!0)},o(a){e&&N(e.$$.fragment,a),r=!1},d(a){a&&S(i),e&&X(e,a)}}}function ha(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<span class="txt">Search</span>',h(e,"type","submit"),h(e,"class","btn btn-expanded-sm btn-sm btn-warning")},m(r,s){C(r,e,s),i=!0},i(r){i||(r&&_t(()=>{i&&(t||(t=pt(e,ln,{duration:150,x:5},!0)),t.run(1))}),i=!0)},o(r){r&&(t||(t=pt(e,ln,{duration:150,x:5},!1)),t.run(0)),i=!1},d(r){r&&S(e),r&&t&&t.end()}}}function pa(n){let e,t,i,r,s;return{c(){e=y("button"),e.innerHTML='<span class="txt">Clear</span>',h(e,"type","button"),h(e,"class","btn btn-transparent btn-sm btn-hint p-l-xs p-r-xs m-l-10")},m(l,o){C(l,e,o),i=!0,r||(s=ee(e,"click",n[15]),r=!0)},p:G,i(l){i||(l&&_t(()=>{i&&(t||(t=pt(e,ln,{duration:150,x:5},!0)),t.run(1))}),i=!0)},o(l){l&&(t||(t=pt(e,ln,{duration:150,x:5},!1)),t.run(0)),i=!1},d(l){l&&S(e),l&&t&&t.end(),r=!1,s()}}}function g_(n){let e,t,i,r,s,l,o,a,u,f,c;const m=[p_,h_],d=[];function b(_,k){return _[4]&&!_[5]?0:1}s=b(n),l=d[s]=m[s](n);let p=(n[0].length||n[7].length)&&n[7]!=n[0]&&ha(),g=(n[0].length||n[7].length)&&pa(n);return{c(){e=y("form"),t=y("label"),i=y("i"),r=R(),l.c(),o=R(),p&&p.c(),a=R(),g&&g.c(),h(i,"class","ri-search-line"),h(t,"for",n[8]),h(t,"class","m-l-10 txt-xl"),h(e,"class","searchbar")},m(_,k){C(_,e,k),v(e,t),v(t,i),v(e,r),d[s].m(e,null),v(e,o),p&&p.m(e,null),v(e,a),g&&g.m(e,null),u=!0,f||(c=[ee(e,"click",Qt(n[11])),ee(e,"submit",$e(n[10]))],f=!0)},p(_,[k]){let T=s;s=b(_),s===T?d[s].p(_,k):(ae(),N(d[T],1,1,()=>{d[T]=null}),ue(),l=d[s],l?l.p(_,k):(l=d[s]=m[s](_),l.c()),O(l,1),l.m(e,o)),(_[0].length||_[7].length)&&_[7]!=_[0]?p?k&129&&O(p,1):(p=ha(),p.c(),O(p,1),p.m(e,a)):p&&(ae(),N(p,1,1,()=>{p=null}),ue()),_[0].length||_[7].length?g?(g.p(_,k),k&129&&O(g,1)):(g=pa(_),g.c(),O(g,1),g.m(e,null)):g&&(ae(),N(g,1,1,()=>{g=null}),ue())},i(_){u||(O(l),O(p),O(g),u=!0)},o(_){N(l),N(p),N(g),u=!1},d(_){_&&S(e),d[s].d(),p&&p.d(),g&&g.d(),f=!1,Ce(c)}}}function __(n,e,t){const i=St(),r="search_"+F.randomString(7);let{value:s=""}=e,{placeholder:l='Search term or filter like created > "2022-01-01"...'}=e,{autocompleteCollection:o=F.initCollection()}=e,{extraAutocompleteKeys:a=[]}=e,u,f=!1,c,m="";function d(I=!0){t(7,m=""),I&&(c==null||c.focus()),i("clear")}function b(){t(0,s=m),i("submit",s)}async function p(){u||f||(t(5,f=!0),t(4,u=(await qf(()=>import("./FilterAutocompleteInput-Dx2HVuo-.js"),__vite__mapDeps([2,1]),import.meta.url)).default),t(5,f=!1))}At(()=>{p()});function g(I){vt.call(this,n,I)}function _(I){m=I,t(7,m),t(0,s)}function k(I){le[I?"unshift":"push"](()=>{c=I,t(6,c)})}function T(){m=this.value,t(7,m),t(0,s)}const w=()=>{d(!1),b()};return n.$$set=I=>{"value"in I&&t(0,s=I.value),"placeholder"in I&&t(1,l=I.placeholder),"autocompleteCollection"in I&&t(2,o=I.autocompleteCollection),"extraAutocompleteKeys"in I&&t(3,a=I.extraAutocompleteKeys)},n.$$.update=()=>{n.$$.dirty&1&&typeof s=="string"&&t(7,m=s)},[s,l,o,a,u,f,c,m,r,d,b,g,_,k,T,w]}class Vf extends ke{constructor(e){super(),we(this,e,__,g_,be,{value:0,placeholder:1,autocompleteCollection:2,extraAutocompleteKeys:3})}}function ga(n,e,t){const i=n.slice();return i[46]=e[t],i[48]=t,i}function _a(n,e,t){const i=n.slice();i[46]=e[t];const r=i[8](i[46]);return i[6]=r,i}function ba(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<div class="txt">New record</div>',h(e,"type","button"),h(e,"class","btn btn-pill btn-transparent btn-hint p-l-xs p-r-xs")},m(r,s){C(r,e,s),t||(i=ee(e,"click",n[30]),t=!0)},p:G,d(r){r&&S(e),t=!1,i()}}}function ya(n){let e,t=!n[12]&&wa(n);return{c(){t&&t.c(),e=ge()},m(i,r){t&&t.m(i,r),C(i,e,r)},p(i,r){i[12]?t&&(t.d(1),t=null):t?t.p(i,r):(t=wa(i),t.c(),t.m(e.parentNode,e))},d(i){i&&S(e),t&&t.d(i)}}}function wa(n){var s;let e,t,i,r=((s=n[2])==null?void 0:s.length)&&ka(n);return{c(){e=y("div"),t=y("span"),t.textContent="No records found.",i=R(),r&&r.c(),h(t,"class","txt txt-hint"),h(e,"class","list-item")},m(l,o){C(l,e,o),v(e,t),v(e,i),r&&r.m(e,null)},p(l,o){var a;(a=l[2])!=null&&a.length?r?r.p(l,o):(r=ka(l),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(l){l&&S(e),r&&r.d()}}}function ka(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<span class="txt">Clear filters</span>',h(e,"type","button"),h(e,"class","btn btn-hint btn-sm")},m(r,s){C(r,e,s),t||(i=ee(e,"click",n[34]),t=!0)},p:G,d(r){r&&S(e),t=!1,i()}}}function b_(n){let e;return{c(){e=y("i"),h(e,"class","ri-checkbox-blank-circle-line txt-disabled")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function y_(n){let e;return{c(){e=y("i"),h(e,"class","ri-checkbox-circle-fill txt-success")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function va(n){let e,t,i,r;function s(){return n[31](n[46])}return{c(){e=y("div"),t=y("button"),t.innerHTML='<i class="ri-pencil-line"></i>',h(t,"type","button"),h(t,"class","btn btn-sm btn-circle btn-transparent btn-hint m-l-auto"),h(e,"class","actions nonintrusive")},m(l,o){C(l,e,o),v(e,t),i||(r=[He(Ze.call(null,t,"Edit")),ee(t,"keydown",Qt(n[26])),ee(t,"click",Qt(s))],i=!0)},p(l,o){n=l},d(l){l&&S(e),i=!1,Ce(r)}}}function Sa(n,e){let t,i,r,s,l,o,a,u;function f(g,_){return g[6]?y_:b_}let c=f(e),m=c(e);s=new wr({props:{record:e[46]}});let d=!e[10]&&va(e);function b(){return e[32](e[46])}function p(...g){return e[33](e[46],...g)}return{key:n,first:null,c(){t=y("div"),m.c(),i=R(),r=y("div"),$(s.$$.fragment),l=R(),d&&d.c(),h(r,"class","content"),h(t,"tabindex","0"),h(t,"class","list-item handle"),J(t,"selected",e[6]),J(t,"disabled",!e[6]&&e[4]>1&&!e[9]),this.first=t},m(g,_){C(g,t,_),m.m(t,null),v(t,i),v(t,r),Q(s,r,null),v(t,l),d&&d.m(t,null),o=!0,a||(u=[ee(t,"click",b),ee(t,"keydown",p)],a=!0)},p(g,_){e=g,c!==(c=f(e))&&(m.d(1),m=c(e),m&&(m.c(),m.m(t,i)));const k={};_[0]&128&&(k.record=e[46]),s.$set(k),e[10]?d&&(d.d(1),d=null):d?d.p(e,_):(d=va(e),d.c(),d.m(t,null)),(!o||_[0]&384)&&J(t,"selected",e[6]),(!o||_[0]&912)&&J(t,"disabled",!e[6]&&e[4]>1&&!e[9])},i(g){o||(O(s.$$.fragment,g),o=!0)},o(g){N(s.$$.fragment,g),o=!1},d(g){g&&S(t),m.d(),X(s),d&&d.d(),a=!1,Ce(u)}}}function Ca(n){let e;return{c(){e=y("div"),e.innerHTML='<div class="block txt-center"><span class="loader loader-sm active"></span></div>',h(e,"class","list-item")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Ta(n){let e,t=n[6].length+"",i,r,s,l;return{c(){e=re("("),i=re(t),r=re(" of MAX "),s=re(n[4]),l=re(")")},m(o,a){C(o,e,a),C(o,i,a),C(o,r,a),C(o,s,a),C(o,l,a)},p(o,a){a[0]&64&&t!==(t=o[6].length+"")&&pe(i,t),a[0]&16&&pe(s,o[4])},d(o){o&&(S(e),S(i),S(r),S(s),S(l))}}}function w_(n){let e;return{c(){e=y("p"),e.textContent="No selected records.",h(e,"class","txt-hint")},m(t,i){C(t,e,i)},p:G,i:G,o:G,d(t){t&&S(e)}}}function k_(n){let e,t,i=ye(n[6]),r=[];for(let l=0;l<i.length;l+=1)r[l]=Da(ga(n,i,l));const s=l=>N(r[l],1,1,()=>{r[l]=null});return{c(){e=y("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","selected-list svelte-1u8jhky")},m(l,o){C(l,e,o);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);t=!0},p(l,o){if(o[0]&32832|o[1]&786432){i=ye(l[6]);let a;for(a=0;a<i.length;a+=1){const u=ga(l,i,a);r[a]?(r[a].p(u,o),O(r[a],1)):(r[a]=Da(u),r[a].c(),O(r[a],1),r[a].m(e,null))}for(ae(),a=i.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<i.length;o+=1)O(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)N(r[o]);t=!1},d(l){l&&S(e),cn(r,l)}}}function v_(n){let e,t,i,r,s,l,o,a;t=new wr({props:{record:n[46]}});function u(){return n[36](n[46])}return{c(){e=y("span"),$(t.$$.fragment),i=R(),r=y("button"),r.innerHTML='<i class="ri-close-line"></i>',s=R(),h(r,"type","button"),h(r,"title","Remove"),h(r,"class","btn btn-circle btn-transparent btn-hint btn-xs"),h(e,"class","label"),J(e,"label-danger",n[49]),J(e,"label-warning",n[50])},m(f,c){C(f,e,c),Q(t,e,null),v(e,i),v(e,r),C(f,s,c),l=!0,o||(a=ee(r,"click",u),o=!0)},p(f,c){n=f;const m={};c[0]&64&&(m.record=n[46]),t.$set(m),(!l||c[1]&262144)&&J(e,"label-danger",n[49]),(!l||c[1]&524288)&&J(e,"label-warning",n[50])},i(f){l||(O(t.$$.fragment,f),l=!0)},o(f){N(t.$$.fragment,f),l=!1},d(f){f&&(S(e),S(s)),X(t),o=!1,a()}}}function Da(n){let e,t,i;function r(l){n[37](l)}let s={index:n[48],$$slots:{default:[v_,({dragging:l,dragover:o})=>({49:l,50:o}),({dragging:l,dragover:o})=>[0,(l?262144:0)|(o?524288:0)]]},$$scope:{ctx:n}};return n[6]!==void 0&&(s.list=n[6]),e=new kr({props:s}),le.push(()=>Le(e,"list",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){const a={};o[0]&64|o[1]&4980736&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&64&&(t=!0,a.list=l[6],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function S_(n){let e,t,i,r,s,l=[],o=new Map,a,u,f,c,m,d,b,p,g,_,k,T;t=new Vf({props:{value:n[2],autocompleteCollection:n[5]}}),t.$on("submit",n[29]);let w=!n[10]&&ba(n),I=ye(n[7]);const P=B=>B[46].id;for(let B=0;B<I.length;B+=1){let ne=_a(n,I,B),Z=P(ne);o.set(Z,l[B]=Sa(Z,ne))}let A=null;I.length||(A=ya(n));let E=n[12]&&Ca(),L=n[4]>1&&Ta(n);const q=[k_,w_],W=[];function z(B,ne){return B[6].length?0:1}return b=z(n),p=W[b]=q[b](n),{c(){e=y("div"),$(t.$$.fragment),i=R(),w&&w.c(),r=R(),s=y("div");for(let B=0;B<l.length;B+=1)l[B].c();A&&A.c(),a=R(),E&&E.c(),f=R(),c=y("h5"),m=re(`Selected
        `),L&&L.c(),d=R(),p.c(),g=ge(),h(e,"class","flex m-b-base flex-gap-10"),h(s,"class","list picker-list m-b-base svelte-1u8jhky"),h(c,"class","section-title")},m(B,ne){C(B,e,ne),Q(t,e,null),v(e,i),w&&w.m(e,null),C(B,r,ne),C(B,s,ne);for(let Z=0;Z<l.length;Z+=1)l[Z]&&l[Z].m(s,null);A&&A.m(s,null),v(s,a),E&&E.m(s,null),C(B,f,ne),C(B,c,ne),v(c,m),L&&L.m(c,null),C(B,d,ne),W[b].m(B,ne),C(B,g,ne),_=!0,k||(T=He(u=m_.call(null,s,n[35])),k=!0)},p(B,ne){const Z={};ne[0]&4&&(Z.value=B[2]),ne[0]&32&&(Z.autocompleteCollection=B[5]),t.$set(Z),B[10]?w&&(w.d(1),w=null):w?w.p(B,ne):(w=ba(B),w.c(),w.m(e,null)),ne[0]&79764&&(I=ye(B[7]),ae(),l=bt(l,ne,P,1,B,I,o,s,Nt,Sa,a,_a),ue(),!I.length&&A?A.p(B,ne):I.length?A&&(A.d(1),A=null):(A=ya(B),A.c(),A.m(s,a))),B[12]?E||(E=Ca(),E.c(),E.m(s,null)):E&&(E.d(1),E=null),u&&ot(u.update)&&ne[0]&2056&&u.update.call(null,B[35]),B[4]>1?L?L.p(B,ne):(L=Ta(B),L.c(),L.m(c,null)):L&&(L.d(1),L=null);let te=b;b=z(B),b===te?W[b].p(B,ne):(ae(),N(W[te],1,1,()=>{W[te]=null}),ue(),p=W[b],p?p.p(B,ne):(p=W[b]=q[b](B),p.c()),O(p,1),p.m(g.parentNode,g))},i(B){if(!_){O(t.$$.fragment,B);for(let ne=0;ne<I.length;ne+=1)O(l[ne]);O(p),_=!0}},o(B){N(t.$$.fragment,B);for(let ne=0;ne<l.length;ne+=1)N(l[ne]);N(p),_=!1},d(B){B&&(S(e),S(r),S(s),S(f),S(c),S(d),S(g)),X(t),w&&w.d();for(let ne=0;ne<l.length;ne+=1)l[ne].d();A&&A.d(),E&&E.d(),L&&L.d(),W[b].d(B),k=!1,T()}}}function C_(n){var o;let e,t,i,r=(((o=n[5])==null?void 0:o.name)||"")+"",s,l;return{c(){e=y("h4"),t=re("Select "),i=y("strong"),s=re(r),l=re(" records")},m(a,u){C(a,e,u),v(e,t),v(e,i),v(i,s),v(e,l)},p(a,u){var f;u[0]&32&&r!==(r=(((f=a[5])==null?void 0:f.name)||"")+"")&&pe(s,r)},d(a){a&&S(e)}}}function T_(n){let e,t,i,r,s;return{c(){e=y("button"),e.innerHTML='<span class="txt">Cancel</span>',t=R(),i=y("button"),i.innerHTML='<span class="txt">Set selection</span>',h(e,"type","button"),h(e,"class","btn btn-transparent"),h(i,"type","button"),h(i,"class","btn")},m(l,o){C(l,e,o),C(l,t,o),C(l,i,o),r||(s=[ee(e,"click",n[27]),ee(i,"click",n[28])],r=!0)},p:G,d(l){l&&(S(e),S(t),S(i)),r=!1,Ce(s)}}}function D_(n){let e,t;const i=[{popup:!0},{class:"overlay-panel-xl"},n[18]];let r={$$slots:{footer:[T_],header:[C_],default:[S_]},$$scope:{ctx:n}};for(let s=0;s<i.length;s+=1)r=Ke(r,i[s]);return e=new br({props:r}),n[38](e),e.$on("hide",n[39]),e.$on("show",n[40]),{c(){$(e.$$.fragment)},m(s,l){Q(e,s,l),t=!0},p(s,l){const o=l[0]&262144?Wt(i,[i[0],i[1],Xt(s[18])]):{};l[0]&8188|l[1]&4194304&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){N(e.$$.fragment,s),t=!1},d(s){n[38](null),X(e,s)}}}const zi=50;function O_(n,e,t){let i,r,s,l,o,a,u,f;const c=["value","field","show","hide"];let m=sn(e,c),d;Xe(n,dn,de=>t(25,d=de));const b=St(),p="picker_"+F.randomString(5);let{value:g}=e,{field:_}=e,k,T,w="",I=[],P=[],A=1,E=0,L=!1,q=!1;function W(){return t(2,w=""),t(7,I=[]),t(6,P=[]),B(),ne(!0),k==null?void 0:k.show()}function z(){return k==null?void 0:k.hide()}async function B(){const de=F.toArray(g);if(!r||!de.length)return;t(23,q=!0);let K=[];const Te=de.slice(),Ge=[];for(;Te.length>0;){const ft=[];for(const Lt of Te.splice(0,zi))ft.push(`id="${Lt}"`);Ge.push(Ae.collection(r).getFullList({batch:zi,filter:ft.join("||"),fields:"*:excerpt(200)",requestKey:null}))}try{await Promise.all(Ge).then(ft=>{K=K.concat(...ft)}),t(6,P=[]);for(const ft of de){const Lt=F.findByKey(K,"id",ft);Lt&&P.push(Lt)}w.trim()||t(7,I=F.filterDuplicatesByKey(P.concat(I))),t(23,q=!1)}catch(ft){ft.isAbort||(Ae.error(ft),t(23,q=!1))}}async function ne(de=!1){if(r){t(3,L=!0),de&&(w.trim()?t(7,I=[]):t(7,I=F.toArray(P).slice()));try{const K=de?1:A+1,Te=F.getAllCollectionIdentifiers(s),Ge=await Ae.collection(r).getList(K,zi,{filter:F.normalizeSearchFilter(w,Te),sort:l?"":"-created",fields:"*:excerpt(200)",skipTotal:1,requestKey:p+"loadList"});t(7,I=F.filterDuplicatesByKey(I.concat(Ge.items))),A=Ge.page,t(22,E=Ge.items.length),t(3,L=!1)}catch(K){K.isAbort||(Ae.error(K),t(3,L=!1))}}}function Z(de){i==1?t(6,P=[de]):u&&(F.pushOrReplaceByKey(P,de),t(6,P))}function te(de){F.removeByKey(P,"id",de.id),t(6,P)}function U(de){f(de)?te(de):Z(de)}function H(){var de;i!=1?t(19,g=P.map(K=>K.id)):t(19,g=((de=P==null?void 0:P[0])==null?void 0:de.id)||""),b("save",P),z()}function j(de){vt.call(this,n,de)}const De=()=>z(),at=()=>H(),Ct=de=>t(2,w=de.detail),yt=()=>T==null?void 0:T.show(),Ht=de=>T==null?void 0:T.show(de),gt=de=>U(de),Tt=(de,K)=>{(K.code==="Enter"||K.code==="Space")&&(K.preventDefault(),K.stopPropagation(),U(de))},it=()=>t(2,w=""),ut=()=>{a&&!L&&ne()},ve=de=>te(de);function qe(de){P=de,t(6,P)}function Ue(de){le[de?"unshift":"push"](()=>{k=de,t(1,k)})}function je(de){vt.call(this,n,de)}function rt(de){vt.call(this,n,de)}return n.$$set=de=>{e=Ke(Ke({},e),Ci(de)),t(18,m=sn(e,c)),"value"in de&&t(19,g=de.value),"field"in de&&t(20,_=de.field)},n.$$.update=()=>{var de,K;n.$$.dirty[0]&1048576&&t(4,i=((de=_==null?void 0:_.options)==null?void 0:de.maxSelect)||null),n.$$.dirty[0]&1048576&&t(24,r=(K=_==null?void 0:_.options)==null?void 0:K.collectionId),n.$$.dirty[0]&50331648&&t(5,s=d.find(Te=>Te.id==r)||null),n.$$.dirty[0]&6&&typeof w<"u"&&k!=null&&k.isActive()&&ne(!0),n.$$.dirty[0]&32&&t(10,l=(s==null?void 0:s.type)==="view"),n.$$.dirty[0]&8388616&&t(12,o=L||q),n.$$.dirty[0]&4194304&&t(11,a=E==zi),n.$$.dirty[0]&80&&t(9,u=i===null||i>P.length),n.$$.dirty[0]&64&&t(8,f=function(Te){return F.findByKey(P,"id",Te.id)})},[z,k,w,L,i,s,P,I,f,u,l,a,o,T,ne,te,U,H,m,g,_,W,E,q,r,d,j,De,at,Ct,yt,Ht,gt,Tt,it,ut,ve,qe,Ue,je,rt]}class E_ extends ke{constructor(e){super(),we(this,e,O_,D_,be,{value:19,field:20,show:21,hide:0},null,[-1,-1])}get show(){return this.$$.ctx[21]}get hide(){return this.$$.ctx[0]}}function Oa(n,e,t){const i=n.slice();return i[21]=e[t],i[23]=t,i}function Ea(n,e,t){const i=n.slice();return i[26]=e[t],i}function Ma(n){let e,t,i,r;return{c(){e=y("i"),h(e,"class","ri-error-warning-line link-hint m-l-auto flex-order-10")},m(s,l){C(s,e,l),i||(r=He(t=Ze.call(null,e,{position:"left",text:"The following relation ids were removed from the list because they are missing or invalid: "+n[6].join(", ")})),i=!0)},p(s,l){t&&ot(t.update)&&l&64&&t.update.call(null,{position:"left",text:"The following relation ids were removed from the list because they are missing or invalid: "+s[6].join(", ")})},d(s){s&&S(e),i=!1,r()}}}function Ia(n){let e,t=n[5]&&Na(n);return{c(){t&&t.c(),e=ge()},m(i,r){t&&t.m(i,r),C(i,e,r)},p(i,r){i[5]?t?t.p(i,r):(t=Na(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&S(e),t&&t.d(i)}}}function Na(n){let e,t=ye(F.toArray(n[0]).slice(0,10)),i=[];for(let r=0;r<t.length;r+=1)i[r]=Aa(Ea(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ge()},m(r,s){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(r,s);C(r,e,s)},p(r,s){if(s&1){t=ye(F.toArray(r[0]).slice(0,10));let l;for(l=0;l<t.length;l+=1){const o=Ea(r,t,l);i[l]?i[l].p(o,s):(i[l]=Aa(),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},d(r){r&&S(e),cn(i,r)}}}function Aa(n){let e;return{c(){e=y("div"),e.innerHTML='<div class="skeleton-loader"></div> ',h(e,"class","list-item")},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function M_(n){let e,t,i,r,s,l,o,a,u,f;i=new wr({props:{record:n[21]}});function c(){return n[11](n[21])}return{c(){e=y("div"),t=y("div"),$(i.$$.fragment),r=R(),s=y("div"),l=y("button"),l.innerHTML='<i class="ri-close-line"></i>',o=R(),h(t,"class","content"),h(l,"type","button"),h(l,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove"),h(s,"class","actions"),h(e,"class","list-item"),J(e,"dragging",n[24]),J(e,"dragover",n[25])},m(m,d){C(m,e,d),v(e,t),Q(i,t,null),v(e,r),v(e,s),v(s,l),C(m,o,d),a=!0,u||(f=[He(Ze.call(null,l,"Remove")),ee(l,"click",c)],u=!0)},p(m,d){n=m;const b={};d&16&&(b.record=n[21]),i.$set(b),(!a||d&16777216)&&J(e,"dragging",n[24]),(!a||d&33554432)&&J(e,"dragover",n[25])},i(m){a||(O(i.$$.fragment,m),a=!0)},o(m){N(i.$$.fragment,m),a=!1},d(m){m&&(S(e),S(o)),X(i),u=!1,Ce(f)}}}function La(n,e){let t,i,r,s;function l(a){e[12](a)}let o={group:e[2].name+"_relation",index:e[23],disabled:!e[7],$$slots:{default:[M_,({dragging:a,dragover:u})=>({24:a,25:u}),({dragging:a,dragover:u})=>(a?16777216:0)|(u?33554432:0)]},$$scope:{ctx:e}};return e[4]!==void 0&&(o.list=e[4]),i=new kr({props:o}),le.push(()=>Le(i,"list",l)),i.$on("sort",e[13]),{key:n,first:null,c(){t=ge(),$(i.$$.fragment),this.first=t},m(a,u){C(a,t,u),Q(i,a,u),s=!0},p(a,u){e=a;const f={};u&4&&(f.group=e[2].name+"_relation"),u&16&&(f.index=e[23]),u&128&&(f.disabled=!e[7]),u&587202576&&(f.$$scope={dirty:u,ctx:e}),!r&&u&16&&(r=!0,f.list=e[4],Pe(()=>r=!1)),i.$set(f)},i(a){s||(O(i.$$.fragment,a),s=!0)},o(a){N(i.$$.fragment,a),s=!1},d(a){a&&S(t),X(i,a)}}}function I_(n){let e,t,i,r,s,l=n[2].name+"",o,a,u,f,c,m,d=[],b=new Map,p,g,_,k,T,w,I=n[6].length&&Ma(n),P=ye(n[4]);const A=L=>L[21].id;for(let L=0;L<P.length;L+=1){let q=Oa(n,P,L),W=A(q);b.set(W,d[L]=La(W,q))}let E=null;return P.length||(E=Ia(n)),{c(){e=y("label"),t=y("i"),r=R(),s=y("span"),o=re(l),a=R(),I&&I.c(),f=R(),c=y("div"),m=y("div");for(let L=0;L<d.length;L+=1)d[L].c();E&&E.c(),p=R(),g=y("div"),_=y("button"),_.innerHTML='<i class="ri-magic-line"></i> <span class="txt">Open picker</span>',h(t,"class",i=kn(F.getFieldTypeIcon(n[2].type))+" svelte-1ynw0pc"),h(s,"class","txt"),h(e,"for",u=n[20]),h(m,"class","relations-list svelte-1ynw0pc"),h(_,"type","button"),h(_,"class","btn btn-transparent btn-sm btn-block"),h(g,"class","list-item list-item-btn"),h(c,"class","list")},m(L,q){C(L,e,q),v(e,t),v(e,r),v(e,s),v(s,o),v(e,a),I&&I.m(e,null),C(L,f,q),C(L,c,q),v(c,m);for(let W=0;W<d.length;W+=1)d[W]&&d[W].m(m,null);E&&E.m(m,null),v(c,p),v(c,g),v(g,_),k=!0,T||(w=ee(_,"click",n[14]),T=!0)},p(L,q){(!k||q&4&&i!==(i=kn(F.getFieldTypeIcon(L[2].type))+" svelte-1ynw0pc"))&&h(t,"class",i),(!k||q&4)&&l!==(l=L[2].name+"")&&pe(o,l),L[6].length?I?I.p(L,q):(I=Ma(L),I.c(),I.m(e,null)):I&&(I.d(1),I=null),(!k||q&1048576&&u!==(u=L[20]))&&h(e,"for",u),q&50332597&&(P=ye(L[4]),ae(),d=bt(d,q,A,1,L,P,b,m,Nt,La,null,Oa),ue(),!P.length&&E?E.p(L,q):P.length?E&&(E.d(1),E=null):(E=Ia(L),E.c(),E.m(m,null)))},i(L){if(!k){for(let q=0;q<P.length;q+=1)O(d[q]);k=!0}},o(L){for(let q=0;q<d.length;q+=1)N(d[q]);k=!1},d(L){L&&(S(e),S(f),S(c)),I&&I.d();for(let q=0;q<d.length;q+=1)d[q].d();E&&E.d(),T=!1,w()}}}function N_(n){let e,t,i,r,s={class:"form-field form-field-list "+(n[2].required?"required":""),name:n[2].name,$$slots:{default:[I_,({uniqueId:o})=>({20:o}),({uniqueId:o})=>o?1048576:0]},$$scope:{ctx:n}};e=new et({props:s}),n[15](e);let l={value:n[0],field:n[2]};return i=new E_({props:l}),n[16](i),i.$on("save",n[17]),{c(){$(e.$$.fragment),t=R(),$(i.$$.fragment)},m(o,a){Q(e,o,a),C(o,t,a),Q(i,o,a),r=!0},p(o,[a]){const u={};a&4&&(u.class="form-field form-field-list "+(o[2].required?"required":"")),a&4&&(u.name=o[2].name),a&537919735&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const f={};a&1&&(f.value=o[0]),a&4&&(f.field=o[2]),i.$set(f)},i(o){r||(O(e.$$.fragment,o),O(i.$$.fragment,o),r=!0)},o(o){N(e.$$.fragment,o),N(i.$$.fragment,o),r=!1},d(o){o&&S(t),n[15](null),X(e,o),n[16](null),X(i,o)}}}const Fa=100;function A_(n,e,t){let i,{field:r}=e,{value:s}=e,{picker:l}=e,o,a=[],u=!1,f,c=[];function m(){if(u)return!1;const A=F.toArray(s);return t(4,a=a.filter(E=>A.includes(E.id))),A.length!=a.length}async function d(){var q,W;const A=F.toArray(s);if(t(4,a=[]),t(6,c=[]),!((q=r==null?void 0:r.options)!=null&&q.collectionId)||!A.length){t(5,u=!1);return}t(5,u=!0);const E=A.slice(),L=[];for(;E.length>0;){const z=[];for(const B of E.splice(0,Fa))z.push(`id="${B}"`);L.push(Ae.collection((W=r==null?void 0:r.options)==null?void 0:W.collectionId).getFullList(Fa,{filter:z.join("||"),fields:"*:excerpt(200)",requestKey:null}))}try{let z=[];await Promise.all(L).then(B=>{z=z.concat(...B)});for(const B of A){const ne=F.findByKey(z,"id",B);ne?a.push(ne):c.push(B)}t(4,a),p()}catch(z){Ae.error(z)}t(5,u=!1)}function b(A){F.removeByKey(a,"id",A.id),t(4,a),p()}function p(){var A;i?t(0,s=a.map(E=>E.id)):t(0,s=((A=a[0])==null?void 0:A.id)||"")}uu(()=>{clearTimeout(f)});const g=A=>b(A);function _(A){a=A,t(4,a)}const k=()=>{p()},T=()=>l==null?void 0:l.show();function w(A){le[A?"unshift":"push"](()=>{o=A,t(3,o)})}function I(A){le[A?"unshift":"push"](()=>{l=A,t(1,l)})}const P=A=>{var E;t(4,a=A.detail||[]),t(0,s=i?a.map(L=>L.id):((E=a[0])==null?void 0:E.id)||"")};return n.$$set=A=>{"field"in A&&t(2,r=A.field),"value"in A&&t(0,s=A.value),"picker"in A&&t(1,l=A.picker)},n.$$.update=()=>{var A;n.$$.dirty&4&&t(7,i=((A=r.options)==null?void 0:A.maxSelect)!=1),n.$$.dirty&9&&typeof s<"u"&&(o==null||o.changed()),n.$$.dirty&1041&&m()&&(t(5,u=!0),clearTimeout(f),t(10,f=setTimeout(d,0)))},[s,l,r,o,a,u,c,i,b,p,f,g,_,k,T,w,I,P]}class L_ extends ke{constructor(e){super(),we(this,e,A_,N_,be,{field:2,value:0,picker:1})}}function Pa(n){let e,t;return{c(){e=y("i"),h(e,"class",t="icon "+n[0].icon)},m(i,r){C(i,e,r)},p(i,r){r&1&&t!==(t="icon "+i[0].icon)&&h(e,"class",t)},d(i){i&&S(e)}}}function F_(n){let e,t,i=(n[0].label||n[0].name||n[0].title||n[0].id||n[0].value)+"",r,s=n[0].icon&&Pa(n);return{c(){s&&s.c(),e=R(),t=y("span"),r=re(i),h(t,"class","txt")},m(l,o){s&&s.m(l,o),C(l,e,o),C(l,t,o),v(t,r)},p(l,[o]){l[0].icon?s?s.p(l,o):(s=Pa(l),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),o&1&&i!==(i=(l[0].label||l[0].name||l[0].title||l[0].id||l[0].value)+"")&&pe(r,i)},i:G,o:G,d(l){l&&(S(e),S(t)),s&&s.d(l)}}}function P_(n,e,t){let{item:i={}}=e;return n.$$set=r=>{"item"in r&&t(0,i=r.item)},[i]}class Ra extends ke{constructor(e){super(),we(this,e,P_,F_,be,{item:0})}}const R_=n=>({}),qa=n=>({});function q_(n){let e;const t=n[8].afterOptions,i=ct(t,n,n[12],qa);return{c(){i&&i.c()},m(r,s){i&&i.m(r,s),e=!0},p(r,s){i&&i.p&&(!e||s&4096)&&mt(i,t,r,r[12],e?dt(t,r[12],s,R_):ht(r[12]),qa)},i(r){e||(O(i,r),e=!0)},o(r){N(i,r),e=!1},d(r){i&&i.d(r)}}}function j_(n){let e,t,i;const r=[{items:n[1]},{multiple:n[2]},{labelComponent:n[3]},{optionComponent:n[4]},n[5]];function s(o){n[9](o)}let l={$$slots:{afterOptions:[q_]},$$scope:{ctx:n}};for(let o=0;o<r.length;o+=1)l=Ke(l,r[o]);return n[0]!==void 0&&(l.selected=n[0]),e=new Rf({props:l}),le.push(()=>Le(e,"selected",s)),e.$on("show",n[10]),e.$on("hide",n[11]),{c(){$(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,[a]){const u=a&62?Wt(r,[a&2&&{items:o[1]},a&4&&{multiple:o[2]},a&8&&{labelComponent:o[3]},a&16&&{optionComponent:o[4]},a&32&&Xt(o[5])]):{};a&4096&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.selected=o[0],Pe(()=>t=!1)),e.$set(u)},i(o){i||(O(e.$$.fragment,o),i=!0)},o(o){N(e.$$.fragment,o),i=!1},d(o){X(e,o)}}}function V_(n,e,t){const i=["items","multiple","selected","labelComponent","optionComponent","selectionKey","keyOfSelected"];let r=sn(e,i),{$$slots:s={},$$scope:l}=e,{items:o=[]}=e,{multiple:a=!1}=e,{selected:u=a?[]:void 0}=e,{labelComponent:f=Ra}=e,{optionComponent:c=Ra}=e,{selectionKey:m="value"}=e,{keyOfSelected:d=a?[]:void 0}=e;function b(T){T=F.toArray(T,!0);let w=[];for(let I of T){const P=F.findByKey(o,m,I);P&&w.push(P)}T.length&&!w.length||t(0,u=a?w:w[0])}async function p(T){let w=F.toArray(T,!0).map(I=>I[m]);o.length&&t(6,d=a?w:w[0])}function g(T){u=T,t(0,u)}function _(T){vt.call(this,n,T)}function k(T){vt.call(this,n,T)}return n.$$set=T=>{e=Ke(Ke({},e),Ci(T)),t(5,r=sn(e,i)),"items"in T&&t(1,o=T.items),"multiple"in T&&t(2,a=T.multiple),"selected"in T&&t(0,u=T.selected),"labelComponent"in T&&t(3,f=T.labelComponent),"optionComponent"in T&&t(4,c=T.optionComponent),"selectionKey"in T&&t(7,m=T.selectionKey),"keyOfSelected"in T&&t(6,d=T.keyOfSelected),"$$scope"in T&&t(12,l=T.$$scope)},n.$$.update=()=>{n.$$.dirty&66&&o&&b(d),n.$$.dirty&1&&p(u)},[u,o,a,f,c,r,d,m,s,g,_,k,l]}class W_ extends ke{constructor(e){super(),we(this,e,V_,j_,be,{items:1,multiple:2,selected:0,labelComponent:3,optionComponent:4,selectionKey:7,keyOfSelected:6})}}function ja(n,e,t){const i=n.slice();i[41]=e[t];const r=i[19](i[41]);return i[42]=r,i}function Va(n,e,t){const i=n.slice();return i[45]=e[t],i}function Wa(n,e,t){const i=n.slice();return i[48]=e[t],i}function H_(n){let e,t,i=[],r=new Map,s,l,o,a,u,f,c,m,d,b,p,g=ye(n[7]);const _=k=>k[48].id;for(let k=0;k<g.length;k+=1){let T=Wa(n,g,k),w=_(T);r.set(w,i[k]=Ha(w,T))}return a=new Vf({props:{value:n[4],placeholder:"Record search term or filter...",autocompleteCollection:n[8]}}),a.$on("submit",n[30]),m=new Af({props:{class:"files-list",vThreshold:100,$$slots:{default:[Z_]},$$scope:{ctx:n}}}),m.$on("vScrollEnd",n[32]),{c(){e=y("div"),t=y("aside");for(let k=0;k<i.length;k+=1)i[k].c();s=R(),l=y("div"),o=y("div"),$(a.$$.fragment),u=R(),f=y("button"),f.innerHTML='<div class="txt">New record</div>',c=R(),$(m.$$.fragment),h(t,"class","file-picker-sidebar"),h(f,"type","button"),h(f,"class","btn btn-pill btn-transparent btn-hint p-l-xs p-r-xs"),h(o,"class","flex m-b-base flex-gap-10"),h(l,"class","file-picker-content"),h(e,"class","file-picker")},m(k,T){C(k,e,T),v(e,t);for(let w=0;w<i.length;w+=1)i[w]&&i[w].m(t,null);v(e,s),v(e,l),v(l,o),Q(a,o,null),v(o,u),v(o,f),v(l,c),Q(m,l,null),d=!0,b||(p=ee(f,"click",n[31]),b=!0)},p(k,T){T[0]&384&&(g=ye(k[7]),i=bt(i,T,_,1,k,g,r,t,os,Ha,null,Wa));const w={};T[0]&16&&(w.value=k[4]),T[0]&256&&(w.autocompleteCollection=k[8]),a.$set(w);const I={};T[0]&49264|T[1]&1048576&&(I.$$scope={dirty:T,ctx:k}),m.$set(I)},i(k){d||(O(a.$$.fragment,k),O(m.$$.fragment,k),d=!0)},o(k){N(a.$$.fragment,k),N(m.$$.fragment,k),d=!1},d(k){k&&S(e);for(let T=0;T<i.length;T+=1)i[T].d();X(a),X(m),b=!1,p()}}}function U_(n){let e;return{c(){e=y("h6"),e.innerHTML="You currently don&#39;t have any collection with <code>file</code> field.",h(e,"class","txt-center txt-hint")},m(t,i){C(t,e,i)},p:G,i:G,o:G,d(t){t&&S(e)}}}function Ha(n,e){let t,i=e[48].name+"",r,s,l,o;function a(){return e[29](e[48])}return{key:n,first:null,c(){var u;t=y("button"),r=re(i),s=R(),h(t,"type","button"),h(t,"class","sidebar-item"),J(t,"active",((u=e[8])==null?void 0:u.id)==e[48].id),this.first=t},m(u,f){C(u,t,f),v(t,r),v(t,s),l||(o=ee(t,"click",$e(a)),l=!0)},p(u,f){var c;e=u,f[0]&128&&i!==(i=e[48].name+"")&&pe(r,i),f[0]&384&&J(t,"active",((c=e[8])==null?void 0:c.id)==e[48].id)},d(u){u&&S(t),l=!1,o()}}}function z_(n){var s;let e,t,i,r=((s=n[4])==null?void 0:s.length)&&Ua(n);return{c(){e=y("div"),t=y("span"),t.textContent="No records with images found.",i=R(),r&&r.c(),h(t,"class","txt txt-hint"),h(e,"class","inline-flex")},m(l,o){C(l,e,o),v(e,t),v(e,i),r&&r.m(e,null)},p(l,o){var a;(a=l[4])!=null&&a.length?r?r.p(l,o):(r=Ua(l),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(l){l&&S(e),r&&r.d()}}}function Y_(n){let e=[],t=new Map,i,r=ye(n[5]);const s=l=>l[41].id;for(let l=0;l<r.length;l+=1){let o=ja(n,r,l),a=s(o);t.set(a,e[l]=Ya(a,o))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();i=ge()},m(l,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(l,o);C(l,i,o)},p(l,o){o[0]&1605664&&(r=ye(l[5]),e=bt(e,o,s,1,l,r,t,i.parentNode,os,Ya,i,ja))},d(l){l&&S(i);for(let o=0;o<e.length;o+=1)e[o].d(l)}}}function Ua(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<span class="txt">Clear filter</span>',h(e,"type","button"),h(e,"class","btn btn-hint btn-sm")},m(r,s){C(r,e,s),t||(i=ee(e,"click",$e(n[17])),t=!0)},p:G,d(r){r&&S(e),t=!1,i()}}}function B_(n){let e;return{c(){e=y("i"),h(e,"class","ri-file-3-line")},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function K_(n){let e,t,i;return{c(){e=y("img"),h(e,"loading","lazy"),rn(e.src,t=Ae.files.getUrl(n[41],n[45],{thumb:"100x100"}))||h(e,"src",t),h(e,"alt",i=n[45])},m(r,s){C(r,e,s)},p(r,s){s[0]&32&&!rn(e.src,t=Ae.files.getUrl(r[41],r[45],{thumb:"100x100"}))&&h(e,"src",t),s[0]&32&&i!==(i=r[45])&&h(e,"alt",i)},d(r){r&&S(e)}}}function za(n){let e,t,i,r,s,l;function o(f,c){return c[0]&32&&(t=null),t==null&&(t=!!F.hasImageExtension(f[45])),t?K_:B_}let a=o(n,[-1,-1]),u=a(n);return{c(){e=y("button"),u.c(),i=R(),h(e,"type","button"),h(e,"class","thumb handle"),J(e,"thumb-warning",n[15](n[41],n[45]))},m(f,c){C(f,e,c),u.m(e,null),v(e,i),s||(l=[He(r=Ze.call(null,e,n[45]+`
(record: `+n[41].id+")")),ee(e,"click",$e(function(){ot(n[20](n[41],n[45]))&&n[20](n[41],n[45]).apply(this,arguments)}))],s=!0)},p(f,c){n=f,a===(a=o(n,c))&&u?u.p(n,c):(u.d(1),u=a(n),u&&(u.c(),u.m(e,i))),r&&ot(r.update)&&c[0]&32&&r.update.call(null,n[45]+`
(record: `+n[41].id+")"),c[0]&557088&&J(e,"thumb-warning",n[15](n[41],n[45]))},d(f){f&&S(e),u.d(),s=!1,Ce(l)}}}function Ya(n,e){let t,i,r=ye(e[42]),s=[];for(let l=0;l<r.length;l+=1)s[l]=za(Va(e,r,l));return{key:n,first:null,c(){t=ge();for(let l=0;l<s.length;l+=1)s[l].c();i=ge(),this.first=t},m(l,o){C(l,t,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(l,o);C(l,i,o)},p(l,o){if(e=l,o[0]&1605664){r=ye(e[42]);let a;for(a=0;a<r.length;a+=1){const u=Va(e,r,a);s[a]?s[a].p(u,o):(s[a]=za(u),s[a].c(),s[a].m(i.parentNode,i))}for(;a<s.length;a+=1)s[a].d(1);s.length=r.length}},d(l){l&&(S(t),S(i)),cn(s,l)}}}function Ba(n){let e;return{c(){e=y("div"),e.innerHTML='<span class="loader loader-sm active"></span>',h(e,"class","block txt-center")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Z_(n){let e,t;function i(o,a){if(o[14])return Y_;if(!o[6])return z_}let r=i(n),s=r&&r(n),l=n[6]&&Ba();return{c(){s&&s.c(),e=R(),l&&l.c(),t=ge()},m(o,a){s&&s.m(o,a),C(o,e,a),l&&l.m(o,a),C(o,t,a)},p(o,a){r===(r=i(o))&&s?s.p(o,a):(s&&s.d(1),s=r&&r(o),s&&(s.c(),s.m(e.parentNode,e))),o[6]?l||(l=Ba(),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(o){o&&(S(e),S(t)),s&&s.d(o),l&&l.d(o)}}}function J_(n){let e,t,i,r;const s=[U_,H_],l=[];function o(a,u){return a[7].length?1:0}return e=o(n),t=l[e]=s[e](n),{c(){t.c(),i=ge()},m(a,u){l[e].m(a,u),C(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?l[e].p(a,u):(ae(),N(l[f],1,1,()=>{l[f]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&S(i),l[e].d(a)}}}function G_(n){let e,t;return{c(){e=y("h4"),t=re(n[0])},m(i,r){C(i,e,r),v(e,t)},p(i,r){r[0]&1&&pe(t,i[0])},d(i){i&&S(e)}}}function Ka(n){let e,t;return e=new et({props:{class:"form-field file-picker-size-select",$$slots:{default:[Q_,({uniqueId:i})=>({23:i}),({uniqueId:i})=>[i?8388608:0]]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const s={};r[0]&8395776|r[1]&1048576&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function Q_(n){let e,t,i;function r(l){n[28](l)}let s={upside:!0,id:n[23],items:n[10],disabled:!n[12],selectPlaceholder:"Select size"};return n[11]!==void 0&&(s.keyOfSelected=n[11]),e=new W_({props:s}),le.push(()=>Le(e,"keyOfSelected",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){const a={};o[0]&8388608&&(a.id=l[23]),o[0]&1024&&(a.items=l[10]),o[0]&4096&&(a.disabled=!l[12]),!t&&o[0]&2048&&(t=!0,a.keyOfSelected=l[11],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function X_(n){var b;let e,t,i,r=F.hasImageExtension((b=n[9])==null?void 0:b.name),s,l,o,a,u,f,c,m,d=r&&Ka(n);return{c(){e=y("button"),t=y("span"),t.textContent="Cancel",i=R(),d&&d.c(),s=R(),l=y("button"),o=y("span"),a=re(n[1]),h(t,"class","txt"),h(e,"type","button"),h(e,"class","btn btn-transparent m-r-auto"),e.disabled=n[6],h(o,"class","txt"),h(l,"type","button"),h(l,"class","btn btn-expanded"),l.disabled=u=!n[12]},m(p,g){C(p,e,g),v(e,t),C(p,i,g),d&&d.m(p,g),C(p,s,g),C(p,l,g),v(l,o),v(o,a),f=!0,c||(m=[ee(e,"click",n[2]),ee(l,"click",n[21])],c=!0)},p(p,g){var _;(!f||g[0]&64)&&(e.disabled=p[6]),g[0]&512&&(r=F.hasImageExtension((_=p[9])==null?void 0:_.name)),r?d?(d.p(p,g),g[0]&512&&O(d,1)):(d=Ka(p),d.c(),O(d,1),d.m(s.parentNode,s)):d&&(ae(),N(d,1,1,()=>{d=null}),ue()),(!f||g[0]&2)&&pe(a,p[1]),(!f||g[0]&4096&&u!==(u=!p[12]))&&(l.disabled=u)},i(p){f||(O(d),f=!0)},o(p){N(d),f=!1},d(p){p&&(S(e),S(i),S(s),S(l)),d&&d.d(p),c=!1,Ce(m)}}}function $_(n){let e,t;const i=[{popup:!0},{class:"file-picker-popup"},n[22]];let r={$$slots:{footer:[X_],header:[G_],default:[J_]},$$scope:{ctx:n}};for(let s=0;s<i.length;s+=1)r=Ke(r,i[s]);return e=new br({props:r}),n[33](e),e.$on("hide",n[34]),e.$on("show",n[35]),{c(){$(e.$$.fragment)},m(s,l){Q(e,s,l),t=!0},p(s,l){const o=l[0]&4194304?Wt(i,[i[0],i[1],Xt(s[22])]):{};l[0]&65523|l[1]&1048576&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){N(e.$$.fragment,s),t=!1},d(s){n[33](null),X(e,s)}}}const Za=50;function x_(n,e,t){let i,r,s,l;const o=["title","submitText","fileTypes","show","hide"];let a=sn(e,o),u;Xe(n,dn,ve=>t(27,u=ve));const f=St(),c="file_picker_"+F.randomString(5);let{title:m="Select a file"}=e,{submitText:d="Insert"}=e,{fileTypes:b=["image","document","video","audio","file"]}=e,p,g,_="",k=[],T=1,w=0,I=!1,P=[],A=[],E=[],L={},q={},W="";function z(){return te(!0),p==null?void 0:p.show()}function B(){return p==null?void 0:p.hide()}function ne(){t(5,k=[]),t(9,q={}),t(11,W="")}function Z(){t(4,_="")}async function te(ve=!1){if(L!=null&&L.id){t(6,I=!0),ve&&ne();try{const qe=ve?1:T+1,Ue=F.getAllCollectionIdentifiers(L);let je=F.normalizeSearchFilter(_,Ue)||"";je&&(je+=" && "),je+="("+A.map(de=>`${de.name}:length>0`).join("||")+")";const rt=await Ae.collection(L.id).getList(qe,Za,{filter:je,sort:"-created",fields:"*:excerpt(100)",skipTotal:1,requestKey:c+"loadImagePicker"});t(5,k=F.filterDuplicatesByKey(k.concat(rt.items))),T=rt.page,t(26,w=rt.items.length),t(6,I=!1)}catch(qe){qe.isAbort||(Ae.error(qe),t(6,I=!1))}}}function U(){var qe,Ue;let ve=["100x100"];if((qe=q==null?void 0:q.record)!=null&&qe.id){for(const je of A)if(F.toArray(q.record[je.name]).includes(q.name)){ve=ve.concat(F.toArray((Ue=je.options)==null?void 0:Ue.thumbs));break}}t(10,E=[{label:"Original size",value:""}]);for(const je of ve)E.push({label:`${je} thumb`,value:je});W&&!ve.includes(W)&&t(11,W="")}function H(ve){let qe=[];for(const Ue of A){const je=F.toArray(ve[Ue.name]);for(const rt of je)b.includes(F.getFileType(rt))&&qe.push(rt)}return qe}function j(ve,qe){t(9,q={record:ve,name:qe})}function De(){l&&(f("submit",Object.assign({size:W},q)),B())}function at(ve){W=ve,t(11,W)}const Ct=ve=>{t(8,L=ve)},yt=ve=>t(4,_=ve.detail),Ht=()=>g==null?void 0:g.show(),gt=()=>{s&&te()};function Tt(ve){le[ve?"unshift":"push"](()=>{p=ve,t(3,p)})}function it(ve){vt.call(this,n,ve)}function ut(ve){vt.call(this,n,ve)}return n.$$set=ve=>{e=Ke(Ke({},e),Ci(ve)),t(22,a=sn(e,o)),"title"in ve&&t(0,m=ve.title),"submitText"in ve&&t(1,d=ve.submitText),"fileTypes"in ve&&t(24,b=ve.fileTypes)},n.$$.update=()=>{var ve;n.$$.dirty[0]&134217728&&t(7,P=u.filter(qe=>qe.type!=="view"&&!!F.toArray(qe.schema).find(Ue=>{var je,rt,de,K,Te;return Ue.type==="file"&&!((je=Ue.options)!=null&&je.protected)&&(!((de=(rt=Ue.options)==null?void 0:rt.mimeTypes)!=null&&de.length)||!!((Te=(K=Ue.options)==null?void 0:K.mimeTypes)!=null&&Te.find(Ge=>Ge.startsWith("image/"))))}))),n.$$.dirty[0]&384&&!(L!=null&&L.id)&&P.length>0&&t(8,L=P[0]),n.$$.dirty[0]&256&&(A=(ve=L==null?void 0:L.schema)==null?void 0:ve.filter(qe=>{var Ue;return qe.type==="file"&&!((Ue=qe.options)!=null&&Ue.protected)})),n.$$.dirty[0]&256&&L!=null&&L.id&&(Z(),U()),n.$$.dirty[0]&512&&q!=null&&q.name&&U(),n.$$.dirty[0]&280&&typeof _<"u"&&L!=null&&L.id&&p!=null&&p.isActive()&&te(!0),n.$$.dirty[0]&512&&t(15,i=(qe,Ue)=>{var je;return(q==null?void 0:q.name)==Ue&&((je=q==null?void 0:q.record)==null?void 0:je.id)==qe.id}),n.$$.dirty[0]&32&&t(14,r=k.find(qe=>H(qe).length>0)),n.$$.dirty[0]&67108928&&t(13,s=!I&&w==Za),n.$$.dirty[0]&576&&t(12,l=!I&&!!(q!=null&&q.name))},[m,d,B,p,_,k,I,P,L,q,E,W,l,s,r,i,g,Z,te,H,j,De,a,c,b,z,w,u,at,Ct,yt,Ht,gt,Tt,it,ut]}class e0 extends ke{constructor(e){super(),we(this,e,x_,$_,be,{title:0,submitText:1,fileTypes:24,show:25,hide:2},null,[-1,-1])}get show(){return this.$$.ctx[25]}get hide(){return this.$$.ctx[2]}}function t0(n){let e;return{c(){e=y("div"),h(e,"class","tinymce-wrapper")},m(t,i){C(t,e,i)},p:G,i:G,o:G,d(t){t&&S(e)}}}function n0(n){let e,t,i;function r(l){n[6](l)}let s={id:n[11],conf:n[5]};return n[0]!==void 0&&(s.value=n[0]),e=new Lf({props:s}),le.push(()=>Le(e,"value",r)),e.$on("init",n[7]),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){const a={};o&2048&&(a.id=l[11]),o&32&&(a.conf=l[5]),!t&&o&1&&(t=!0,a.value=l[0],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function i0(n){let e,t,i,r,s,l=n[1].name+"",o,a,u,f,c,m,d;const b=[n0,t0],p=[];function g(_,k){return _[4]?0:1}return f=g(n),c=p[f]=b[f](n),{c(){e=y("label"),t=y("i"),r=R(),s=y("span"),o=re(l),u=R(),c.c(),m=ge(),h(t,"class",i=F.getFieldTypeIcon(n[1].type)),h(s,"class","txt"),h(e,"for",a=n[11])},m(_,k){C(_,e,k),v(e,t),v(e,r),v(e,s),v(s,o),C(_,u,k),p[f].m(_,k),C(_,m,k),d=!0},p(_,k){(!d||k&2&&i!==(i=F.getFieldTypeIcon(_[1].type)))&&h(t,"class",i),(!d||k&2)&&l!==(l=_[1].name+"")&&pe(o,l),(!d||k&2048&&a!==(a=_[11]))&&h(e,"for",a);let T=f;f=g(_),f===T?p[f].p(_,k):(ae(),N(p[T],1,1,()=>{p[T]=null}),ue(),c=p[f],c?c.p(_,k):(c=p[f]=b[f](_),c.c()),O(c,1),c.m(m.parentNode,m))},i(_){d||(O(c),d=!0)},o(_){N(c),d=!1},d(_){_&&(S(e),S(u),S(m)),p[f].d(_)}}}function r0(n){let e,t,i,r;e=new et({props:{class:"form-field form-field-editor "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[i0,({uniqueId:l})=>({11:l}),({uniqueId:l})=>l?2048:0]},$$scope:{ctx:n}}});let s={title:"Select an image",fileTypes:["image"]};return i=new e0({props:s}),n[8](i),i.$on("submit",n[9]),{c(){$(e.$$.fragment),t=R(),$(i.$$.fragment)},m(l,o){Q(e,l,o),C(l,t,o),Q(i,l,o),r=!0},p(l,[o]){const a={};o&2&&(a.class="form-field form-field-editor "+(l[1].required?"required":"")),o&2&&(a.name=l[1].name),o&6207&&(a.$$scope={dirty:o,ctx:l}),e.$set(a);const u={};i.$set(u)},i(l){r||(O(e.$$.fragment,l),O(i.$$.fragment,l),r=!0)},o(l){N(e.$$.fragment,l),N(i.$$.fragment,l),r=!1},d(l){l&&S(t),X(e,l),n[8](null),X(i,l)}}}function s0(n,e,t){let i,{field:r}=e,{value:s=""}=e,l,o,a=!1,u=null;At(async()=>(typeof s>"u"&&t(0,s=""),u=setTimeout(()=>{t(4,a=!0)},100),()=>{clearTimeout(u)}));function f(b){s=b,t(0,s)}const c=b=>{t(3,o=b.detail.editor),o.on("collections_file_picker",()=>{l==null||l.show()})};function m(b){le[b?"unshift":"push"](()=>{l=b,t(2,l)})}const d=b=>{o==null||o.execCommand("InsertImage",!1,Ae.files.getUrl(b.detail.record,b.detail.name,{thumb:b.detail.size}))};return n.$$set=b=>{"field"in b&&t(1,r=b.field),"value"in b&&t(0,s=b.value)},n.$$.update=()=>{var b;n.$$.dirty&2&&t(5,i=Object.assign(F.defaultEditorOptions(),{convert_urls:(b=r.options)==null?void 0:b.convertUrls,relative_urls:!1})),n.$$.dirty&1&&typeof s>"u"&&t(0,s="")},[s,r,l,o,a,i,f,c,m,d]}class l0 extends ke{constructor(e){super(),we(this,e,s0,r0,be,{field:1,value:0})}}function Ja(n,e,t){const i=n.slice();return i[69]=e[t],i[70]=e,i[71]=t,i}function o0(n){let e,t,i,r;return e=new Nf({}),i=new Fn({props:{class:"flex-content",$$slots:{footer:[T0],default:[C0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment),t=R(),$(i.$$.fragment)},m(s,l){Q(e,s,l),C(s,t,l),Q(i,s,l),r=!0},p(s,l){const o={};l[0]&32510|l[2]&1024&&(o.$$scope={dirty:l,ctx:s}),i.$set(o)},i(s){r||(O(e.$$.fragment,s),O(i.$$.fragment,s),r=!0)},o(s){N(e.$$.fragment,s),N(i.$$.fragment,s),r=!1},d(s){s&&S(t),X(e,s),X(i,s)}}}function a0(n){let e,t;return e=new Fn({props:{center:!0,$$slots:{default:[D0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const s={};r[2]&1024&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function u0(n){let e,t;return e=new Fn({props:{center:!0,$$slots:{default:[O0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const s={};r[2]&1024&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function f0(n){let e,t,i,r,s,l,o;return l=new Ii({props:{class:"dropdown dropdown-right dropdown-nowrap",$$slots:{default:[d0]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=R(),i=y("div"),r=y("i"),s=R(),$(l.$$.fragment),h(e,"class","flex-fill"),h(r,"class","ri-more-line"),h(r,"aria-hidden","true"),h(i,"tabindex","0"),h(i,"role","button"),h(i,"aria-label","More record options"),h(i,"class","btn btn-sm btn-circle btn-transparent flex-gap-0")},m(a,u){C(a,e,u),C(a,t,u),C(a,i,u),v(i,r),v(i,s),Q(l,i,null),o=!0},p(a,u){const f={};u[2]&1024&&(f.$$scope={dirty:u,ctx:a}),l.$set(f)},i(a){o||(O(l.$$.fragment,a),o=!0)},o(a){N(l.$$.fragment,a),o=!1},d(a){a&&(S(e),S(t),S(i)),X(l)}}}function c0(n){let e,t,i;return{c(){e=y("span"),t=R(),i=y("h4"),i.textContent="Loading...",h(e,"class","loader loader-sm"),h(i,"class","panel-title txt-hint svelte-qc5ngu")},m(r,s){C(r,e,s),C(r,t,s),C(r,i,s)},p:G,i:G,o:G,d(r){r&&(S(e),S(t),S(i))}}}function d0(n){let e,t,i,r,s;return{c(){e=y("button"),e.innerHTML='<i class="ri-file-copy-line"></i> <span class="txt">Duplicate</span>',t=R(),i=y("button"),i.innerHTML='<i class="ri-delete-bin-7-line"></i> <span class="txt">Delete</span>',h(e,"type","button"),h(e,"class","dropdown-item closable"),h(e,"role","menuitem"),h(i,"type","button"),h(i,"class","dropdown-item txt-danger closable"),h(i,"role","menuitem")},m(l,o){C(l,e,o),C(l,t,o),C(l,i,o),r||(s=[ee(e,"click",n[32]),ee(i,"click",Qt($e(n[33])))],r=!0)},p:G,d(l){l&&(S(e),S(t),S(i)),r=!1,Ce(s)}}}function Ga(n){let e,t,i,r,s,l,o,a,u,f,c,m,d,b,p;return{c(){e=y("div"),t=y("div"),i=y("div"),i.innerHTML='<i class="ri-information-line"></i>',r=R(),s=y("div"),l=re(`The record has previous unsaved changes.
                                `),o=y("button"),o.textContent="Restore draft",a=R(),u=y("button"),u.innerHTML='<i class="ri-close-line"></i>',f=R(),c=y("div"),h(i,"class","icon"),h(o,"type","button"),h(o,"class","btn btn-sm btn-secondary"),h(s,"class","flex flex-gap-xs"),h(u,"type","button"),h(u,"class","close"),h(u,"aria-label","Discard draft"),h(t,"class","alert alert-info m-0"),h(c,"class","clearfix p-b-base"),h(e,"class","block")},m(g,_){C(g,e,_),v(e,t),v(t,i),v(t,r),v(t,s),v(s,l),v(s,o),v(t,a),v(t,u),v(e,f),v(e,c),d=!0,b||(p=[ee(o,"click",n[34]),He(Ze.call(null,u,"Discard draft")),ee(u,"click",$e(n[35]))],b=!0)},p:G,i(g){d||(m&&m.end(1),d=!0)},o(g){g&&(m=ls(e,Xn,{duration:150})),d=!1},d(g){g&&S(e),g&&m&&m.end(),b=!1,Ce(p)}}}function Qa(n){var u,f;let e,t,i,r,s;function l(c){n[36](c)}let o={isNew:n[4],$activeCollection:n[7]};n[1]!==void 0&&(o.record=n[1]),e=new Ug({props:o}),le.push(()=>Le(e,"record",l));let a=((f=(u=n[7])==null?void 0:u.schema)==null?void 0:f.length)&&Xa();return{c(){$(e.$$.fragment),i=R(),a&&a.c(),r=ge()},m(c,m){Q(e,c,m),C(c,i,m),a&&a.m(c,m),C(c,r,m),s=!0},p(c,m){var b,p;const d={};m[0]&16&&(d.isNew=c[4]),m[0]&128&&(d.$activeCollection=c[7]),!t&&m[0]&2&&(t=!0,d.record=c[1],Pe(()=>t=!1)),e.$set(d),(p=(b=c[7])==null?void 0:b.schema)!=null&&p.length?a||(a=Xa(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(c){s||(O(e.$$.fragment,c),s=!0)},o(c){N(e.$$.fragment,c),s=!1},d(c){c&&(S(i),S(r)),X(e,c),a&&a.d(c)}}}function Xa(n){let e;return{c(){e=y("hr")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function m0(n){let e,t,i;function r(l){n[49](l,n[69])}let s={field:n[69]};return n[1][n[69].name]!==void 0&&(s.value=n[1][n[69].name]),e=new L_({props:s}),le.push(()=>Le(e,"value",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function h0(n){let e,t,i,r,s;function l(f){n[46](f,n[69])}function o(f){n[47](f,n[69])}function a(f){n[48](f,n[69])}let u={field:n[69],record:n[1]};return n[1][n[69].name]!==void 0&&(u.value=n[1][n[69].name]),n[2][n[69].name]!==void 0&&(u.uploadedFiles=n[2][n[69].name]),n[3][n[69].name]!==void 0&&(u.deletedFileNames=n[3][n[69].name]),e=new d_({props:u}),le.push(()=>Le(e,"value",l)),le.push(()=>Le(e,"uploadedFiles",o)),le.push(()=>Le(e,"deletedFileNames",a)),{c(){$(e.$$.fragment)},m(f,c){Q(e,f,c),s=!0},p(f,c){n=f;const m={};c[0]&128&&(m.field=n[69]),c[0]&2&&(m.record=n[1]),!t&&c[0]&130&&(t=!0,m.value=n[1][n[69].name],Pe(()=>t=!1)),!i&&c[0]&132&&(i=!0,m.uploadedFiles=n[2][n[69].name],Pe(()=>i=!1)),!r&&c[0]&136&&(r=!0,m.deletedFileNames=n[3][n[69].name],Pe(()=>r=!1)),e.$set(m)},i(f){s||(O(e.$$.fragment,f),s=!0)},o(f){N(e.$$.fragment,f),s=!1},d(f){X(e,f)}}}function p0(n){let e,t,i;function r(l){n[45](l,n[69])}let s={field:n[69]};return n[1][n[69].name]!==void 0&&(s.value=n[1][n[69].name]),e=new Q1({props:s}),le.push(()=>Le(e,"value",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function g0(n){let e,t,i;function r(l){n[44](l,n[69])}let s={field:n[69]};return n[1][n[69].name]!==void 0&&(s.value=n[1][n[69].name]),e=new W1({props:s}),le.push(()=>Le(e,"value",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function _0(n){let e,t,i;function r(l){n[43](l,n[69])}let s={field:n[69]};return n[1][n[69].name]!==void 0&&(s.value=n[1][n[69].name]),e=new D1({props:s}),le.push(()=>Le(e,"value",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function b0(n){let e,t,i;function r(l){n[42](l,n[69])}let s={field:n[69]};return n[1][n[69].name]!==void 0&&(s.value=n[1][n[69].name]),e=new l0({props:s}),le.push(()=>Le(e,"value",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function y0(n){let e,t,i;function r(l){n[41](l,n[69])}let s={field:n[69]};return n[1][n[69].name]!==void 0&&(s.value=n[1][n[69].name]),e=new c1({props:s}),le.push(()=>Le(e,"value",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function w0(n){let e,t,i;function r(l){n[40](l,n[69])}let s={field:n[69]};return n[1][n[69].name]!==void 0&&(s.value=n[1][n[69].name]),e=new o1({props:s}),le.push(()=>Le(e,"value",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function k0(n){let e,t,i;function r(l){n[39](l,n[69])}let s={field:n[69]};return n[1][n[69].name]!==void 0&&(s.value=n[1][n[69].name]),e=new i1({props:s}),le.push(()=>Le(e,"value",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function v0(n){let e,t,i;function r(l){n[38](l,n[69])}let s={field:n[69]};return n[1][n[69].name]!==void 0&&(s.value=n[1][n[69].name]),e=new xg({props:s}),le.push(()=>Le(e,"value",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function S0(n){let e,t,i;function r(l){n[37](l,n[69])}let s={field:n[69]};return n[1][n[69].name]!==void 0&&(s.value=n[1][n[69].name]),e=new Gg({props:s}),le.push(()=>Le(e,"value",r)),{c(){$(e.$$.fragment)},m(l,o){Q(e,l,o),i=!0},p(l,o){n=l;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Pe(()=>t=!1)),e.$set(a)},i(l){i||(O(e.$$.fragment,l),i=!0)},o(l){N(e.$$.fragment,l),i=!1},d(l){X(e,l)}}}function $a(n,e){let t,i,r,s,l;const o=[S0,v0,k0,w0,y0,b0,_0,g0,p0,h0,m0],a=[];function u(f,c){return f[69].type==="text"?0:f[69].type==="number"?1:f[69].type==="bool"?2:f[69].type==="email"?3:f[69].type==="url"?4:f[69].type==="editor"?5:f[69].type==="date"?6:f[69].type==="select"?7:f[69].type==="json"?8:f[69].type==="file"?9:f[69].type==="relation"?10:-1}return~(i=u(e))&&(r=a[i]=o[i](e)),{key:n,first:null,c(){t=ge(),r&&r.c(),s=ge(),this.first=t},m(f,c){C(f,t,c),~i&&a[i].m(f,c),C(f,s,c),l=!0},p(f,c){e=f;let m=i;i=u(e),i===m?~i&&a[i].p(e,c):(r&&(ae(),N(a[m],1,1,()=>{a[m]=null}),ue()),~i?(r=a[i],r?r.p(e,c):(r=a[i]=o[i](e),r.c()),O(r,1),r.m(s.parentNode,s)):r=null)},i(f){l||(O(r),l=!0)},o(f){N(r),l=!1},d(f){f&&(S(t),S(s)),~i&&a[i].d(f)}}}function C0(n){var te;let e,t,i,r,s,l=n[7].name.replace("pcms_","")+"",o,a,u,f,c,m,d,b,p,g,_,k,T,w=[],I=new Map,P,A,E;const L=[c0,f0],q=[];function W(U,H){return U[5]?0:U[4]?-1:1}~(d=W(n))&&(b=q[d]=L[d](n));let z=!n[6]&&n[9]&&!n[5]&&Ga(n),B=n[12]&&Qa(n),ne=ye(((te=n[7])==null?void 0:te.schema)||[]);const Z=U=>U[69].name;for(let U=0;U<ne.length;U+=1){let H=Ja(n,ne,U),j=Z(H);I.set(j,w[U]=$a(j,H))}return{c(){e=y("header"),t=y("nav"),i=y("div"),i.textContent="Collections",r=R(),s=y("a"),o=re(l),u=R(),f=y("div"),c=re(n[14]),m=R(),b&&b.c(),p=R(),g=y("div"),_=y("form"),z&&z.c(),k=R(),B&&B.c(),T=R();for(let U=0;U<w.length;U+=1)w[U].c();h(i,"class","breadcrumb-item"),h(s,"href",a="#/collections?collectionId="+n[7].id),h(s,"class","breadcrumb-item"),h(f,"class","breadcrumb-item"),h(t,"class","breadcrumbs"),h(e,"class","page-header"),h(_,"id",n[16]),h(_,"class","tab-item"),J(_,"no-pointer-events",n[5]),J(_,"active",n[11]===or),h(g,"class","tabs-content no-animations")},m(U,H){C(U,e,H),v(e,t),v(t,i),v(t,r),v(t,s),v(s,o),v(t,u),v(t,f),v(f,c),v(e,m),~d&&q[d].m(e,null),C(U,p,H),C(U,g,H),v(g,_),z&&z.m(_,null),v(_,k),B&&B.m(_,null),v(_,T);for(let j=0;j<w.length;j+=1)w[j]&&w[j].m(_,null);P=!0,A||(E=[ee(_,"submit",$e(n[19])),ee(_,"keydown",n[22])],A=!0)},p(U,H){var De;(!P||H[0]&128)&&l!==(l=U[7].name.replace("pcms_","")+"")&&pe(o,l),(!P||H[0]&128&&a!==(a="#/collections?collectionId="+U[7].id))&&h(s,"href",a),(!P||H[0]&16384)&&pe(c,U[14]);let j=d;d=W(U),d===j?~d&&q[d].p(U,H):(b&&(ae(),N(q[j],1,1,()=>{q[j]=null}),ue()),~d?(b=q[d],b?b.p(U,H):(b=q[d]=L[d](U),b.c()),O(b,1),b.m(e,null)):b=null),!U[6]&&U[9]&&!U[5]?z?(z.p(U,H),H[0]&608&&O(z,1)):(z=Ga(U),z.c(),O(z,1),z.m(_,k)):z&&(ae(),N(z,1,1,()=>{z=null}),ue()),U[12]?B?(B.p(U,H),H[0]&4096&&O(B,1)):(B=Qa(U),B.c(),O(B,1),B.m(_,T)):B&&(ae(),N(B,1,1,()=>{B=null}),ue()),H[0]&142&&(ne=ye(((De=U[7])==null?void 0:De.schema)||[]),ae(),w=bt(w,H,Z,1,U,ne,I,_,Nt,$a,null,Ja),ue()),(!P||H[0]&32)&&J(_,"no-pointer-events",U[5]),(!P||H[0]&2048)&&J(_,"active",U[11]===or)},i(U){if(!P){O(b),O(z),O(B);for(let H=0;H<ne.length;H+=1)O(w[H]);P=!0}},o(U){N(b),N(z),N(B);for(let H=0;H<w.length;H+=1)N(w[H]);P=!1},d(U){U&&(S(e),S(p),S(g)),~d&&q[d].d(),z&&z.d(),B&&B.d();for(let H=0;H<w.length;H+=1)w[H].d();A=!1,Ce(E)}}}function T0(n){let e,t,i,r,s,l,o=n[4]?"Create":"Save changes",a,u,f,c;return{c(){e=y("button"),t=y("span"),t.textContent="Cancel",r=R(),s=y("button"),l=y("span"),a=re(o),h(t,"class","txt"),h(e,"type","button"),h(e,"class","btn btn-transparent"),e.disabled=i=n[10]||n[5],h(l,"class","txt"),h(s,"type","submit"),h(s,"form",n[16]),h(s,"class","btn btn-expanded"),s.disabled=u=!n[13]||n[10],J(s,"btn-loading",n[10]||n[5])},m(m,d){C(m,e,d),v(e,t),C(m,r,d),C(m,s,d),v(s,l),v(l,a),f||(c=ee(e,"click",n[31]),f=!0)},p(m,d){d[0]&1056&&i!==(i=m[10]||m[5])&&(e.disabled=i),d[0]&16&&o!==(o=m[4]?"Create":"Save changes")&&pe(a,o),d[0]&9216&&u!==(u=!m[13]||m[10])&&(s.disabled=u),d[0]&1056&&J(s,"btn-loading",m[10]||m[5])},d(m){m&&(S(e),S(r),S(s)),f=!1,c()}}}function D0(n){let e;return{c(){e=y("p"),e.textContent="no collections"},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function O0(n){let e;return{c(){e=y("div"),e.innerHTML='<span class="loader loader-lg"></span> <h1>Loading collections...</h1>',h(e,"class","placeholder-section m-b-base")},m(t,i){C(t,e,i)},p:G,d(t){t&&S(e)}}}function E0(n){let e,t,i,r;const s=[u0,a0,o0],l=[];function o(a,u){return a[8]&&!a[15].length?0:a[15].length?2:1}return e=o(n),t=l[e]=s[e](n),{c(){t.c(),i=ge()},m(a,u){l[e].m(a,u),C(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?l[e].p(a,u):(ae(),N(l[f],1,1,()=>{l[f]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&S(i),l[e].d(a)}}}const or="form";function M0(n,e,t){let i,r,s,l,o,a,u,f,c,m;Xe(n,fn,x=>t(7,u=x)),Xe(n,ki,x=>t(8,f=x)),Xe(n,as,x=>t(52,c=x)),Xe(n,dn,x=>t(15,m=x));const d=St(),b="record_"+F.randomString(5);let{params:p}=e;Ss(p.collectionId);let g=new URLSearchParams(c),_,k={},T={},w=null,I=!1,P=!1,A={},E={},L=JSON.stringify(k),q=L,W=or,z=!0,B=!0,ne=u;function Z(x){return De(x),P=!0,t(11,W=or),_==null?void 0:_.show()}function te(){if(o&&P)return hi("You have unsaved changes. Do you really want to close this screen?",()=>{U()}),!1;Qi({}),it(),er(`#/collections?collectionId=${u==null?void 0:u.id}`)}function U(){P=!1,te()}function H(){t(28,ne=u)}async function j(x){if(x&&typeof x=="string"){try{return await Ae.collection(u.id).getOne(x)}catch(oe){oe.isAbort||(U(),console.warn("resolveModel:",oe),ws(`Unable to load record with id "${x}"`))}return null}return x}async function De(x){t(5,B=!0),Qi({}),t(2,A={}),t(3,E={}),t(25,k=typeof x=="string"?{id:x,collectionId:u==null?void 0:u.id,collectionName:u==null?void 0:u.name}:x||{}),t(1,T=structuredClone(k)),t(25,k=await j(x)||{}),t(1,T=structuredClone(k)),await nn(),t(9,w=yt()),!w||Tt(T,w)?t(9,w=null):(delete w.password,delete w.passwordConfirm),t(26,L=JSON.stringify(T)),t(5,B=!1)}async function at(x){var _e,Ie;Qi({}),t(25,k=x||{}),t(2,A={}),t(3,E={});const oe=((Ie=(_e=u==null?void 0:u.schema)==null?void 0:_e.filter(Ne=>Ne.type!="file"))==null?void 0:Ie.map(Ne=>Ne.name))||[];for(let Ne in x)oe.includes(Ne)||t(1,T[Ne]=x[Ne],T);await nn(),t(26,L=JSON.stringify(T)),it()}function Ct(){return"record_draft_"+((u==null?void 0:u.id)||"")+"_"+((k==null?void 0:k.id)||"")}function yt(x){try{const oe=window.localStorage.getItem(Ct());if(oe)return JSON.parse(oe)}catch{}return x}function Ht(x){try{window.localStorage.setItem(Ct(),x)}catch(oe){console.warn("updateDraft failure:",oe),window.localStorage.removeItem(Ct())}}function gt(){w&&(t(1,T=w),t(9,w=null))}function Tt(x,oe){var lt;const _e=structuredClone(x||{}),Ie=structuredClone(oe||{}),Ne=(lt=u==null?void 0:u.schema)==null?void 0:lt.filter(Ft=>Ft.type==="file");for(let Ft of Ne)delete _e[Ft.name],delete Ie[Ft.name];const Je=["expand","password","passwordConfirm"];for(let Ft of Je)delete _e[Ft],delete Ie[Ft];return JSON.stringify(_e)==JSON.stringify(Ie)}function it(){t(9,w=null),window.localStorage.removeItem(Ct())}async function ut(x=!0){if(!(I||!a||!(u!=null&&u.id))){t(10,I=!0);try{const oe=qe();let _e;z?_e=await Ae.collection(u.id).create(oe):_e=await Ae.collection(u.id).update(T.id,oe),Qr(z?"Successfully created record.":"Successfully updated record."),it(),x?U():at(_e),te()}catch(oe){Ae.error(oe)}t(10,I=!1)}}function ve(){k!=null&&k.id&&hi("Do you really want to delete the selected record?",()=>Ae.collection(k.collectionId).delete(k.id).then(()=>{te(),Qr("Successfully deleted record."),d("delete",k)}).catch(x=>{Ae.error(x)}))}function qe(){const x=structuredClone(T||{}),oe=new FormData,_e={id:x.id},Ie={};for(const Ne of(u==null?void 0:u.schema)||[])_e[Ne.name]=!0,Ne.type=="json"&&(Ie[Ne.name]=!0);i&&(_e.username=!0,_e.email=!0,_e.emailVisibility=!0,_e.password=!0,_e.passwordConfirm=!0,_e.verified=!0);for(const Ne in x)if(_e[Ne]){if(typeof x[Ne]>"u"&&(x[Ne]=null),Ie[Ne]&&x[Ne]!=="")try{JSON.parse(x[Ne])}catch(Je){const lt={};throw lt[Ne]={code:"invalid_json",message:Je.toString()},new It({status:400,response:{data:lt}})}F.addValueToFormData(oe,Ne,x[Ne])}for(const Ne in A){const Je=F.toArray(A[Ne]);for(const lt of Je)oe.append(Ne,lt)}for(const Ne in E){const Je=F.toArray(E[Ne]);for(const lt of Je)oe.append(Ne+"."+lt,"")}return oe}function Ue(){o?hi("You have unsaved changes. Do you really want to discard them?",()=>{je()}):je()}async function je(){let x=k?structuredClone(k):null;if(x){x.id="",x.created="",x.updated="";const oe=(u==null?void 0:u.schema)||[];for(const _e of oe)_e.type==="file"&&delete x[_e.name]}it(),Z(x),await nn(),t(26,L="")}function rt(x){(x.ctrlKey||x.metaKey)&&x.code=="KeyS"&&(x.preventDefault(),x.stopPropagation(),ut(!1))}const de=()=>te(),K=()=>Ue(),Te=()=>ve(),Ge=()=>gt(),ft=()=>it();function Lt(x){T=x,t(1,T)}function ri(x,oe){n.$$.not_equal(T[oe.name],x)&&(T[oe.name]=x,t(1,T))}function si(x,oe){n.$$.not_equal(T[oe.name],x)&&(T[oe.name]=x,t(1,T))}function Pn(x,oe){n.$$.not_equal(T[oe.name],x)&&(T[oe.name]=x,t(1,T))}function vn(x,oe){n.$$.not_equal(T[oe.name],x)&&(T[oe.name]=x,t(1,T))}function Rn(x,oe){n.$$.not_equal(T[oe.name],x)&&(T[oe.name]=x,t(1,T))}function mn(x,oe){n.$$.not_equal(T[oe.name],x)&&(T[oe.name]=x,t(1,T))}function fe(x,oe){n.$$.not_equal(T[oe.name],x)&&(T[oe.name]=x,t(1,T))}function st(x,oe){n.$$.not_equal(T[oe.name],x)&&(T[oe.name]=x,t(1,T))}function Sn(x,oe){n.$$.not_equal(T[oe.name],x)&&(T[oe.name]=x,t(1,T))}function xt(x,oe){n.$$.not_equal(T[oe.name],x)&&(T[oe.name]=x,t(1,T))}function qn(x,oe){n.$$.not_equal(A[oe.name],x)&&(A[oe.name]=x,t(2,A))}function li(x,oe){n.$$.not_equal(E[oe.name],x)&&(E[oe.name]=x,t(3,E))}function hn(x,oe){n.$$.not_equal(T[oe.name],x)&&(T[oe.name]=x,t(1,T))}return n.$$set=x=>{"params"in x&&t(23,p=x.params)},n.$$.update=()=>{var x,oe;n.$$.dirty[0]&384&&!f&&u.id&&(De(g.get("recordId")),P=!0),n.$$.dirty[0]&128&&t(12,i=(u==null?void 0:u.type)==="auth"),n.$$.dirty[0]&128&&(x=u==null?void 0:u.schema)!=null&&x.find(_e=>_e.type==="editor"),n.$$.dirty[0]&128&&t(30,r=(oe=u==null?void 0:u.schema)==null?void 0:oe.find(_e=>_e.type==="text")),n.$$.dirty[0]&1073741826&&t(14,s=r?T[r.name]:"record"),n.$$.dirty[0]&12&&t(29,l=F.hasNonEmptyProps(A)||F.hasNonEmptyProps(E)),n.$$.dirty[0]&2&&t(27,q=JSON.stringify(T)),n.$$.dirty[0]&738197504&&t(6,o=l||L!=q),n.$$.dirty[0]&33554432&&t(4,z=!k||!k.id),n.$$.dirty[0]&112&&t(13,a=!B&&(z||o)),n.$$.dirty[0]&134217760&&(B||Ht(q)),n.$$.dirty[0]&268435584&&u&&(ne==null?void 0:ne.id)!=(u==null?void 0:u.id)&&H()},[te,T,A,E,z,B,o,u,f,w,I,W,i,a,s,m,b,gt,it,ut,ve,Ue,rt,p,Z,k,L,q,ne,l,r,de,K,Te,Ge,ft,Lt,ri,si,Pn,vn,Rn,mn,fe,st,Sn,xt,qn,li,hn]}class I0 extends ke{constructor(e){super(),we(this,e,M0,E0,be,{params:23,show:24,hide:0},null,[-1,-1,-1])}get show(){return this.$$.ctx[24]}get hide(){return this.$$.ctx[0]}}function xa(n){let e,t,i;return{c(){e=y("div"),e.innerHTML='<figure class="logo"><img src="./images/logo.svg" alt="PocketBase logo" width="40" height="40"/> <span class="txt">Pocket<strong>CMS</strong></span></figure>',t=R(),i=y("div"),h(e,"class","block txt-center m-b-lg"),h(i,"class","clearfix")},m(r,s){C(r,e,s),C(r,t,s),C(r,i,s)},d(r){r&&(S(e),S(t),S(i))}}}function N0(n){let e,t,i,r=!n[0]&&xa();const s=n[1].default,l=ct(s,n,n[2],null);return{c(){e=y("div"),r&&r.c(),t=R(),l&&l.c(),h(e,"class","wrapper wrapper-sm m-b-xl panel-wrapper svelte-lxxzfu")},m(o,a){C(o,e,a),r&&r.m(e,null),v(e,t),l&&l.m(e,null),i=!0},p(o,a){o[0]?r&&(r.d(1),r=null):r||(r=xa(),r.c(),r.m(e,t)),l&&l.p&&(!i||a&4)&&mt(l,s,o,o[2],i?dt(s,o[2],a,null):ht(o[2]),null)},i(o){i||(O(l,o),i=!0)},o(o){N(l,o),i=!1},d(o){o&&S(e),r&&r.d(),l&&l.d(o)}}}function A0(n){let e,t;return e=new Fn({props:{class:"full-page",center:!0,$$slots:{default:[N0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const s={};r&5&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function L0(n,e,t){let{$$slots:i={},$$scope:r}=e,{nobranding:s=!1}=e;return n.$$set=l=>{"nobranding"in l&&t(0,s=l.nobranding),"$$scope"in l&&t(2,r=l.$$scope)},[s,i,r]}class F0 extends ke{constructor(e){super(),we(this,e,L0,A0,be,{nobranding:0})}}function P0(n){let e,t,i,r,s,l,o,a;return{c(){e=y("label"),t=re("Email"),r=R(),s=y("input"),h(e,"for",i=n[8]),h(s,"type","email"),h(s,"id",l=n[8]),s.required=!0,s.autofocus=!0},m(u,f){C(u,e,f),v(e,t),C(u,r,f),C(u,s,f),Be(s,n[0]),s.focus(),o||(a=ee(s,"input",n[4]),o=!0)},p(u,f){f&256&&i!==(i=u[8])&&h(e,"for",i),f&256&&l!==(l=u[8])&&h(s,"id",l),f&1&&s.value!==u[0]&&Be(s,u[0])},d(u){u&&(S(e),S(r),S(s)),o=!1,a()}}}function R0(n){let e,t,i,r,s,l,o,a;return{c(){e=y("label"),t=re("Password"),r=R(),s=y("input"),h(e,"for",i=n[8]),h(s,"type","password"),h(s,"id",l=n[8]),s.required=!0},m(u,f){C(u,e,f),v(e,t),C(u,r,f),C(u,s,f),Be(s,n[1]),o||(a=ee(s,"input",n[5]),o=!0)},p(u,f){f&256&&i!==(i=u[8])&&h(e,"for",i),f&256&&l!==(l=u[8])&&h(s,"id",l),f&2&&s.value!==u[1]&&Be(s,u[1])},d(u){u&&(S(e),S(r),S(s)),o=!1,a()}}}function q0(n){let e,t,i,r,s,l,o,a,u,f,c;return r=new et({props:{class:"form-field required",name:"identity",$$slots:{default:[P0,({uniqueId:m})=>({8:m}),({uniqueId:m})=>m?256:0]},$$scope:{ctx:n}}}),l=new et({props:{class:"form-field required",name:"password",$$slots:{default:[R0,({uniqueId:m})=>({8:m}),({uniqueId:m})=>m?256:0]},$$scope:{ctx:n}}}),{c(){e=y("form"),t=y("div"),t.innerHTML="<h4>Admin sign in</h4>",i=R(),$(r.$$.fragment),s=R(),$(l.$$.fragment),o=R(),a=y("button"),a.innerHTML='<span class="txt">Login</span> <i class="ri-arrow-right-line"></i>',h(t,"class","content txt-center m-b-base"),h(a,"type","submit"),h(a,"class","btn btn-lg btn-block btn-next"),J(a,"btn-disabled",n[2]),J(a,"btn-loading",n[2]),h(e,"class","block")},m(m,d){C(m,e,d),v(e,t),v(e,i),Q(r,e,null),v(e,s),Q(l,e,null),v(e,o),v(e,a),u=!0,f||(c=ee(e,"submit",$e(n[3])),f=!0)},p(m,d){const b={};d&769&&(b.$$scope={dirty:d,ctx:m}),r.$set(b);const p={};d&770&&(p.$$scope={dirty:d,ctx:m}),l.$set(p),(!u||d&4)&&J(a,"btn-disabled",m[2]),(!u||d&4)&&J(a,"btn-loading",m[2])},i(m){u||(O(r.$$.fragment,m),O(l.$$.fragment,m),u=!0)},o(m){N(r.$$.fragment,m),N(l.$$.fragment,m),u=!1},d(m){m&&S(e),X(r),X(l),f=!1,c()}}}function j0(n){let e,t;return e=new F0({props:{$$slots:{default:[q0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const s={};r&519&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function V0(n,e,t){let i;Xe(n,as,c=>t(6,i=c));const r=new URLSearchParams(i);let s=r.get("demoEmail")||"",l=r.get("demoPassword")||"",o=!1;function a(){if(!o)return t(2,o=!0),Ae.collection("pcms__users").authWithPassword(s,l).then(()=>{Qm(),Ti("/")}).catch(()=>{ws("Invalid login credentials.")}).finally(()=>{t(2,o=!1)})}function u(){s=this.value,t(0,s)}function f(){l=this.value,t(1,l)}return[s,l,o,a,u,f]}class W0 extends ke{constructor(e){super(),we(this,e,V0,j0,be,{})}}const H0={"/login":Wi({component:W0,conditions:[n=>!Ae.authStore.isValid],userData:{showAppSidebar:!1}}),"/collections":Wi({component:Mg,conditions:[n=>Ae.authStore.isValid],userData:{showAppSidebar:!0}}),"/collections/:collectionId/":Wi({component:I0,conditions:[n=>Ae.authStore.isValid],userData:{showAppSidebar:!0}}),"*":Wi({component:mh,userData:{showAppSidebar:!1}})};function eu(n){let e,t,i,r,s,l,o,a,u,f,c,m,d,b,p,g;return d=new Ii({props:{class:"dropdown dropdown-nowrap dropdown-upside dropdown-left",$$slots:{default:[U0]},$$scope:{ctx:n}}}),{c(){var _;e=y("aside"),t=y("a"),t.innerHTML='<img src="./images/logo.svg" alt="PocketBase logo" width="40" height="40"/>',i=R(),r=y("nav"),s=y("a"),s.innerHTML='<i class="ri-database-2-line"></i>',l=R(),o=y("a"),o.innerHTML='<i class="ri-tools-line"></i>',a=R(),u=y("div"),f=y("img"),m=R(),$(d.$$.fragment),h(t,"href","/"),h(t,"class","logo logo-sm"),h(s,"href","/collections"),h(s,"class","menu-item"),h(s,"aria-label","Collections"),h(o,"href","/settings"),h(o,"class","menu-item"),h(o,"aria-label","Settings"),h(r,"class","main-menu"),rn(f.src,c="./images/avatars/avatar"+(((_=n[1])==null?void 0:_.avatar)||0)+".svg")||h(f,"src",c),h(f,"alt","Avatar"),h(f,"aria-hidden","true"),h(u,"tabindex","0"),h(u,"role","button"),h(u,"aria-label","Logged admin menu"),h(u,"class","thumb thumb-circle link-hint closable"),h(e,"class","app-sidebar")},m(_,k){C(_,e,k),v(e,t),v(e,i),v(e,r),v(r,s),v(r,l),v(r,o),v(e,a),v(e,u),v(u,f),v(u,m),Q(d,u,null),b=!0,p||(g=[He(Bi.call(null,t)),He(Bi.call(null,s)),He(Fs.call(null,s,{path:"/collections/?.*",className:"current-route"})),He(Ze.call(null,s,{text:"Collections",position:"right"})),He(Bi.call(null,o)),He(Fs.call(null,o,{path:"/settings/?.*",className:"current-route"})),He(Ze.call(null,o,{text:"Settings",position:"right"}))],p=!0)},p(_,k){var w;(!b||k&2&&!rn(f.src,c="./images/avatars/avatar"+(((w=_[1])==null?void 0:w.avatar)||0)+".svg"))&&h(f,"src",c);const T={};k&64&&(T.$$scope={dirty:k,ctx:_}),d.$set(T)},i(_){b||(O(d.$$.fragment,_),b=!0)},o(_){N(d.$$.fragment,_),b=!1},d(_){_&&S(e),X(d),p=!1,Ce(g)}}}function U0(n){let e,t,i;return{c(){e=y("button"),e.innerHTML='<i class="ri-logout-circle-line" aria-hidden="true"></i> <span class="txt">Logout</span>',h(e,"type","button"),h(e,"class","dropdown-item closable"),h(e,"role","menuitem")},m(r,s){C(r,e,s),t||(i=ee(e,"click",n[4]),t=!0)},p:G,d(r){r&&S(e),t=!1,i()}}}function z0(n){var m;let e,t,i,r,s,l,o,a,u,f,c=((m=n[1])==null?void 0:m.id)&&n[0]&&eu(n);return s=new Cc({props:{routes:H0}}),s.$on("routeLoading",n[2]),s.$on("conditionsFailed",n[3]),o=new lh({}),u=new Rm({}),{c(){e=R(),t=y("div"),c&&c.c(),i=R(),r=y("div"),$(s.$$.fragment),l=R(),$(o.$$.fragment),a=R(),$(u.$$.fragment),document.title="PocketCMS",h(r,"class","app-body"),h(t,"class","app-layout")},m(d,b){C(d,e,b),C(d,t,b),c&&c.m(t,null),v(t,i),v(t,r),Q(s,r,null),v(r,l),Q(o,r,null),C(d,a,b),Q(u,d,b),f=!0},p(d,[b]){var p;(p=d[1])!=null&&p.id&&d[0]?c?(c.p(d,b),b&3&&O(c,1)):(c=eu(d),c.c(),O(c,1),c.m(t,i)):c&&(ae(),N(c,1,1,()=>{c=null}),ue())},i(d){f||(O(c),O(s.$$.fragment,d),O(o.$$.fragment,d),O(u.$$.fragment,d),f=!0)},o(d){N(c),N(s.$$.fragment,d),N(o.$$.fragment,d),N(u.$$.fragment,d),f=!1},d(d){d&&(S(e),S(t),S(a)),c&&c.d(),X(s),X(o),X(u,d)}}}function Y0(n,e,t){let i;Xe(n,Df,u=>t(1,i=u));let r=!1,s;function l(u){var f,c,m,d;((f=u==null?void 0:u.detail)==null?void 0:f.location)!==s&&(t(0,r=!!((m=(c=u==null?void 0:u.detail)==null?void 0:c.userData)!=null&&m.showAppSidebar)),s=(d=u==null?void 0:u.detail)==null?void 0:d.location,Qi({}),wf())}function o(){Ti("/")}function a(){Ae.logout()}return[r,i,l,o,a]}class B0 extends ke{constructor(e){super(),we(this,e,Y0,z0,be,{})}}new B0({target:document.getElementById("app")});export{F as C,ke as S,h as a,lc as b,C as c,S as d,y as e,St as f,le as g,Xe as h,we as i,dn as j,G as n,At as o,be as s};
